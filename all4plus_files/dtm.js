window._satellite=window._satellite||{},window._satellite.container={buildInfo:{buildDate:"2019-11-21T12:18:07Z",environment:"production",turbineBuildDate:"2019-06-25T22:25:24Z",turbineVersion:"25.6.0"},dataElements:{"Search_Successful Search Brand_IP":{defaultValue:"not_set",forceLowerCase:!0,storageDuration:"pageview",modulePath:"core/src/lib/dataElements/domAttribute.js",settings:{elementProperty:"text",elementSelector:"span.prediction--title"}},"Search_No. of Search Results_Clean":{storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return _satellite.getVar("Search_No. of Search Results_Raw").replace("Found ","").replace(" results","")}}},"Pageview Event - Extint":{forceLowerCase:!0,storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=JSON.parse(JSON.stringify(window.dataLayer||[])).reverse().filter(function(e){return"pageview"==e.event})[0],a=function(e){var a,t,r=e,n=document.cookie.indexOf(r+"="),i=document.cookie.indexOf(r+"=;");return-1!=n&&-1==i&&(a=n+r.length+1,-1==(t=document.cookie.indexOf(";",a))&&(t=document.cookie.length),n=decodeURI(document.cookie.substring(a,t))),n}("omn_extint");if(null!==e&&void 0!==e)return e.hasOwnProperty("all4.extra_internal_campaign")?e["all4.extra_internal_campaign"]:-1!==a?a:""}}},"Video Error Category_HTML5":{forceLowerCase:!0,storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=JSON.parse(JSON.stringify(window.dataLayer||[])).reverse().filter(function(e){return e.event.match(/error/)})[0];if(null!==e&&void 0!==e)return e["all4.error_category"]}}},"User GUID":{defaultValue:"not_signed_in",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=JSON.parse(JSON.stringify(window.dataLayer||[])).reverse(),a=e.filter(function(e){return"user_authenticated"==e.event})[0],t=e.filter(function(e){return"pageview"==e.event})[0];return null!==a&&void 0!==a&&""!==a.user_guid?a.user_guid:null!==t&&void 0!==t&&""!==t["all4.viewer_guid"]?t["all4.viewer_guid"]:"not_signed_in"}}},Channel:{forceLowerCase:!0,storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return"channel4.com"}}},"Video Session ID_HTML5":{defaultValue:"not_set",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=JSON.parse(JSON.stringify(window.dataLayer||[])).reverse().filter(function(e){return"video_loaded"==e.event})[0];if(null!==e&&void 0!==e)return e.video_session_id}}},"My4 General Interaction Type":{storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=JSON.parse(JSON.stringify(window.dataLayer||[])).reverse().filter(function(e){return e.event.match(/watching_delete|my_list_delete|history_delete/i)})[0];if(null!==e&&void 0!==e)return e.general_interaction_type}}},"Page URL":{forceLowerCase:!0,storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return window.location.href}}},"Page Programme Brand":{forceLowerCase:!0,cleanText:!0,storageDuration:"pageview",modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"C4.Programmes.Brand.webSafeTitle"}},"User Sign In Flag":{defaultValue:"not_signed_in",forceLowerCase:!0,storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){if("not_signed_in"!==_satellite.getVar("User GUID"))return"signed_in"}}},"URL Query String":{storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return window.location.search.substring(1)}}},"Video Interaction Type_HTML5":{forceLowerCase:!0,storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=JSON.parse(JSON.stringify(window.dataLayer||[])).reverse().filter(function(e){return e.event.match(/video_interaction/)})[0];if(null!==e&&void 0!==e)return e.video_interaction_type}}},"Video Event Flag_Playhead Moved_HTML5":{forceLowerCase:!0,storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=JSON.parse(JSON.stringify(window.dataLayer||[])).reverse().filter(function(e){return"video_playhead_moved"==e.event})[0];if(null!==e&&void 0!==e)return e.event}}},"Search String > 3":{storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return"not_set"!=_satellite.getVar("Search_Successful Search Term")&&_satellite.getVar("Search_Successful Search Term").length>=3}}},"Video Error Message_HTML5":{forceLowerCase:!0,storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=JSON.parse(JSON.stringify(window.dataLayer||[])).reverse().filter(function(e){return e.event.match(/error/)})[0];if(null!==e&&void 0!==e)return e["all4.video_error_message"]}}},"Taste Segment":{storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return""}}},"Video Event Flag_Completion_ShortForm":{forceLowerCase:!0,storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){function e(e){return e.event.match(/sf_video_progress_100/)}var a=JSON.parse(dataLayer).reverse(),t=a.filter(e)[0];if(null!==t&&void 0!==t){var r=a.filter(e).length;return t.event+" - "+r}}}},"Video Event Flag_Completion_HTML5_Credit_Flag":{forceLowerCase:!0,storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){function e(e){return"video_completion_flag"==e.event}var a=JSON.stringify(window.dataLayer||[]),t=JSON.parse(a).reverse(),r=t.filter(e)[0];if(null!==r&&void 0!==r){var n=t.filter(e).length;return r.event+" - "+n}}}},"Video Event Flag_Play_HTML5":{forceLowerCase:!0,storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){function e(e){return"video_play"==e.event}var a=JSON.stringify(window.dataLayer||[]),t=JSON.parse(a).reverse(),r=t.filter(e)[0];if(null!==r&&void 0!==r){var n=t.filter(e).length;return r.event+" - "+n}}}},"Video Player Name_HTML5":{defaultValue:"not_set",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=JSON.parse(JSON.stringify(window.dataLayer||[])).reverse().filter(function(e){return"player_loaded"==e.event})[0];if(null!==e&&void 0!==e)return e.player_name}}},"Video Event Flag_Play_ShortForm":{forceLowerCase:!0,storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){function e(e){return"sf_video_progress_0"==e.event}var a=JSON.stringify(window.dataLayer||[]),t=JSON.parse(a).reverse(),r=t.filter(e)[0];if(void 0!==r){var n=t.filter(e).length;return r.event+" - "+n}}}},"Video Total Seconds Watched_HTML5":{defaultValue:"0",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){if("undefined"!=typeof dataLayer&&"[object Array]"===Object.prototype.toString.call(dataLayer)&&null!=dataLayer[0])return dataLayer[dataLayer.length-1].video_total_time_watched}}},"Video Contract ID_HTML5":{defaultValue:"not_set",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){if("undefined"!=typeof dataLayer&&"[object Array]"===Object.prototype.toString.call(dataLayer)&&null!=dataLayer[0])return dataLayer[dataLayer.length-1].video_contract_id}}},"Pageview Event - Get Player Type":{forceLowerCase:!0,storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=JSON.parse(JSON.stringify(window.dataLayer||[])).reverse().filter(function(e){return"pageview"==e.event})[0];if(null!==e&&void 0!==e)return e["all4.video_player"]}}},"Page Name - 3 levels only":{forceLowerCase:!0,storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=window.location.pathname.split("/"),a=_satellite.getVar("Site Name");for(i=1;i<3;i++)e[i]&&(a+=":",a+=e[i].toLowerCase().replace(/__/g,"_").replace(/-/g,"_"));return e[1]||(a+=":homepage"),a}}},"Video Event Flag_Milestone 25percent_HTML5":{forceLowerCase:!0,storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){function e(e){return e.event.match(/video_milestone_25/)}var a=JSON.parse(JSON.stringify(window.dataLayer||[])).reverse(),t=a.filter(e)[0];if(null!==t&&void 0!==t){var r=a.filter(e).length;return t.event+" - "+r}}}},"Video Interaction Name_HTML5":{forceLowerCase:!0,storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=JSON.parse(JSON.stringify(window.dataLayer||[])).reverse().filter(function(e){return e.event.match(/video_interaction/)})[0];if(null!==e&&void 0!==e)return e.video_interaction_name}}},"User Cookie s_vi":{storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){if(cookie_vi=function(e){var a=("; "+document.cookie).split("; "+e+"=");if(2==a.length)return a.pop().split(";").shift()}("s_vi"))return cookie_vi.match(/[A-Za-z0-9]*-[A-Za-z0-9]*/gim)}}},"Page Name - 2 levels only":{forceLowerCase:!0,storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=window.location.pathname.split("/"),a=_satellite.getVar("Site Name");for(i=1;i<2;i++)a+=":",a+=e[i].toLowerCase().replace(/__/g,"_").replace(/-/g,"_");return e[1]||(a+="homepage"),a}}},"Video Product String_Shortform":{defaultValue:"not_set",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return";short_form:"+_satellite.getVar("Video Type_Shortform")+":"+_satellite.getVar("Video Contract ID_Shortform")}}},Server:{forceLowerCase:!0,storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return window.location.hostname}}},"Search_Unsuccessful Search No. Results":{forceLowerCase:!0,storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return _satellite.getVar("Unsuccessful_search_no_results")}}},"Video Programme Brand_HTML5":{defaultValue:"not_set",forceLowerCase:!0,storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=JSON.parse(JSON.stringify(window.dataLayer||[])).reverse().filter(function(e){return"video_loaded"==e.event})[0];if(null!==e&&void 0!==e)return e.programme_brand.replace(/ /g,"_")}}},"Video Event Flag_Video Interaction_HTML5":{forceLowerCase:!0,storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){function e(e){return e.event.match(/video_interaction/)}var a=JSON.parse(JSON.stringify(window.dataLayer||[])).reverse(),t=a.filter(e)[0];if(null!==t&&void 0!==t){var r=a.filter(e).length;return t.event+" - "+r}}}},"User Visitor ID":{storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=JSON.parse(JSON.stringify(window.dataLayer||[])).reverse().filter(function(e){return"user_authenticated"==e.event})[0];if(null!==e&&void 0!==e)return e.user_visitor_id}}},"Search String Exists":{defaultValue:"false",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return"not_set"!=_satellite.getVar("Search_Successful Search Term")}}},"Top Level Feature":{forceLowerCase:!0,storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=JSON.parse(JSON.stringify(window.dataLayer||[])).reverse().filter(function(e){return"pageview"==e.event})[0];if(null!==e&&void 0!==e)return e["all4.top_level_feature"]}}},"Video Completion Position_HTML5":{forceLowerCase:!0,storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=JSON.parse(JSON.stringify(window.dataLayer||[])).reverse().filter(function(e){return e.event.match(/video_completion/)})[0];if(null!==e&&void 0!==e)return e.video_end_point_seconds}}},"Page Title":{forceLowerCase:!0,cleanText:!0,storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return document.title}}},"Subscription State":{forceLowerCase:!0,storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=JSON.parse(JSON.stringify(window.dataLayer||[])).reverse().filter(function(e){return"video_attempt_to_play"==e.event})[0];if(null!==e&&void 0!==e)return e["all4.subscription_status"]}}},"Search_Successful Search Term":{defaultValue:"not_set",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/domAttribute.js",settings:{elementProperty:"value",elementSelector:'input[type="search"]'}},"Video Player Name:Version_HTML5":{storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return _satellite.getVar("Video Player Name_HTML5")+":"+_satellite.getVar("Video Player Version_HTML5")}}},"Video Event Flag_Pause_HTML5":{forceLowerCase:!0,storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){function e(e){return"video_pause"==e.event}var a=JSON.stringify(window.dataLayer||[]),t=JSON.parse(a).reverse(),r=t.filter(e)[0];if(null!==r&&void 0!==r){var n=t.filter(e).length;return r.event+" - "+n}}}},"Page Name":{forceLowerCase:!0,storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=window.location.pathname.split("/"),a=_satellite.getVar("Site Name");for(i=1;i<e.length;i++)e[i]&&(a+=":",a+=e[i].toLowerCase().replace(/__/g,"_").replace(/-/g,"_"));return e[1]||(a+=":homepage"),a}}},"Pageview Event - Page Href":{defaultValue:"window.location",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=JSON.parse(JSON.stringify(window.dataLayer||[])).reverse().filter(function(e){return"pageview"==e.event})[0];if(null!==e&&void 0!==e)return e.page_href?e.page_href:e["all4.page_href"]}}},"DataLayer Events Array":{storageDuration:"pageview",modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"dataLayer"}},"Search_Unsuccessful Search Term":{storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return _satellite.getVar("Unsuccessful_search_term")}}},"Video Event Flag_Completion_HTML5_Milestone":{forceLowerCase:!0,storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){function e(e){return"video_completion_milestone"==e.event}var a=JSON.stringify(window.dataLayer||[]),t=JSON.parse(a).reverse(),r=t.filter(e)[0];if(null!==r&&void 0!==r){var n=t.filter(e).length;return r.event+" - "+n}}}},BC_Flag:{defaultValue:"not_set",forceLowerCase:!0,cleanText:!0,storageDuration:"pageview",modulePath:"core/src/lib/dataElements/domAttribute.js",settings:{elementProperty:"id",elementSelector:"video"}},"Video Contract ID_HTML5 (Back UP)":{storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return window.location.pathname.split("/")[4]}}},"Video Error Code_HTML5":{forceLowerCase:!0,storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=JSON.parse(JSON.stringify(window.dataLayer||[])).reverse().filter(function(e){return e.event.match(/error/)})[0];if(null!==e&&void 0!==e)return e["all4.error_code"]}}},"Video Broadcast Date Offset_HTML5":{storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=JSON.parse(JSON.stringify(window.dataLayer||[])).reverse().filter(function(e){return"video_loaded"==e.event})[0];if(null!==e&&void 0!==e)return e.programme_broadcast_date_offset_days}}},"Video Event Flag_Milestone 75percent_HTML5":{forceLowerCase:!0,storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){function e(e){return e.event.match(/video_milestone_75/)}var a=JSON.parse(JSON.stringify(window.dataLayer||[])).reverse(),t=a.filter(e)[0];if(null!==t&&void 0!==t){var r=a.filter(e).length;return t.event+" - "+r}}}},"Pageview Event - Intcmp":{forceLowerCase:!0,storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=JSON.parse(JSON.stringify(window.dataLayer||[])).reverse().filter(function(e){return"pageview"==e.event})[0],a=function(e){var a,t,r=e,n=document.cookie.indexOf(r+"="),i=document.cookie.indexOf(r+"=;");return-1!=n&&-1==i&&(a=n+r.length+1,-1==(t=document.cookie.indexOf(";",a))&&(t=document.cookie.length),n=decodeURI(document.cookie.substring(a,t))),n}("omn_intcmp");if(null!==e&&void 0!==e)return e.hasOwnProperty("all4.internal_campaign")?e["all4.internal_campaign"]:-1!==a?a:""}}},"Video Error Dev Category_HTML5":{storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=JSON.parse(JSON.stringify(window.dataLayer||[])).reverse().filter(function(e){return e.event.match(/error/)})[0];if(null!==e&&void 0!==e)return e.error_developer_category}}},"User Segment":{storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=JSON.parse(JSON.stringify(window.dataLayer||[])).reverse().filter(function(e){return"pageview"==e.event})[0];if(null!==e&&void 0!==e)return e["all4.segments"]}}},"Video Player Version_HTML5":{defaultValue:"not_set",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=JSON.parse(JSON.stringify(window.dataLayer||[])).reverse().filter(function(e){return"player_loaded"==e.event})[0];if(null!==e&&void 0!==e)return e.player_version}}},"Video Event Flag_Player State Change_HTML5":{defaultValue:"embedded",forceLowerCase:!0,storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=JSON.parse(JSON.stringify(window.dataLayer||[])).reverse().filter(function(e){return"player_state_change"==e.event})[0];if(null!==e&&void 0!==e)return e.player_state}}},"Video Event Flag_Attempt_Play_HTML5":{forceLowerCase:!0,storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){function e(e){return"video_attempt_to_play"==e.event}var a=JSON.stringify(window.dataLayer||[]),t=JSON.parse(a).reverse(),r=t.filter(e)[0];if(null!==r&&void 0!==r){var n=t.filter(e).length;return r.event+" - "+n}}}},"Video Event Flag_Milestone 50percent_HTML5":{forceLowerCase:!0,storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){function e(e){return e.event.match(/video_milestone_50/)}var a=JSON.parse(JSON.stringify(window.dataLayer||[])).reverse(),t=a.filter(e)[0];if(null!==t&&void 0!==t){var r=a.filter(e).length;return t.event+" - "+r}}}},"Pageview Event - Cntsrc":{forceLowerCase:!0,storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=JSON.parse(JSON.stringify(window.dataLayer||[])).reverse().filter(function(e){return"pageview"==e.event})[0],a=function(e){var a,t,r=e,n=document.cookie.indexOf(r+"="),i=document.cookie.indexOf(r+"=;");return-1!=n&&-1==i&&(a=n+r.length+1,-1==(t=document.cookie.indexOf(";",a))&&(t=document.cookie.length),n=decodeURI(document.cookie.substring(a,t))),n}("omn_cntsrc");if(null!==e&&void 0!==e)return e.hasOwnProperty("all4.external_campaign")?e["all4.external_campaign"]:-1!==a?a:""}}},"My4 General Interaction Name":{storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=JSON.parse(JSON.stringify(window.dataLayer||[])).reverse().filter(function(e){return e.event.match(/watching_delete|my_list_delete|history_delete/i)})[0];if(null!==e&&void 0!==e)return e.general_interaction_name}}},"Video Contract ID_Shortform":{defaultValue:"not_set",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){if("undefined"!=typeof dataLayer&&"[object Array]"===Object.prototype.toString.call(dataLayer)&&null!=dataLayer[0])return dataLayer[dataLayer.length-1].sf_video_id}}},"Video Session ID_Shortform":{defaultValue:"not_set",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){}}},"Search_No. of Search Results_Raw":{defaultValue:"0",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/domAttribute.js",settings:{elementProperty:"text",elementSelector:"div.overlay__hiddenInput"}},"Previous Page Name":{storageDuration:"pageview",modulePath:"core/src/lib/dataElements/cookie.js",settings:{name:"s_c4_gppn"}},"Video Event Flag_Error_HTML5":{forceLowerCase:!0,storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){function e(e){return e.event.match(/error/)}var a=JSON.stringify(window.dataLayer||[]),t=JSON.parse(a).reverse(),r=t.filter(e)[0];if(null!==r&&void 0!==r){var n=t.filter(e).length;return r.event+" - "+n}}}},"Video Product String_HTML5":{defaultValue:"not_set",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return"not_set"!=_satellite.getVar("Video Contract ID_HTML5")?";4od:"+_satellite.getVar("Video Programme Type_HTML5")+":"+_satellite.getVar("Video Contract ID_HTML5")+";;;event130="+_satellite.getVar("Video Total Seconds Watched_HTML5"):";4od:"+_satellite.getVar("Video Programme Type_HTML5")+":"+_satellite.getVar("Video Contract ID_HTML5 (Back UP)")+";;;event130="+_satellite.getVar("Video Total Seconds Watched_HTML5")}}},"Device TimeStamp":{storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return(new Date).toISOString()}}},"Video Error Sandbox_HTML5":{forceLowerCase:!0,storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=JSON.parse(JSON.stringify(window.dataLayer||[])).reverse().filter(function(e){return e.event.match(/error/)})[0];if(null!==e&&void 0!==e)return e.sandbox}}},"Video Event Flag_Resume _HTML5":{forceLowerCase:!0,storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=JSON.parse(JSON.stringify(window.dataLayer||[])).reverse().filter(function(e){return e.event.match(/video_resume/)})[0];if(null!==e&&void 0!==e)return e.event}}},"Site Name":{storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return"c4"}}},"Video Programme Type_HTML5":{defaultValue:"not_set",forceLowerCase:!0,storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=JSON.parse(JSON.stringify(window.dataLayer||[])).reverse().filter(function(e){return"video_loaded"==e.event})[0];if(null!==e&&void 0!==e)return e.programme_type}}},"Video Attempt_Play_Guidance/Restriction_HTML5 ":{forceLowerCase:!0,storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=JSON.parse(JSON.stringify(window.dataLayer||[])).reverse().filter(function(e){return"video_attempt_to_play"==e.event})[0];if(null!==e&&void 0!==e)return e.restriction}}},"DataLayer Events Last Event Name":{storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){if("undefined"!=typeof dataLayer&&"[object Array]"===Object.prototype.toString.call(dataLayer)&&null!=dataLayer[0])return dataLayer[dataLayer.length-1].event}}},"Search_Unsuccessful Search Type":{forceLowerCase:!0,storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return _satellite.getVar("Unsuccessful_search_type")}}}},extensions:{"adobe-analytics":{displayName:"Adobe Analytics",modules:{"adobe-analytics/src/lib/actions/sendBeacon.js":{name:"send-beacon",displayName:"Send Beacon",script:function(e,a,t,r){"use strict";var n=t("../sharedModules/getTracker"),i=function(e){return e&&e.nodeName&&"a"===e.nodeName.toLowerCase()},o=function(e,a,t){if("page"===a.type)r.logger.info("Firing page view beacon."),e.t();else{var n={linkType:a.linkType||"o",linkName:a.linkName||(o=t,i(o)?o.innerHTML:"link clicked")};r.logger.info("Firing link track beacon using the values: "+JSON.stringify(n)+"."),e.tl(i(t)?t:"true",n.linkType,n.linkName)}var o};e.exports=function(e,a){return n().then(function(t){o(t,e,a.element)},function(e){r.logger.error("Cannot send beacon: "+e)})}}},"adobe-analytics/src/lib/actions/setVariables.js":{name:"set-variables",displayName:"Set Variables",script:function(e,a,t,r){"use strict";var n=t("../sharedModules/getTracker"),i=t("../helpers/applyTrackerVariables");e.exports=function(e,a){return n().then(function(t){r.logger.info("Set variables on the tracker."),i(t,e.trackerProperties),e.customSetup&&e.customSetup.source&&e.customSetup.source.call(a.element,a,t)},function(e){r.logger.error("Cannot set variables: "+e)})}}},"adobe-analytics/src/lib/actions/clearVariables.js":{name:"clear-variables",displayName:"Clear Variables",script:function(e,a,t,r){"use strict";var n=t("../sharedModules/getTracker");e.exports=function(){return n().then(function(e){e.clearVars&&(r.logger.info("Clear variables."),e.clearVars())},function(e){r.logger.error("Cannot clear variables: "+e)})}}},"adobe-analytics/src/lib/sharedModules/getTracker.js":{script:function(e,a,t,r){"use strict";var n,i,o=t("@adobe/reactor-cookie"),s=t("@adobe/reactor-promise"),l=t("@adobe/reactor-window"),u=t("../helpers/augmenters"),c=t("@adobe/reactor-load-script"),p=t("../helpers/applyTrackerVariables"),d=t("../helpers/loadLibrary"),m=t("../helpers/generateVersion")(r.buildInfo.turbineBuildDate),v=r.getSharedModule("adobe-mcid","mcid-instance"),f=function(e){return s.all(u.map(function(a){var t;try{t=a(e)}catch(e){setTimeout(function(){throw e})}return s.resolve(t)})).then(function(){return e})},g=function(e){return v&&(r.logger.info("Setting MCID instance on the tracker."),e.visitor=v),e},y=function(e){return r.logger.info('Setting version on tracker: "'+m+'".'),void 0!==e.tagContainerMarker?e.tagContainerMarker=m:"string"==typeof e.version&&e.version.substring(e.version.length-5)!=="-"+m&&(e.version+="-"+m),e},h=(n=r.getExtensionSettings(),(i=n.trackingCookieName)&&"true"!==o.get(i)?s.reject("EU compliance was not acknowledged by the user."):d(n).then(f).then(g).then(y).then(function(e,a,t){return"beforeSettings"===a.loadPhase&&a.source&&(r.logger.info("Calling custom script before settings."),a.source.call(l,t)),p(t,e||{}),"beforeSettings"!==a.loadPhase&&a.source&&(r.logger.info("Calling custom script after settings."),a.source.call(l,t)),t}.bind(null,n.trackerProperties,n.customSetup||{})).then(function(e,a){var t=e.moduleProperties;if(t&&t.audienceManager&&t.audienceManager.config&&l._satellite&&l._satellite.company&&l._satellite.company.orgId){var n={namespace:l._satellite.company.orgId};t.audienceManager.config.visitorService=n;var i=r.getHostedLibFileUrl("AppMeasurement_Module_AudienceManagement.js");return c(i).then(function(){return a.loadModule("AudienceManagement"),r.logger.info("Initializing AudienceManagement module"),a.AudienceManagement.setup(t.audienceManager.config),a})}return a}.bind(null,n)));e.exports=function(){return h}},name:"get-tracker",shared:!0},"adobe-analytics/src/lib/sharedModules/augmentTracker.js":{name:"augment-tracker",shared:!0,script:function(e,a,t,r){"use strict";var n=t("../helpers/augmenters");e.exports=function(e){n.push(e)}}},"adobe-analytics/src/lib/helpers/augmenters.js":{script:function(e,a,t,r){"use strict";e.exports=[]}},"adobe-analytics/src/lib/helpers/applyTrackerVariables.js":{script:function(e,a,t,r){"use strict";var n=t("@adobe/reactor-query-string"),i=t("@adobe/reactor-window"),o=/eVar([0-9]+)/,s=/prop([0-9]+)/,l=new RegExp("^(eVar[0-9]+)|(prop[0-9]+)|(hier[0-9]+)|campaign|purchaseID|channel|server|state|zip|pageType$"),u=function(e,a,t){return t.indexOf(e)===a},c=function(e,a,t){e[a]=t[a].join(",")},p=function(e,a,t){var r=t.dynamicVariablePrefix||"D=";t[a].forEach(function(a){var t;if("value"===a.type)t=a.value;else{var n=o.exec(a.value);if(n)t=r+"v"+n[1];else{var i=s.exec(a.value);i&&(t=r+"c"+i[1])}}e[a.name]=t})},d={linkDownloadFileTypes:c,linkExternalFilters:c,linkInternalFilters:c,hierarchies:function(e,a,t){t[a].forEach(function(a){e[a.name]=a.sections.join(a.delimiter)})},props:p,eVars:p,campaign:function(e,a,t){if("queryParam"===t[a].type){var r=n.parse(i.location.search);e[a]=r[t[a].value]}else e[a]=t[a].value},events:function(e,a,t){var r=t[a].map(function(e){var a=e.name;return e.value&&(a=[a,e.value].join("=")),e.id&&(a=[a,e.id].join(":")),a});e[a]=r.join(",")}};e.exports=function(e,a){var t={};a=a||{},Object.keys(a).forEach(function(e){var r=d[e],n=a[e];r?r(t,e,a):t[e]=n}),t.events&&e.events&&e.events.length>0&&(t.events=e.events+","+t.events);var n=a&&a.events&&a.events.length>0,i=function(e,a,t){var r=Object.keys(a).filter(l.test.bind(l));return t&&r.push("events"),(r=r.concat((e.linkTrackVars||"").split(","))).filter(function(e,a){return"None"!==e&&e&&u(e,a,r)}).join(",")}(e,t,n);i&&(t.linkTrackVars=i);var o=function(e,a){var t=a.map(function(e){return e.name});return(t=t.concat((e.linkTrackEvents||"").split(","))).filter(function(e,a){return"None"!==e&&u(e,a,t)}).join(",")}(e,a.events||[]);o&&(t.linkTrackEvents=o),r.logger.info('Applying the following properties on tracker: "'+JSON.stringify(t)+'".'),Object.keys(t).forEach(function(a){e[a]=t[a]})}}},"adobe-analytics/src/lib/helpers/loadLibrary.js":{script:function(e,a,t,r){"use strict";var n=t("@adobe/reactor-load-script"),i=t("@adobe/reactor-window"),o=t("@adobe/reactor-promise"),s="managed",l="preinstalled",u="remote",c="custom",p=function(e){return r.logger.info("Loading AppMeasurement script from: "+e+"."),n(e)},d=function(e){var a=e.production;return e[r.buildInfo.environment]&&(a=e[r.buildInfo.environment]),a.join(",")},m=function(e){var a=d(e.libraryCode.accounts);return p(r.getHostedLibFileUrl("AppMeasurement.js")).then(function(e,a){if(!i.s_gi)throw new Error("Unable to create AppMeasurement tracker, `s_gi` function not found."+i.AppMeasurement);r.logger.info('Creating AppMeasurement tracker with these report suites: "'+a+'"');var t=i.s_gi(a);return e.libraryCode.scopeTrackerGlobally&&(r.logger.info("Setting the tracker as window.s"),i.s=t),t}.bind(null,e,a))},v=function(e,a){if(e.libraryCode.accounts)if(a.sa){var t=d(e.libraryCode.accounts);r.logger.info('Setting the following report suites on the tracker: "'+t+'"'),a.sa(t)}else r.logger.warn("Cannot set report suites on tracker. `sa` method not available.");return a},f=function(e){return(a=e.libraryCode.trackerVariableName,r.logger.info('Waiting for the tracker to become accessible at: "'+a+'".'),new o(function(e,t){var n=1,o=setInterval(function(){i[a]&&(r.logger.info('Found tracker located at: "'+a+'".'),e(i[a]),clearInterval(o)),n>=10&&(clearInterval(o),t(new Error('Bailing out. Cannot find the global variable name: "'+a+'".'))),n++},1e3)})).then(v.bind(null,e));var a},g=function(e,a){return p(e).then(function(e){if(i[e])return r.logger.info('Found tracker located at: "'+e+'".'),i[e];throw new Error('Cannot find the global variable name: "'+e+'".')}.bind(null,a.libraryCode.trackerVariableName)).then(v.bind(null,a))};e.exports=function(e){var a,t;switch(e.libraryCode.type){case s:t=m(e);break;case l:t=f(e);break;case c:a=e.libraryCode.source,t=g(a,e);break;case u:a="https:"===i.location.protocol?e.libraryCode.httpsUrl:e.libraryCode.httpUrl,t=g(a,e);break;default:throw new Error("Cannot load library. Type not supported.")}return t}}},"adobe-analytics/src/lib/helpers/generateVersion.js":{script:function(e,a,t,r){"use strict";var n=function(e){var a,t=(e.getUTCMonth()+1+12*function(e){return Math.floor(e.getUTCHours()/8)}(e)).toString(36);return(a=t).substr(a.length-1)};e.exports=function(e){var a=new Date(e);if(isNaN(a))throw new Error("Invalid date provided");return("L"+function(e){return(e.getUTCFullYear()-2010).toString(36)}(a)+n(a)+function(e){return e.getUTCDate().toString(36)}(a)).toUpperCase()}}}},settings:{orgId:"16B222CE527834FC0A490D4D@AdobeOrg",customSetup:{source:function(e){_satellite.logger.log("Polyfills"),function(){if("function"==typeof window.CustomEvent)return!1;window.CustomEvent=function(e,a){a=a||{bubbles:!1,cancelable:!1,detail:null};var t=document.createEvent("CustomEvent");return t.initCustomEvent(e,a.bubbles,a.cancelable,a.detail),t}}(),_satellite.logger.log("Optimizely Snippet Load"),window.optimizely&&"function"==typeof window.optimizely.get&&window.optimizely.get("custom/adobeIntegrator")&&(window.optimizely.get("custom/adobeIntegrator").assignCampaigns(e),_satellite.logger.log("Optimizely Snippet Fire")),_satellite.logger.log("Do Plugins"),e.usePlugins=!0,e.doPlugins=function(e){var a=_satellite.getVar("User GUID");void 0!==a&&"not_signed_in"!==a&&_satellite.getVisitorId().setCustomerIDs({guid:{id:a,authState:Visitor.AuthState.AUTHENTICATED}})},_satellite.logger.log("Prepare the Bruce");var a=[];a.oldPush=a.push,a.push=function(e){a.oldPush(e);var t=new CustomEvent("bufferUpdate");document.dispatchEvent(t)},"undefined"==typeof dataLayer&&(dataLayer=[]);for(var t=0,r=dataLayer.length;t<r;t++)a.push(dataLayer[t]);return dataLayer.oldPush=dataLayer.push,dataLayer.push=function(e){dataLayer.oldPush(e),a.push(e)},window.bruce=a,window.dataLayer=dataLayer,!1}},libraryCode:{type:"managed",company:"channe1",accounts:{staging:["channel4dotcom"],production:["channel4dotcom"],development:["channel4dotcom"]},scopeTrackerGlobally:!0},trackerProperties:{eVars:[{name:"eVar18",type:"value",value:"%Page URL%"},{name:"eVar34",type:"value",value:"%User Sign In Flag%"},{name:"eVar37",type:"value",value:"%User GUID%"},{name:"eVar45",type:"value",value:"%User Visitor ID%"},{name:"eVar1",type:"value",value:"%Site Name%"},{name:"eVar2",type:"value",value:"%Page Name - 2 levels only%"},{name:"eVar3",type:"value",value:"%Page Name - 3 levels only%"},{name:"eVar27",type:"value",value:"%Page Title%"},{name:"eVar76",type:"value",value:"%Device TimeStamp%"},{name:"eVar57",type:"value",value:"%User Segment%"},{name:"eVar78",type:"value",value:"Channel 4 Main"}],props:[{name:"prop1",type:"alias",value:"eVar1"},{name:"prop2",type:"alias",value:"eVar2"},{name:"prop3",type:"alias",value:"eVar3"},{name:"prop18",type:"alias",value:"eVar18"},{name:"prop27",type:"alias",value:"eVar27"},{name:"prop34",type:"alias",value:"eVar34"},{name:"prop37",type:"alias",value:"eVar37"},{name:"prop45",type:"alias",value:"eVar45"},{name:"prop11",type:"alias",value:"eVar11"},{name:"prop57",type:"alias",value:"eVar57"}],server:"%Server%",channel:"%Channel%",charSet:"UTF-8",pageName:"%Page Name%",currencyCode:"GBP",trackingServer:"webstat.channel4.com",trackInlineStats:!0,visitorNamespace:"channel4",trackDownloadLinks:!0,trackExternalLinks:!0,linkInternalFilters:["channel4.com","*.channel4.com","javascript:","mailto:","tel:","film4productions.com","*.film4productions.com"],trackingServerSecure:"webstats.channel4.com",linkDownloadFileTypes:["avi","css","csv","doc","docx","eps","exe","jpg","js","m4v","mov","mp3","pdf","png","ppt","pptx","rar","svg","tab","txt","vsd","vxd","wav","wma","wmv","xls","xlsx","xml","zip"]}},hostedLibFilesBaseUrl:"https://static.c4assets.com/all4-dtm/latest/8a7c8783bfdc/hostedLibFiles/EP6580734006504e9facd682c439318b88/"},"adobe-mcid":{displayName:"Experience Cloud ID Service",modules:{"adobe-mcid/src/lib/sharedModules/mcidInstance.js":{script:function(e,a,t,r){"use strict";var n,i=t("@adobe/reactor-document"),o=t("../codeLibrary/VisitorAPI"),s=t("../../view/utils/timeUnits"),l=null;_satellite.getVisitorId=function(){return l},n=i.location.pathname,(r.getExtensionSettings().pathExclusions||[]).some(function(e){return e.valueIsRegex?new RegExp(e.value,"i").test(n):e.value===n})?r.logger.warn("MCID library not loaded. One of the path exclusions matches the current path."):l=function(e){var a=r.getExtensionSettings();if("string"!=typeof a.orgId)throw new TypeError("Org ID is not a string.");var t=(a.variables||[]).reduce(function(e,a){var t=/^(true|false)$/i.test(a.value)?JSON.parse(a.value):a.value;return e[a.name]=t,e},{}),n=a.doesOptInApply;n&&("boolean"==typeof n?t.doesOptInApply=n:a.optInCallback&&(t.doesOptInApply=a.optInCallback));var i=a.isOptInStorageEnabled;i&&(t.isOptInStorageEnabled=i);var o=a.optInCookieDomain;o&&(t.optInCookieDomain=o);var l=a.optInStorageExpiry;if(l){var u=a.timeUnit;if(u&&s[u]){var c=l*s[u];t.optInStorageExpiry=c}}else!0===i&&(t.optInStorageExpiry=33696e3);var p=a.previousPermissions;p&&(t.previousPermissions=p);var d=a.preOptInApprovals;if(d)t.preOptInApprovals=d;else{var m=a.preOptInApprovalInput;m&&(t.preOptInApprovals=m)}var v=a.isIabContext;v&&(t.isIabContext=v);var f=e.getInstance(a.orgId,t);return r.logger.info('Created instance using orgId: "'+a.orgId+'"'),r.logger.info("Set variables: "+JSON.stringify(t)),f.getMarketingCloudVisitorID(function(e){r.logger.info("Obtained Marketing Cloud Visitor Id: "+e)},!0),f}(o),e.exports=l},name:"mcid-instance",shared:!0},"adobe-mcid/src/lib/codeLibrary/VisitorAPI.js":{script:function(e,a,t,r){e.exports=(function(){"use strict";function e(a){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(a)}function a(e,a,t){return a in e?Object.defineProperty(e,a,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[a]=t,e}function t(e,a,t){var r=null==e?void 0:e[a];return void 0===r?t:r}function r(e,a){if(e===a)return 0;var t=e.toString().split("."),r=a.toString().split(".");return function(e){for(var a=/^\d+$/,t=0,r=e.length;t<r;t++)if(!a.test(e[t]))return!1;return!0}(t.concat(r))?(function(e,a){for(;e.length<a.length;)e.push("0");for(;a.length<e.length;)a.push("0")}(t,r),function(e,a){for(var t=0;t<e.length;t++){var r=parseInt(e[t],10),n=parseInt(a[t],10);if(r>n)return 1;if(n>r)return-1}return 0}(t,r)):NaN}function n(e){this.name=this.constructor.name,this.message=e,"function"==typeof Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error(e).stack}function i(){function e(e,a){var t=oe(e);return t.length?t.every(function(e){return!!a[e]}):se(a)}function a(){P(S),T(Q.COMPLETE),f(v.status,v.permissions),m.set(v.permissions,{optInCookieDomain:l,optInStorageExpiry:u}),g.execute(be)}function t(e){return function(t,r){if(!le(t))throw new Error("[OptIn] Invalid category(-ies). Please use the `OptIn.Categories` enum.");return T(Q.CHANGED),Object.assign(S,ue(oe(t),e)),r||a(),v}}var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=r.doesOptInApply,i=r.previousPermissions,o=r.preOptInApprovals,s=r.isOptInStorageEnabled,l=r.optInCookieDomain,u=r.optInStorageExpiry,c=r.isIabContext,p=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).cookies,d=ye(i);he(d,"Invalid `previousPermissions`!"),he(o,"Invalid `preOptInApprovals`!");var m=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=e.isEnabled,t=e.cookieName,r=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).cookies;return a&&t&&r?{remove:function(){r.remove(t)},get:function(){var e=r.get(t),a={};try{a=JSON.parse(e)}catch(e){a={}}return a},set:function(e,a){a=a||{},r.set(t,JSON.stringify(e),{domain:a.optInCookieDomain||"",cookieLifetime:a.optInStorageExpiry||3419e4,expires:!0})}}:{get:ge,set:ge,remove:ge}}({isEnabled:!!s,cookieName:"adobeujs-optin"},{cookies:p}),v=this,f=Y(v),g=ae(),y=de(d),h=de(o),_=m.get(),V={},b=function(e,a){return me(y)||a&&me(a)?Q.COMPLETE:Q.PENDING}(0,_),C=function(e,a,t){var r=ue(ee,!n);return n?Object.assign({},r,e,a,t):r}(h,y,_),S=ce(C),T=function(e){return b=e},P=function(e){return C=e};v.deny=t(!1),v.approve=t(!0),v.denyAll=v.deny.bind(v,ee),v.approveAll=v.approve.bind(v,ee),v.isApproved=function(a){return e(a,v.permissions)},v.isPreApproved=function(a){return e(a,h)},v.fetchPermissions=function(e){var a=arguments.length>1&&void 0!==arguments[1]&&arguments[1],t=a?v.on(Q.COMPLETE,e):ge;return!n||n&&v.isComplete||o?e(v.permissions):a||g.add(be,function(){return e(v.permissions)}),t},v.complete=function(){v.status===Q.CHANGED&&a()},v.registerPlugin=function(e){if(!e||!e.name||"function"!=typeof e.onRegister)throw new Error(Ce);V[e.name]||(V[e.name]=e,e.onRegister.call(e,v))},v.execute=Ve(V),Object.defineProperties(v,{permissions:{get:function(){return C}},status:{get:function(){return b}},Categories:{get:function(){return K}},doesOptInApply:{get:function(){return!!n}},isPending:{get:function(){return v.status===Q.PENDING}},isComplete:{get:function(){return v.status===Q.COMPLETE}},__plugins:{get:function(){return Object.keys(V)}},isIabContext:{get:function(){return c}}})}function o(e,a){if(void 0===a)return e;var t=setTimeout(function(){t=null,e.call(e,new n("The call took longer than you wanted!"))},a);return function(){t&&(clearTimeout(t),e.apply(e,arguments))}}function s(){if(window.__cmp)return window.__cmp;var e=window;if(e!==window.top){for(var a;!a;){e=e.parent;try{e.frames.__cmpLocator&&(a=e)}catch(e){}if(e===window.top)break}if(a){var t={};return window.__cmp=function(e,r,n){var i=Math.random()+"",o={__cmpCall:{command:e,parameter:r,callId:i}};t[i]=n,a.postMessage(o,"*")},window.addEventListener("message",function(e){var a=e.data;if("string"==typeof a)try{a=JSON.parse(e.data)}catch(e){}if(a.__cmpReturn){var r=a.__cmpReturn;t[r.callId]&&(t[r.callId](r.returnValue,r.success),delete t[r.callId])}},!1),window.__cmp}ne.error("__cmp not found")}else ne.error("__cmp not found")}var l="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};Object.assign=Object.assign||function(e){for(var a,t,r=1;r<arguments.length;++r)for(a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e};var u,c,p={HANDSHAKE:"HANDSHAKE",GETSTATE:"GETSTATE",PARENTSTATE:"PARENTSTATE"},d={MCMID:"getMarketingCloudVisitorID",MCAID:"getAnalyticsVisitorID",MCAAMB:"getAudienceManagerBlob",MCAAMLH:"getAudienceManagerLocationHint",MCOPTOUT:"isOptedOut",ALLFIELDS:"getVisitorValues"},m={MCMID:"getMarketingCloudVisitorID",MCAAMB:"getAudienceManagerBlob",MCAAMLH:"getAudienceManagerLocationHint",MCOPTOUT:"isOptedOut",MCAID:"getAnalyticsVisitorID",CUSTOMERIDS:"getCustomerIDs",ALLFIELDS:"getVisitorValues"},v={MC:"MCMID",A:"MCAID",AAM:"MCAAMB"},f={MCMID:"MCMID",MCOPTOUT:"MCOPTOUT",MCAID:"MCAID",MCAAMLH:"MCAAMLH",MCAAMB:"MCAAMB"},g={UNKNOWN:0,AUTHENTICATED:1,LOGGED_OUT:2},y={GLOBAL:"global"},h={MCMID:"MCMID",MCAID:"MCAID",MCAAMB:"MCAAMB",MCAAMLH:"MCAAMLH",MCOPTOUT:"MCOPTOUT",CUSTOMERIDS:"CUSTOMERIDS"},_=function(e){function a(){}function t(a,t){var r=this;return function(){var n=e(0,a),i={};return i[a]=n,r.setStateAndPublish(i),t(n),n}}this.getMarketingCloudVisitorID=function(e){e=e||a;var r=this.findField(h.MCMID,e),n=t.call(this,h.MCMID,e);return void 0!==r?r:n()},this.getVisitorValues=function(e){this.getMarketingCloudVisitorID(function(a){e({MCMID:a})})}},V=p,b=d,C={CUSTOMERIDS:"getCustomerIDs"},S=function(){function e(){}Object.keys(b).forEach(function(a){this[b[a]]=function(t){t=t||e;var r=this.findField(a,t),n=function(e,a){var t=this;return function(){return t.callbackRegistry.add(e,a),t.messageParent(V.GETSTATE),""}}.call(this,a,t);return void 0!==r?r:n()}},this),Object.keys(C).forEach(function(a){this[C[a]]=function(){return this.findField(a,e)||{}}},this)},T=d,P=function(e,a){return e(a={exports:{}},a.exports),a.exports}(function(a,t){t.isObjectEmpty=function(e){return e===Object(e)&&0===Object.keys(e).length},t.isValueEmpty=function(e){return""===e||t.isObjectEmpty(e)},t.getIeVersion=function(){if(document.documentMode)return document.documentMode;for(var e=7;e>4;e--){var a=document.createElement("div");if(a.innerHTML="\x3c!--[if IE "+e+"]><span></span><![endif]--\x3e",a.getElementsByTagName("span").length)return a=null,e;a=null}return null},t.encodeAndBuildRequest=function(e,a){return e.map(encodeURIComponent).join(a)},t.isObject=function(a){return null!==a&&"object"===e(a)&&!1===Array.isArray(a)},t.defineGlobalNamespace=function(){return window.adobe=t.isObject(window.adobe)?window.adobe:{},window.adobe},t.pluck=function(e,a){return a.reduce(function(a,t){return e[t]&&(a[t]=e[t]),a},Object.create(null))},t.parseOptOut=function(e,a,t){a||(a=t,e.d_optout&&e.d_optout instanceof Array&&(a=e.d_optout.join(",")));var r=parseInt(e.d_ottl,10);return isNaN(r)&&(r=7200),{optOut:a,d_ottl:r}},t.normalizeBoolean=function(e){var a=e;return"true"===e?a=!0:"false"===e&&(a=!1),a}}),k=(P.isObjectEmpty,P.isValueEmpty,P.getIeVersion,P.encodeAndBuildRequest,P.isObject,P.defineGlobalNamespace,P.pluck,P.parseOptOut,P.normalizeBoolean,function(){return{callbacks:{},add:function(e,a){this.callbacks[e]=this.callbacks[e]||[];var t=this.callbacks[e].push(a)-1,r=this;return function(){r.callbacks[e].splice(t,1)}},execute:function(e,a){if(this.callbacks[e]){a=(a=void 0===a?[]:a)instanceof Array?a:[a];try{for(;this.callbacks[e].length;){var t=this.callbacks[e].shift();"function"==typeof t?t.apply(null,a):t instanceof Array&&t[1].apply(t[0],a)}delete this.callbacks[e]}catch(e){}}},executeAll:function(e,a){(a||e&&!P.isObjectEmpty(e))&&Object.keys(this.callbacks).forEach(function(a){var t=void 0!==e[a]?e[a]:"";this.execute(a,t)},this)},hasCallbacks:function(){return Boolean(Object.keys(this.callbacks).length)}}}),I=p,L={0:"prefix",1:"orgID",2:"state"},w=function(e,a){this.parse=function(e){try{var a={};return e.data.split("|").forEach(function(e,t){void 0!==e&&(a[L[t]]=2!==t?e:JSON.parse(e))}),a}catch(e){}},this.isInvalid=function(t){var r=this.parse(t);if(!r||Object.keys(r).length<2)return!0;var n=e!==r.orgID,i=!a||t.origin!==a,o=-1===Object.keys(I).indexOf(r.prefix);return n||i||o},this.send=function(t,r,n){var i=r+"|"+e;n&&n===Object(n)&&(i+="|"+JSON.stringify(n));try{t.postMessage(i,a)}catch(e){}}},D=p,O=function(e,a,t,r){function n(e){Object.assign(c,e)}function i(e){if(!m.isInvalid(e)){d=!1;var a=m.parse(e);c.setStateAndPublish(a.state)}}function o(e){!d&&p&&(d=!0,m.send(r,e))}function s(){n(new _(t._generateID)),c.getMarketingCloudVisitorID(),c.callbackRegistry.executeAll(c.state,!0),l.removeEventListener("message",u)}function u(e){if(!m.isInvalid(e)){var a=m.parse(e);d=!1,l.clearTimeout(c._handshakeTimeout),l.removeEventListener("message",u),n(new S(c)),l.addEventListener("message",i),c.setStateAndPublish(a.state),c.callbackRegistry.hasCallbacks()&&o(D.GETSTATE)}}var c=this,p=a.whitelistParentDomain;c.state={ALLFIELDS:{}},c.version=t.version,c.marketingCloudOrgID=e,c.cookieDomain=t.cookieDomain||"",c._instanceType="child";var d=!1,m=new w(e,p);c.callbackRegistry=k(),c.init=function(){l.s_c_in||(l.s_c_il=[],l.s_c_in=0),c._c="Visitor",c._il=l.s_c_il,c._in=l.s_c_in,c._il[c._in]=c,l.s_c_in++,Object.keys(t).forEach(function(e){0!==e.indexOf("_")&&"function"==typeof t[e]&&(c[e]=function(){})}),c.getSupplementalDataID=t.getSupplementalDataID,c.isAllowed=function(){return!0},n(new function(){Object.keys(T).forEach(function(e){this[T[e]]=function(a){this.callbackRegistry.add(e,a)}},this)}(c)),p&&postMessage?(l.addEventListener("message",u),o(D.HANDSHAKE),c._handshakeTimeout=setTimeout(s,250)):s()},c.findField=function(e,a){if(void 0!==c.state[e])return a(c.state[e]),c.state[e]},c.messageParent=o,c.setStateAndPublish=function(e){Object.assign(c.state,e),Object.assign(c.state.ALLFIELDS,e),c.callbackRegistry.executeAll(c.state)}},M=p,E=m,A=d,j=v,N=function(e,a){function t(){var a={};return Object.keys(E).forEach(function(t){var r=E[t],n=e[r]();P.isValueEmpty(n)||(a[t]=n)}),a}function r(a){return function t(r){var n=function(){var a=[];return e._loading&&Object.keys(e._loading).forEach(function(t){if(e._loading[t]){var r=j[t];a.push(r)}}),a.length?a:null}();if(n){var i=A[n[0]];e[i](t,!0)}else a()}}function n(e,r){var n=t();a.send(e,r,n)}function i(t){var r=e.setCustomerIDs;e.setCustomerIDs=function(n){r.call(e,n),a.send(t,M.PARENTSTATE,{CUSTOMERIDS:e.getCustomerIDs()})}}return function(e){a.isInvalid(e)||(a.parse(e).prefix===M.HANDSHAKE?function(e){i(e),n(e,M.HANDSHAKE)}:function(e){r(function(){n(e,M.PARENTSTATE)})()})(e.source)}},x={get:function(e){e=encodeURIComponent(e);var a=(";"+document.cookie).split(" ").join(";"),t=a.indexOf(";"+e+"="),r=t<0?t:a.indexOf(";",t+1);return t<0?"":decodeURIComponent(a.substring(t+2+e.length,r<0?a.length:r))},set:function(e,a,r){var n=t(r,"cookieLifetime"),i=t(r,"expires"),o=t(r,"domain"),s=t(r,"secure")?"Secure":"";if(i&&"SESSION"!==n&&"NONE"!==n){var l=""!==a?parseInt(n||0,10):-60;if(l)(i=new Date).setTime(i.getTime()+1e3*l);else if(1===i){var u=(i=new Date).getYear();i.setYear(u+2+(u<1900?1900:0))}}else i=0;return e&&"NONE"!==n?(document.cookie=encodeURIComponent(e)+"="+encodeURIComponent(a)+"; path=/;"+(i?" expires="+i.toGMTString()+";":"")+(o?" domain="+o+";":"")+s,this.get(e)===a):0},remove:function(e,a){var r=t(a,"domain");r=r?" domain="+r+";":"",document.cookie=encodeURIComponent(e)+"=; Path=/; Expires=Thu, 01 Jan 1970 00:00:01 GMT;"+r}},R=function(e){var a;!e&&l.location&&(e=l.location.hostname);var t,r=(a=e).split(".");for(t=r.length-2;t>=0;t--)if(a=r.slice(t).join("."),x.set("test","cookie",{domain:a}))return x.remove("test",{domain:a}),a;return""},H=function(e,a){return r(e,a)<0},U=function(e,a){return 0!==r(e,a)},F=!!l.postMessage,B=function(e,a,t){var r=1;a&&(F?t.postMessage(e,a.replace(/([^:]+:\/\/[^\/]+).*/,"$1")):a&&(t.location=a.replace(/#.*$/,"")+"#"+ +new Date+r+++"&"+e))},J=function(e,a){var t;try{F&&(e&&(t=function(t){if("string"==typeof a&&t.origin!==a||"[object Function]"===Object.prototype.toString.call(a)&&!1===a(t.origin))return!1;e(t)}),l.addEventListener?l[e?"addEventListener":"removeEventListener"]("message",t):l[e?"attachEvent":"detachEvent"]("onmessage",t))}catch(e){}},G=function(e){var a,t,r="0123456789",n="",i="",o=8,s=10,l=10;if(1==e){for(r+="ABCDEF",a=0;16>a;a++)t=Math.floor(Math.random()*o),n+=r.substring(t,t+1),t=Math.floor(Math.random()*o),i+=r.substring(t,t+1),o=16;return n+"-"+i}for(a=0;19>a;a++)t=Math.floor(Math.random()*s),n+=r.substring(t,t+1),0===a&&9==t?s=3:(1==a||2==a)&&10!=s&&2>t?s=10:2<a&&(s=10),t=Math.floor(Math.random()*l),i+=r.substring(t,t+1),0===a&&9==t?l=3:(1==a||2==a)&&10!=l&&2>t?l=10:2<a&&(l=10);return n+i},q=function(e,a){return{corsMetadata:function(){var e="none",a=!0;return"undefined"!=typeof XMLHttpRequest&&XMLHttpRequest===Object(XMLHttpRequest)&&("withCredentials"in new XMLHttpRequest?e="XMLHttpRequest":"undefined"!=typeof XDomainRequest&&XDomainRequest===Object(XDomainRequest)&&(a=!1),Object.prototype.toString.call(l.HTMLElement).indexOf("Constructor")>0&&(a=!1)),{corsType:e,corsCookiesEnabled:a}}(),getCORSInstance:function(){return"none"===this.corsMetadata.corsType?null:new l[this.corsMetadata.corsType]},fireCORS:function(a,t,r){var n=this;t&&(a.loadErrorHandler=t);try{var i=this.getCORSInstance();i.open("get",a.corsUrl+"&ts="+(new Date).getTime(),!0),"XMLHttpRequest"===this.corsMetadata.corsType&&(i.withCredentials=!0,i.timeout=e.loadTimeout,i.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),i.onreadystatechange=function(){4===this.readyState&&200===this.status&&function(e){var t;try{if((t=JSON.parse(e))!==Object(t))return void n.handleCORSError(a,null,"Response is not JSON")}catch(e){return void n.handleCORSError(a,e,"Error parsing response as JSON")}try{for(var r=a.callback,i=l,o=0;o<r.length;o++)i=i[r[o]];i(t)}catch(e){n.handleCORSError(a,e,"Error forming callback function")}}(this.responseText)}),i.onerror=function(e){n.handleCORSError(a,e,"onerror")},i.ontimeout=function(e){n.handleCORSError(a,e,"ontimeout")},i.send(),e._log.requests.push(a.corsUrl)}catch(e){this.handleCORSError(a,e,"try-catch")}},handleCORSError:function(a,t,r){e.CORSErrors.push({corsData:a,error:t,description:r}),a.loadErrorHandler&&("ontimeout"===r?a.loadErrorHandler(!0):a.loadErrorHandler(!1))}}},W={POST_MESSAGE_ENABLED:!!l.postMessage,DAYS_BETWEEN_SYNC_ID_CALLS:1,MILLIS_PER_DAY:864e5,ADOBE_MC:"adobe_mc",ADOBE_MC_SDID:"adobe_mc_sdid",VALID_VISITOR_ID_REGEX:/^[0-9a-fA-F\-]+$/,ADOBE_MC_TTL_IN_MIN:5,VERSION_REGEX:/vVersion\|((\d+\.)?(\d+\.)?(\*|\d+))(?=$|\|)/,FIRST_PARTY_SERVER_COOKIE:"s_ecid"},z={audienceManagerServer:{},audienceManagerServerSecure:{},cookieDomain:{},cookieLifetime:{},cookieName:{},doesOptInApply:{},disableThirdPartyCalls:{},discardTrackingServerECID:{},idSyncAfterIDCallResult:{},idSyncAttachIframeOnWindowLoad:{},idSyncContainerID:{},idSyncDisable3rdPartySyncing:{},disableThirdPartyCookies:{},idSyncDisableSyncs:{},disableIdSyncs:{},idSyncIDCallResult:{},idSyncSSLUseAkamai:{},isCoopSafe:{},isIabContext:{},isOptInStorageEnabled:{},loadSSL:{},loadTimeout:{},marketingCloudServer:{},marketingCloudServerSecure:{},optInCookieDomain:{},optInStorageExpiry:{},overwriteCrossDomainMCIDAndAID:{},preOptInApprovals:{},previousPermissions:{},resetBeforeVersion:{},sdidParamExpiry:{},serverState:{},sessionCookieName:{},secureCookie:{},takeTimeoutMetrics:{},trackingServer:{},trackingServerSecure:{},whitelistIframeDomains:{},whitelistParentDomain:{}},$={getConfigNames:function(){return Object.keys(z)},getConfigs:function(){return z},normalizeConfig:function(e){return"function"!=typeof e?e:e()}},Y=function(e){var a={};return e.on=function(e,t,r){if(!t||"function"!=typeof t)throw new Error("[ON] Callback should be a function.");a.hasOwnProperty(e)||(a[e]=[]);var n=a[e].push({callback:t,context:r})-1;return function(){a[e].splice(n,1),a[e].length||delete a[e]}},e.off=function(e,t){a.hasOwnProperty(e)&&(a[e]=a[e].filter(function(e){if(e.callback!==t)return e}))},e.publish=function(e){if(a.hasOwnProperty(e)){var t=[].slice.call(arguments,1);a[e].slice(0).forEach(function(e){e.callback.apply(e.context,t)})}},e.publish},Q={PENDING:"pending",CHANGED:"changed",COMPLETE:"complete"},K={AAM:"aam",ADCLOUD:"adcloud",ANALYTICS:"aa",CAMPAIGN:"campaign",ECID:"ecid",LIVEFYRE:"livefyre",TARGET:"target",MEDIA_ANALYTICS:"mediaaa"},X=(a(u={},K.AAM,565),a(u,K.ECID,565),u),Z=(a(c={},K.AAM,[1,2,5]),a(c,K.ECID,[1,2,5]),c),ee=function(e){return Object.keys(e).map(function(a){return e[a]})}(K),ae=function(){var e={};return e.callbacks=Object.create(null),e.add=function(a,t){if(!function(e){return"function"==typeof e||e instanceof Array&&e.length}(t))throw new Error("[callbackRegistryFactory] Make sure callback is a function or an array of functions.");e.callbacks[a]=e.callbacks[a]||[];var r=e.callbacks[a].push(t)-1;return function(){e.callbacks[a].splice(r,1)}},e.execute=function(a,t){if(e.callbacks[a]){t=(t=void 0===t?[]:t)instanceof Array?t:[t];try{for(;e.callbacks[a].length;){var r=e.callbacks[a].shift();"function"==typeof r?r.apply(null,t):r instanceof Array&&r[1].apply(r[0],t)}delete e.callbacks[a]}catch(e){}}},e.executeAll=function(a,t){(t||a&&!function(e){return e===Object(e)&&0===Object.keys(e).length}(a))&&Object.keys(e.callbacks).forEach(function(t){var r=void 0!==a[t]?a[t]:"";e.execute(t,r)},e)},e.hasCallbacks=function(){return Boolean(Object.keys(e.callbacks).length)},e},te=function(){},re=function(e,a,t){return t()?function(){if(function(e){var a=window.console;return!!a&&"function"==typeof a[e]}(e)){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];console[e].apply(console,[a].concat(r))}}:te},ne=new function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){return!0};this.log=re("log",e,a),this.warn=re("warn",e,a),this.error=re("error",e,a)}("[ADOBE OPT-IN]"),ie=function(a,t){return e(a)===t},oe=function(e,a){return e instanceof Array?e:ie(e,"string")?[e]:a||[]},se=function(e){var a=Object.keys(e);return!!a.length&&a.every(function(a){return!0===e[a]})},le=function(e){return!(!e||pe(e))&&oe(e).every(function(e){return ee.indexOf(e)>-1})},ue=function(e,a){return e.reduce(function(e,t){return e[t]=a,e},{})},ce=function(e){return JSON.parse(JSON.stringify(e))},pe=function(e){return"[object Array]"===Object.prototype.toString.call(e)&&!e.length},de=function(e){if(fe(e))return e;try{return JSON.parse(e)}catch(e){return{}}},me=function(e){return void 0===e||(fe(e)?le(Object.keys(e)):ve(e))},ve=function(e){try{var a=JSON.parse(e);return!!e&&ie(e,"string")&&le(Object.keys(a))}catch(e){return!1}},fe=function(e){return null!==e&&ie(e,"object")&&!1===Array.isArray(e)},ge=function(){},ye=function(e){return ie(e,"function")?e():e},he=function(e,a){me(e)||ne.error("".concat(a))},_e=function(e){return function(e){return Object.keys(e).map(function(a){return e[a]})}(e).filter(function(e,a,t){return t.indexOf(e)===a})},Ve=function(e){return function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=a.command,r=a.params,n=void 0===r?{}:r,i=a.callback,o=void 0===i?ge:i;if(!t||-1===t.indexOf("."))throw new Error("[OptIn.execute] Please provide a valid command.");try{var s=t.split("."),l=e[s[0]],u=s[1];if(!l||"function"!=typeof l[u])throw new Error("Make sure the plugin and API name exist.");var c=Object.assign(n,{callback:o});l[u].call(l,c)}catch(e){ne.error("[execute] Something went wrong: "+e.message)}}};n.prototype=Object.create(Error.prototype),n.prototype.constructor=n;var be="fetchPermissions",Ce="[OptIn#registerPlugin] Plugin is invalid.";i.Categories=K,i.TimeoutError=n;var Se=Object.freeze({OptIn:i,IabPlugin:function(){var e=this;e.name="iabPlugin",e.version="0.0.1";var a=ae(),t={allConsentData:null},r=function(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t[e]=a};e.fetchConsentData=function(e){var a=o(e.callback,e.timeout);n({callback:a})},e.isApproved=function(e){var a=e.callback,r=e.category,i=e.timeout;if(t.allConsentData)return a(null,u(r,t.allConsentData.vendorConsents,t.allConsentData.purposeConsents));var s=o(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.vendorConsents,i=t.purposeConsents;a(e,u(r,n,i))},i);n({category:r,callback:s})},e.onRegister=function(a){var t=Object.keys(X);e.fetchConsentData({callback:function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=r.purposeConsents,i=r.gdprApplies,o=r.vendorConsents;!e&&i&&o&&n&&(t.forEach(function(e){var t=u(e,o,n);a[t?"approve":"deny"](e,!0)}),a.complete())}})};var n=function(e){var n=e.callback;if(t.allConsentData)return n(null,t.allConsentData);a.add("FETCH_CONSENT_DATA",n);var o={};l(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.purposeConsents,s=e.gdprApplies,l=e.vendorConsents;(arguments.length>1?arguments[1]:void 0)&&r("allConsentData",o={purposeConsents:n,gdprApplies:s,vendorConsents:l}),i(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(arguments.length>1?arguments[1]:void 0)&&(o.consentString=e.consentData,r("allConsentData",o)),a.execute("FETCH_CONSENT_DATA",[null,t.allConsentData])})})},i=function(e){var a=s();a&&a("getConsentData",null,e)},l=function(e){var a=_e(X),t=s();t&&t("getVendorConsents",a,e)},u=function(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return!!a[X[e]]&&Z[e].every(function(e){return t[e]})}}}),Te=function(e,a){return"SHA-256"!==a&&"SHA256"!==a&&"sha256"!==a&&"sha-256"!==a||(e=function e(a){function t(e,a){return e>>>a|e<<32-a}for(var r,n,i=Math.pow,o=i(2,32),s="",l=[],u=8*a.length,c=e.h=e.h||[],p=e.k=e.k||[],d=p.length,m={},v=2;d<64;v++)if(!m[v]){for(r=0;r<313;r+=v)m[r]=v;c[d]=i(v,.5)*o|0,p[d++]=i(v,1/3)*o|0}for(a+="";a.length%64-56;)a+="\0";for(r=0;r<a.length;r++){if((n=a.charCodeAt(r))>>8)return;l[r>>2]|=n<<(3-r)%4*8}for(l[l.length]=u/o|0,l[l.length]=u,n=0;n<l.length;){var f=l.slice(n,n+=16),g=c;for(c=c.slice(0,8),r=0;r<64;r++){var y=f[r-15],h=f[r-2],_=c[0],V=c[4],b=c[7]+(t(V,6)^t(V,11)^t(V,25))+(V&c[5]^~V&c[6])+p[r]+(f[r]=r<16?f[r]:f[r-16]+(t(y,7)^t(y,18)^y>>>3)+f[r-7]+(t(h,17)^t(h,19)^h>>>10)|0);(c=[b+((t(_,2)^t(_,13)^t(_,22))+(_&c[1]^_&c[2]^c[1]&c[2]))|0].concat(c))[4]=c[4]+b|0}for(r=0;r<8;r++)c[r]=c[r]+g[r]|0}for(r=0;r<8;r++)for(n=3;n+1;n--){var C=c[r]>>8*n&255;s+=(C<16?0:"")+C.toString(16)}return s}(e)),e},Pe=function(e){return String(e).trim().toLowerCase()},ke=Se.OptIn;P.defineGlobalNamespace(),window.adobe.OptInCategories=ke.Categories;var Ie=function(a,t,r){function n(e){var a=e;return function(e){var t=e||V.location.href;try{var r=d._extractParamFromUri(t,a);if(r)return j.parsePipeDelimetedKeyValues(r)}catch(e){}}}function i(e){e=e||{},d._supplementalDataIDCurrent=e.supplementalDataIDCurrent||"",d._supplementalDataIDCurrentConsumed=e.supplementalDataIDCurrentConsumed||{},d._supplementalDataIDLast=e.supplementalDataIDLast||"",d._supplementalDataIDLastConsumed=e.supplementalDataIDLastConsumed||{}}function o(e){return function(e){var a=j.getTimestampInSeconds();return(e=e?e+="|":e)+"TS="+a}(e.reduce(function(e,a){var t=a[0],r=a[1];return null!=r&&r!==O&&(e=function(e,a,t){return(t=t?t+="|":t)+(e+"=")+encodeURIComponent(a)}(t,r,e)),e},""))}function s(){return d.configs.isIabContext?m.optIn.isApproved(m.optIn.Categories.ECID)&&h:m.optIn.isApproved(m.optIn.Categories.ECID)}function u(e,a){if(h=!0,e)throw new Error("[IAB plugin] : "+e);a.gdprApplies&&(v=a.consentString),d.init(),p()}function c(){m.optIn.isApproved(m.optIn.Categories.ECID)&&(d.configs.isIabContext?m.optIn.execute({command:"iabPlugin.fetchConsentData",callback:u}):(d.init(),p()))}function p(){m.optIn.off("complete",c)}if(!r||r.split("").reverse().join("")!==a)throw new Error("Please use `Visitor.getInstance` to instantiate Visitor.");var d=this,m=window.adobe,v="",h=!1,_=!1;d.version="4.4.1";var V=l,b=V.Visitor;b.version=d.version,b.AuthState=g,b.OptOut=y,V.s_c_in||(V.s_c_il=[],V.s_c_in=0),d._c="Visitor",d._il=V.s_c_il,d._in=V.s_c_in,d._il[d._in]=d,V.s_c_in++,d._instanceType="regular",d._log={requests:[]},d.marketingCloudOrgID=a,d.cookieName="AMCV_"+a,d.sessionCookieName="AMCVS_"+a,d.cookieDomain=R(),d.loadSSL=V.location.protocol.toLowerCase().indexOf("https")>=0,d.loadTimeout=3e4,d.CORSErrors=[],d.marketingCloudServer=d.audienceManagerServer="dpm.demdex.net",d.sdidParamExpiry=30;var C=null,S="MCMID",T="MCIDTS",k="A",I="MCAID",L="AAM",D="MCAAMB",O="NONE",M=function(e){return!Object.prototype[e]},E=q(d);d.FIELDS=f,d.cookieRead=function(e){return x.get(e)},d.cookieWrite=function(e,a,t){var r=d.cookieLifetime?(""+d.cookieLifetime).toUpperCase():"",n=!1;return d.configs&&d.configs.secureCookie&&"https:"===location.protocol&&(n=!0),x.set(e,""+a,{expires:t,domain:d.cookieDomain,cookieLifetime:r,secure:n})},d.resetState=function(e){e?d._mergeServerState(e):i()},d._isAllowedDone=!1,d._isAllowedFlag=!1,d.isAllowed=function(){return d._isAllowedDone||(d._isAllowedDone=!0,(d.cookieRead(d.cookieName)||d.cookieWrite(d.cookieName,"T",1))&&(d._isAllowedFlag=!0)),"T"===d.cookieRead(d.cookieName)&&d._helpers.removeCookie(d.cookieName),d._isAllowedFlag},d.setMarketingCloudVisitorID=function(e){d._setMarketingCloudFields(e)},d._use1stPartyMarketingCloudServer=!1,d.getMarketingCloudVisitorID=function(e,a){d.marketingCloudServer&&d.marketingCloudServer.indexOf(".demdex.net")<0&&(d._use1stPartyMarketingCloudServer=!0);var t=d._getAudienceManagerURLData("_setMarketingCloudFields"),r=t.url;return d._getRemoteField(S,r,e,a,t)},d.getVisitorValues=function(e,a){var t={MCMID:{fn:d.getMarketingCloudVisitorID,args:[!0],context:d},MCOPTOUT:{fn:d.isOptedOut,args:[void 0,!0],context:d},MCAID:{fn:d.getAnalyticsVisitorID,args:[!0],context:d},MCAAMLH:{fn:d.getAudienceManagerLocationHint,args:[!0],context:d},MCAAMB:{fn:d.getAudienceManagerBlob,args:[!0],context:d}},r=a&&a.length?P.pluck(t,a):t;a&&-1===a.indexOf("MCAID")?function(e,a){var t={};d.getMarketingCloudVisitorID(function(){a.forEach(function(e){t[e]=d._getField(e,!0)}),-1!==a.indexOf("MCOPTOUT")?d.isOptedOut(function(a){t.MCOPTOUT=a,e(t)},null,!0):e(t)},!0)}(e,a):function(e,a){function t(e){return function(t){r[e]=t,++n===i&&a(r)}}var r={},n=0,i=Object.keys(e).length;Object.keys(e).forEach(function(a){var r=e[a];if(r.fn){var n=r.args||[];n.unshift(t(a)),r.fn.apply(r.context||null,n)}})}(r,e)},d._currentCustomerIDs={},d._customerIDsHashChanged=!1,d._newCustomerIDsHash="",d.setCustomerIDs=function(a,t){if(!d.isOptedOut()&&a){if(!P.isObject(a)||P.isObjectEmpty(a))return!1;var r,n,i;for(r in d._readVisitor(),a)if(M(r)&&(t=(n=a[r]).hasOwnProperty("hashType")?n.hashType:t,n))if("object"===e(n)){var o={};if(n.id){if(t){if(!(i=Te(Pe(n.id),t)))return;n.id=i,o.hashType=t}o.id=n.id}void 0!=n.authState&&(o.authState=n.authState),d._currentCustomerIDs[r]=o}else if(t){if(!(i=Te(Pe(n),t)))return;d._currentCustomerIDs[r]={id:i,hashType:t}}else d._currentCustomerIDs[r]={id:n};var s=d.getCustomerIDs(),l=d._getField("MCCIDH"),u="";for(r in l||(l=0),s)M(r)&&(n=s[r],u+=(u?"|":"")+r+"|"+(n.id?n.id:"")+(n.authState?n.authState:""));d._newCustomerIDsHash=String(d._hash(u)),d._newCustomerIDsHash!==l&&(d._customerIDsHashChanged=!0,d._mapCustomerIDs(function(){d._customerIDsHashChanged=!1}))}},d.getCustomerIDs=function(){d._readVisitor();var e,a,t={};for(e in d._currentCustomerIDs)M(e)&&(a=d._currentCustomerIDs[e],t[e]||(t[e]={}),a.id&&(t[e].id=a.id),void 0!=a.authState?t[e].authState=a.authState:t[e].authState=b.AuthState.UNKNOWN,a.hashType&&(t[e].hashType=a.hashType));return t},d.setAnalyticsVisitorID=function(e){d._setAnalyticsFields(e)},d.getAnalyticsVisitorID=function(e,a,t){if(!j.isTrackingServerPopulated()&&!t)return d._callCallback(e,[""]),"";var r="";if(t||(r=d.getMarketingCloudVisitorID(function(a){d.getAnalyticsVisitorID(e,!0)})),r||t){var n=t?d.marketingCloudServer:d.trackingServer,i="";d.loadSSL&&(t?d.marketingCloudServerSecure&&(n=d.marketingCloudServerSecure):d.trackingServerSecure&&(n=d.trackingServerSecure));var o={};if(n){var s="http"+(d.loadSSL?"s":"")+"://"+n+"/id",l="d_visid_ver="+d.version+"&mcorgid="+encodeURIComponent(d.marketingCloudOrgID)+(r?"&mid="+encodeURIComponent(r):"")+(d.idSyncDisable3rdPartySyncing||d.disableThirdPartyCookies?"&d_coppa=true":""),u=["s_c_il",d._in,"_set"+(t?"MarketingCloud":"Analytics")+"Fields"];i=s+"?"+l+"&callback=s_c_il%5B"+d._in+"%5D._set"+(t?"MarketingCloud":"Analytics")+"Fields",o.corsUrl=s+"?"+l,o.callback=u}return o.url=i,d._getRemoteField(t?S:I,i,e,a,o)}return""},d.getAudienceManagerLocationHint=function(e,a){if(d.getMarketingCloudVisitorID(function(a){d.getAudienceManagerLocationHint(e,!0)})){var t=d._getField(I);if(!t&&j.isTrackingServerPopulated()&&(t=d.getAnalyticsVisitorID(function(a){d.getAudienceManagerLocationHint(e,!0)})),t||!j.isTrackingServerPopulated()){var r=d._getAudienceManagerURLData(),n=r.url;return d._getRemoteField("MCAAMLH",n,e,a,r)}}return""},d.getLocationHint=d.getAudienceManagerLocationHint,d.getAudienceManagerBlob=function(e,a){if(d.getMarketingCloudVisitorID(function(a){d.getAudienceManagerBlob(e,!0)})){var t=d._getField(I);if(!t&&j.isTrackingServerPopulated()&&(t=d.getAnalyticsVisitorID(function(a){d.getAudienceManagerBlob(e,!0)})),t||!j.isTrackingServerPopulated()){var r=d._getAudienceManagerURLData(),n=r.url;return d._customerIDsHashChanged&&d._setFieldExpire(D,-1),d._getRemoteField(D,n,e,a,r)}}return""},d._supplementalDataIDCurrent="",d._supplementalDataIDCurrentConsumed={},d._supplementalDataIDLast="",d._supplementalDataIDLastConsumed={},d.getSupplementalDataID=function(e,a){d._supplementalDataIDCurrent||a||(d._supplementalDataIDCurrent=d._generateID(1));var t=d._supplementalDataIDCurrent;return d._supplementalDataIDLast&&!d._supplementalDataIDLastConsumed[e]?(t=d._supplementalDataIDLast,d._supplementalDataIDLastConsumed[e]=!0):t&&(d._supplementalDataIDCurrentConsumed[e]&&(d._supplementalDataIDLast=d._supplementalDataIDCurrent,d._supplementalDataIDLastConsumed=d._supplementalDataIDCurrentConsumed,d._supplementalDataIDCurrent=t=a?"":d._generateID(1),d._supplementalDataIDCurrentConsumed={}),t&&(d._supplementalDataIDCurrentConsumed[e]=!0)),t};var A=!1;d._liberatedOptOut=null,d.getOptOut=function(e,a){var t=d._getAudienceManagerURLData("_setMarketingCloudFields"),r=t.url;if(s())return d._getRemoteField("MCOPTOUT",r,e,a,t);if(d._registerCallback("liberatedOptOut",e),null!==d._liberatedOptOut)return d._callAllCallbacks("liberatedOptOut",[d._liberatedOptOut]),A=!1,d._liberatedOptOut;if(A)return null;A=!0;var n="liberatedGetOptOut";return t.corsUrl=t.corsUrl.replace(/dpm\.demdex\.net\/id\?/,"dpm.demdex.net/optOutStatus?"),t.callback=[n],l[n]=function(e){if(e===Object(e)){var a,t,r=P.parseOptOut(e,a,O);a=r.optOut,t=1e3*r.d_ottl,d._liberatedOptOut=a,setTimeout(function(){d._liberatedOptOut=null},t)}d._callAllCallbacks("liberatedOptOut",[a]),A=!1},E.fireCORS(t),null},d.isOptedOut=function(e,a,t){a||(a=b.OptOut.GLOBAL);var r=d.getOptOut(function(t){var r=t===b.OptOut.GLOBAL||t.indexOf(a)>=0;d._callCallback(e,[r])},t);return r?r===b.OptOut.GLOBAL||r.indexOf(a)>=0:null},d._fields=null,d._fieldsExpired=null,d._hash=function(e){var a,t=0;if(e)for(a=0;a<e.length;a++)t=(t<<5)-t+e.charCodeAt(a),t&=t;return t},d._generateID=G,d._generateLocalMID=function(){var e=d._generateID(0);return z.isClientSideMarketingCloudVisitorID=!0,e},d._callbackList=null,d._callCallback=function(e,a){try{"function"==typeof e?e.apply(V,a):e[1].apply(e[0],a)}catch(e){}},d._registerCallback=function(e,a){a&&(null==d._callbackList&&(d._callbackList={}),void 0==d._callbackList[e]&&(d._callbackList[e]=[]),d._callbackList[e].push(a))},d._callAllCallbacks=function(e,a){if(null!=d._callbackList){var t=d._callbackList[e];if(t)for(;t.length>0;)d._callCallback(t.shift(),a)}},d._addQuerystringParam=function(e,a,t,r){var n=encodeURIComponent(a)+"="+encodeURIComponent(t),i=j.parseHash(e),o=j.hashlessUrl(e);if(-1===o.indexOf("?"))return o+"?"+n+i;var s=o.split("?"),l=s[0]+"?",u=s[1];return l+j.addQueryParamAtLocation(u,n,r)+i},d._extractParamFromUri=function(e,a){var t=new RegExp("[\\?&#]"+a+"=([^&#]*)").exec(e);if(t&&t.length)return decodeURIComponent(t[1])},d._parseAdobeMcFromUrl=n(W.ADOBE_MC),d._parseAdobeMcSdidFromUrl=n(W.ADOBE_MC_SDID),d._attemptToPopulateSdidFromUrl=function(e){var t=d._parseAdobeMcSdidFromUrl(e),r=1e9;t&&t.TS&&(r=j.getTimestampInSeconds()-t.TS),t&&t.SDID&&t.MCORGID===a&&r<d.sdidParamExpiry&&(d._supplementalDataIDCurrent=t.SDID,d._supplementalDataIDCurrentConsumed.SDID_URL_PARAM=!0)},d._attemptToPopulateIdsFromUrl=function(){var e=d._parseAdobeMcFromUrl();if(e&&e.TS){var t=j.getTimestampInSeconds()-e.TS;if(Math.floor(t/60)>W.ADOBE_MC_TTL_IN_MIN||e.MCORGID!==a)return;!function(e){function a(e,a,t){e&&e.match(W.VALID_VISITOR_ID_REGEX)&&(t===S&&(_=!0),a(e))}a(e[S],d.setMarketingCloudVisitorID,S),d._setFieldExpire(D,-1),a(e[I],d.setAnalyticsVisitorID)}(e)}},d._mergeServerState=function(e){if(e)try{if((e=function(e){return j.isObject(e)?e:JSON.parse(e)}(e))[d.marketingCloudOrgID]){var a=e[d.marketingCloudOrgID];!function(e){j.isObject(e)&&d.setCustomerIDs(e)}(a.customerIDs),i(a.sdid)}}catch(e){throw new Error("`serverState` has an invalid format.")}},d._timeout=null,d._loadData=function(e,a,t,r){a=d._addQuerystringParam(a,"d_fieldgroup",e,1),r.url=d._addQuerystringParam(r.url,"d_fieldgroup",e,1),r.corsUrl=d._addQuerystringParam(r.corsUrl,"d_fieldgroup",e,1),z.fieldGroupObj[e]=!0,r===Object(r)&&r.corsUrl&&"XMLHttpRequest"===E.corsMetadata.corsType&&E.fireCORS(r,t,e)},d._clearTimeout=function(e){null!=d._timeout&&d._timeout[e]&&(clearTimeout(d._timeout[e]),d._timeout[e]=0)},d._settingsDigest=0,d._getSettingsDigest=function(){if(!d._settingsDigest){var e=d.version;d.audienceManagerServer&&(e+="|"+d.audienceManagerServer),d.audienceManagerServerSecure&&(e+="|"+d.audienceManagerServerSecure),d._settingsDigest=d._hash(e)}return d._settingsDigest},d._readVisitorDone=!1,d._readVisitor=function(){if(!d._readVisitorDone){d._readVisitorDone=!0;var e,a,t,r,n,i,o=d._getSettingsDigest(),s=!1,l=d.cookieRead(d.cookieName),u=new Date;if(l||_||d.discardTrackingServerECID||(l=d.cookieRead(W.FIRST_PARTY_SERVER_COOKIE)),null==d._fields&&(d._fields={}),l&&"T"!==l)for((l=l.split("|"))[0].match(/^[\-0-9]+$/)&&(parseInt(l[0],10)!==o&&(s=!0),l.shift()),l.length%2==1&&l.pop(),e=0;e<l.length;e+=2)t=(a=l[e].split("-"))[0],r=l[e+1],a.length>1?(n=parseInt(a[1],10),i=a[1].indexOf("s")>0):(n=0,i=!1),s&&("MCCIDH"===t&&(r=""),n>0&&(n=u.getTime()/1e3-60)),t&&r&&(d._setField(t,r,1),n>0&&(d._fields["expire"+t]=n+(i?"s":""),(u.getTime()>=1e3*n||i&&!d.cookieRead(d.sessionCookieName))&&(d._fieldsExpired||(d._fieldsExpired={}),d._fieldsExpired[t]=!0)));!d._getField(I)&&j.isTrackingServerPopulated()&&(l=d.cookieRead("s_vi"))&&(l=l.split("|")).length>1&&l[0].indexOf("v1")>=0&&((e=(r=l[1]).indexOf("["))>=0&&(r=r.substring(0,e)),r&&r.match(W.VALID_VISITOR_ID_REGEX)&&d._setField(I,r))}},d._appendVersionTo=function(e){var a="vVersion|"+d.version,t=e?d._getCookieVersion(e):null;return t?U(t,d.version)&&(e=e.replace(W.VERSION_REGEX,a)):e+=(e?"|":"")+a,e},d._writeVisitor=function(){var e,a,t=d._getSettingsDigest();for(e in d._fields)M(e)&&d._fields[e]&&"expire"!==e.substring(0,6)&&(a=d._fields[e],t+=(t?"|":"")+e+(d._fields["expire"+e]?"-"+d._fields["expire"+e]:"")+"|"+a);t=d._appendVersionTo(t),d.cookieWrite(d.cookieName,t,1)},d._getField=function(e,a){return null==d._fields||!a&&d._fieldsExpired&&d._fieldsExpired[e]?null:d._fields[e]},d._setField=function(e,a,t){null==d._fields&&(d._fields={}),d._fields[e]=a,t||d._writeVisitor()},d._getFieldList=function(e,a){var t=d._getField(e,a);return t?t.split("*"):null},d._setFieldList=function(e,a,t){d._setField(e,a?a.join("*"):"",t)},d._getFieldMap=function(e,a){var t=d._getFieldList(e,a);if(t){var r,n={};for(r=0;r<t.length;r+=2)n[t[r]]=t[r+1];return n}return null},d._setFieldMap=function(e,a,t){var r,n=null;if(a)for(r in n=[],a)M(r)&&(n.push(r),n.push(a[r]));d._setFieldList(e,n,t)},d._setFieldExpire=function(e,a,t){var r=new Date;r.setTime(r.getTime()+1e3*a),null==d._fields&&(d._fields={}),d._fields["expire"+e]=Math.floor(r.getTime()/1e3)+(t?"s":""),a<0?(d._fieldsExpired||(d._fieldsExpired={}),d._fieldsExpired[e]=!0):d._fieldsExpired&&(d._fieldsExpired[e]=!1),t&&(d.cookieRead(d.sessionCookieName)||d.cookieWrite(d.sessionCookieName,"1"))},d._findVisitorID=function(a){return a&&("object"===e(a)&&(a=a.d_mid?a.d_mid:a.visitorID?a.visitorID:a.id?a.id:a.uuid?a.uuid:""+a),a&&"NOTARGET"===(a=a.toUpperCase())&&(a=O),a&&(a===O||a.match(W.VALID_VISITOR_ID_REGEX))||(a="")),a},d._setFields=function(a,t){if(d._clearTimeout(a),null!=d._loading&&(d._loading[a]=!1),z.fieldGroupObj[a]&&z.setState(a,!1),"MC"===a){!0!==z.isClientSideMarketingCloudVisitorID&&(z.isClientSideMarketingCloudVisitorID=!1);var r=d._getField(S);if(!r||d.overwriteCrossDomainMCIDAndAID){if(!(r="object"===e(t)&&t.mid?t.mid:d._findVisitorID(t))){if(d._use1stPartyMarketingCloudServer&&!d.tried1stPartyMarketingCloudServer)return d.tried1stPartyMarketingCloudServer=!0,void d.getAnalyticsVisitorID(null,!1,!0);r=d._generateLocalMID()}d._setField(S,r)}r&&r!==O||(r=""),"object"===e(t)&&((t.d_region||t.dcs_region||t.d_blob||t.blob)&&d._setFields(L,t),d._use1stPartyMarketingCloudServer&&t.mid&&d._setFields(k,{id:t.id})),d._callAllCallbacks(S,[r])}if(a===L&&"object"===e(t)){var n=604800;void 0!=t.id_sync_ttl&&t.id_sync_ttl&&(n=parseInt(t.id_sync_ttl,10));var i=F.getRegionAndCheckIfChanged(t,n);d._callAllCallbacks("MCAAMLH",[i]);var o=d._getField(D);(t.d_blob||t.blob)&&((o=t.d_blob)||(o=t.blob),d._setFieldExpire(D,n),d._setField(D,o)),o||(o=""),d._callAllCallbacks(D,[o]),!t.error_msg&&d._newCustomerIDsHash&&d._setField("MCCIDH",d._newCustomerIDsHash)}if(a===k){var l=d._getField(I);l&&!d.overwriteCrossDomainMCIDAndAID||((l=d._findVisitorID(t))?l!==O&&d._setFieldExpire(D,-1):l=O,d._setField(I,l)),l&&l!==O||(l=""),d._callAllCallbacks(I,[l])}if(d.idSyncDisableSyncs||d.disableIdSyncs)F.idCallNotProcesssed=!0;else{F.idCallNotProcesssed=!1;var u={};u.ibs=t.ibs,u.subdomain=t.subdomain,F.processIDCallData(u)}if(t===Object(t)){var c,p;s()&&d.isAllowed()&&(c=d._getField("MCOPTOUT"));var m=P.parseOptOut(t,c,O);c=m.optOut,p=m.d_ottl,d._setFieldExpire("MCOPTOUT",p,!0),d._setField("MCOPTOUT",c),d._callAllCallbacks("MCOPTOUT",[c])}},d._loading=null,d._getRemoteField=function(e,a,t,r,n){var i,o="",l=j.isFirstPartyAnalyticsVisitorIDCall(e);if(s()&&d.isAllowed())if(d._readVisitor(),!(!(o=d._getField(e,!0==={MCAAMLH:!0,MCAAMB:!0}[e]))||d._fieldsExpired&&d._fieldsExpired[e])||d.disableThirdPartyCalls&&!l)o||(e===S?(d._registerCallback(e,t),o=d._generateLocalMID(),d.setMarketingCloudVisitorID(o)):e===I?(d._registerCallback(e,t),o="",d.setAnalyticsVisitorID(o)):(o="",r=!0));else if(e===S||"MCOPTOUT"===e?i="MC":"MCAAMLH"===e||e===D?i=L:e===I&&(i=k),i)return!a||null!=d._loading&&d._loading[i]||(null==d._loading&&(d._loading={}),d._loading[i]=!0,d._loadData(i,a,function(a){if(!d._getField(e)){a&&z.setState(i,!0);var t="";e===S?t=d._generateLocalMID():i===L&&(t={error_msg:"timeout"}),d._setFields(i,t)}},n)),d._registerCallback(e,t),o||(a||d._setFields(i,{id:O}),"");return e!==S&&e!==I||o!==O||(o="",r=!0),t&&r&&d._callCallback(t,[o]),o},d._setMarketingCloudFields=function(e){d._readVisitor(),d._setFields("MC",e)},d._mapCustomerIDs=function(e){d.getAudienceManagerBlob(e,!0)},d._setAnalyticsFields=function(e){d._readVisitor(),d._setFields(k,e)},d._setAudienceManagerFields=function(e){d._readVisitor(),d._setFields(L,e)},d._getAudienceManagerURLData=function(e){var a=d.audienceManagerServer,t="",r=d._getField(S),n=d._getField(D,!0),i=d._getField(I),o=i&&i!==O?"&d_cid_ic=AVID%01"+encodeURIComponent(i):"";if(d.loadSSL&&d.audienceManagerServerSecure&&(a=d.audienceManagerServerSecure),a){var s,l,u=d.getCustomerIDs();if(u)for(s in u)M(s)&&(l=u[s],o+="&d_cid_ic="+encodeURIComponent(s)+"%01"+encodeURIComponent(l.id?l.id:"")+(l.authState?"%01"+l.authState:""));e||(e="_setAudienceManagerFields");var c="http"+(d.loadSSL?"s":"")+"://"+a+"/id",p="d_visid_ver="+d.version+(v&&-1!==c.indexOf("demdex.net")?"&gdpr=1&gdpr_force=1&gdpr_consent="+v:"")+"&d_rtbd=json&d_ver=2"+(!r&&d._use1stPartyMarketingCloudServer?"&d_verify=1":"")+"&d_orgid="+encodeURIComponent(d.marketingCloudOrgID)+"&d_nsid="+(d.idSyncContainerID||0)+(r?"&d_mid="+encodeURIComponent(r):"")+(d.idSyncDisable3rdPartySyncing||d.disableThirdPartyCookies?"&d_coppa=true":"")+(!0===C?"&d_coop_safe=1":!1===C?"&d_coop_unsafe=1":"")+(n?"&d_blob="+encodeURIComponent(n):"")+o,m=["s_c_il",d._in,e];return{url:t=c+"?"+p+"&d_cb=s_c_il%5B"+d._in+"%5D."+e,corsUrl:c+"?"+p,callback:m}}return{url:t}},d.appendVisitorIDsTo=function(e){try{var a=[[S,d._getField(S)],[I,d._getField(I)],["MCORGID",d.marketingCloudOrgID]];return d._addQuerystringParam(e,W.ADOBE_MC,o(a))}catch(a){return e}},d.appendSupplementalDataIDTo=function(e,a){if(!(a=a||d.getSupplementalDataID(j.generateRandomString(),!0)))return e;try{var t=o([["SDID",a],["MCORGID",d.marketingCloudOrgID]]);return d._addQuerystringParam(e,W.ADOBE_MC_SDID,t)}catch(a){return e}};var j={parseHash:function(e){var a=e.indexOf("#");return a>0?e.substr(a):""},hashlessUrl:function(e){var a=e.indexOf("#");return a>0?e.substr(0,a):e},addQueryParamAtLocation:function(e,a,t){var r=e.split("&");return t=null!=t?t:r.length,r.splice(t,0,a),r.join("&")},isFirstPartyAnalyticsVisitorIDCall:function(e,a,t){return e===I&&(a||(a=d.trackingServer),t||(t=d.trackingServerSecure),!("string"!=typeof(r=d.loadSSL?t:a)||!r.length)&&r.indexOf("2o7.net")<0&&r.indexOf("omtrdc.net")<0);var r},isObject:function(e){return Boolean(e&&e===Object(e))},removeCookie:function(e){x.remove(e,{domain:d.cookieDomain})},isTrackingServerPopulated:function(){return!!d.trackingServer||!!d.trackingServerSecure},getTimestampInSeconds:function(){return Math.round((new Date).getTime()/1e3)},parsePipeDelimetedKeyValues:function(e){return e.split("|").reduce(function(e,a){var t=a.split("=");return e[t[0]]=decodeURIComponent(t[1]),e},{})},generateRandomString:function(e){e=e||5;for(var a="",t="abcdefghijklmnopqrstuvwxyz0123456789";e--;)a+=t[Math.floor(Math.random()*t.length)];return a},normalizeBoolean:function(e){return"true"===e||"false"!==e&&e},parseBoolean:function(e){return"true"===e||"false"!==e&&null},replaceMethodsWithFunction:function(e,a){for(var t in e)e.hasOwnProperty(t)&&"function"==typeof e[t]&&(e[t]=a);return e}};d._helpers=j;var F=function(e,a){var t=l.document;return{THROTTLE_START:3e4,MAX_SYNCS_LENGTH:649,throttleTimerSet:!1,id:null,onPagePixels:[],iframeHost:null,getIframeHost:function(e){if("string"==typeof e){var a=e.split("/");return a[0]+"//"+a[2]}},subdomain:null,url:null,getUrl:function(){var a,r="http://fast.",n="?d_nsid="+e.idSyncContainerID+"#"+encodeURIComponent(t.location.origin);return this.subdomain||(this.subdomain="nosubdomainreturned"),e.loadSSL&&(r=e.idSyncSSLUseAkamai?"https://fast.":"https://"),a=r+this.subdomain+".demdex.net/dest5.html"+n,this.iframeHost=this.getIframeHost(a),this.id="destination_publishing_iframe_"+this.subdomain+"_"+e.idSyncContainerID,a},checkDPIframeSrc:function(){var a="?d_nsid="+e.idSyncContainerID+"#"+encodeURIComponent(t.location.href);"string"==typeof e.dpIframeSrc&&e.dpIframeSrc.length&&(this.id="destination_publishing_iframe_"+(e._subdomain||this.subdomain||(new Date).getTime())+"_"+e.idSyncContainerID,this.iframeHost=this.getIframeHost(e.dpIframeSrc),this.url=e.dpIframeSrc+a)},idCallNotProcesssed:null,doAttachIframe:!1,startedAttachingIframe:!1,iframeHasLoaded:null,iframeIdChanged:null,newIframeCreated:null,originalIframeHasLoadedAlready:null,iframeLoadedCallbacks:[],regionChanged:!1,timesRegionChanged:0,sendingMessages:!1,messages:[],messagesPosted:[],messagesReceived:[],messageSendingInterval:W.POST_MESSAGE_ENABLED?null:100,onPageDestinationsFired:[],jsonForComparison:[],jsonDuplicates:[],jsonWaiting:[],jsonProcessed:[],canSetThirdPartyCookies:!0,receivedThirdPartyCookiesNotification:!1,readyToAttachIframePreliminary:function(){return!(e.idSyncDisableSyncs||e.disableIdSyncs||e.idSyncDisable3rdPartySyncing||e.disableThirdPartyCookies||e.disableThirdPartyCalls)},readyToAttachIframe:function(){return this.readyToAttachIframePreliminary()&&(this.doAttachIframe||e._doAttachIframe)&&(this.subdomain&&"nosubdomainreturned"!==this.subdomain||e._subdomain)&&this.url&&!this.startedAttachingIframe},attachIframe:function(){function e(){(n=t.createElement("iframe")).sandbox="allow-scripts allow-same-origin",n.title="Adobe ID Syncing iFrame",n.id=r.id,n.name=r.id+"_name",n.style.cssText="display: none; width: 0; height: 0;",n.src=r.url,r.newIframeCreated=!0,a(),t.body.appendChild(n)}function a(e){n.addEventListener("load",function(){n.className="aamIframeLoaded",r.iframeHasLoaded=!0,r.fireIframeLoadedCallbacks(e),r.requestToProcess()})}this.startedAttachingIframe=!0;var r=this,n=t.getElementById(this.id);n?"IFRAME"!==n.nodeName?(this.id+="_2",this.iframeIdChanged=!0,e()):(this.newIframeCreated=!1,"aamIframeLoaded"!==n.className?(this.originalIframeHasLoadedAlready=!1,a("The destination publishing iframe already exists from a different library, but hadn't loaded yet.")):(this.originalIframeHasLoadedAlready=!0,this.iframeHasLoaded=!0,this.iframe=n,this.fireIframeLoadedCallbacks("The destination publishing iframe already exists from a different library, and had loaded alresady."),this.requestToProcess())):e(),this.iframe=n},fireIframeLoadedCallbacks:function(e){this.iframeLoadedCallbacks.forEach(function(a){"function"==typeof a&&a({message:e||"The destination publishing iframe was attached and loaded successfully."})}),this.iframeLoadedCallbacks=[]},requestToProcess:function(a){function t(){n.jsonForComparison.push(a),n.jsonWaiting.push(a),n.processSyncOnPage(a)}var r,n=this;if(a===Object(a)&&a.ibs)if(r=JSON.stringify(a.ibs||[]),this.jsonForComparison.length){var i,o,s,l=!1;for(i=0,o=this.jsonForComparison.length;i<o;i++)if(s=this.jsonForComparison[i],r===JSON.stringify(s.ibs||[])){l=!0;break}l?this.jsonDuplicates.push(a):t()}else t();if((this.receivedThirdPartyCookiesNotification||!W.POST_MESSAGE_ENABLED||this.iframeHasLoaded)&&this.jsonWaiting.length){var u=this.jsonWaiting.shift();this.process(u),this.requestToProcess()}e.idSyncDisableSyncs||e.disableIdSyncs||!this.iframeHasLoaded||!this.messages.length||this.sendingMessages||(this.throttleTimerSet||(this.throttleTimerSet=!0,setTimeout(function(){n.messageSendingInterval=W.POST_MESSAGE_ENABLED?null:150},this.THROTTLE_START)),this.sendingMessages=!0,this.sendMessages())},getRegionAndCheckIfChanged:function(a,t){var r=e._getField("MCAAMLH"),n=a.d_region||a.dcs_region;return r?n&&(e._setFieldExpire("MCAAMLH",t),e._setField("MCAAMLH",n),parseInt(r,10)!==n&&(this.regionChanged=!0,this.timesRegionChanged++,e._setField("MCSYNCSOP",""),e._setField("MCSYNCS",""),r=n)):(r=n)&&(e._setFieldExpire("MCAAMLH",t),e._setField("MCAAMLH",r)),r||(r=""),r},processSyncOnPage:function(e){var a,t,r,n;if((a=e.ibs)&&a instanceof Array&&(t=a.length))for(r=0;r<t;r++)(n=a[r]).syncOnPage&&this.checkFirstPartyCookie(n,"","syncOnPage")},process:function(e){var a,t,r,n,i,o=encodeURIComponent,s=!1;if((a=e.ibs)&&a instanceof Array&&(t=a.length))for(s=!0,r=0;r<t;r++)n=a[r],i=[o("ibs"),o(n.id||""),o(n.tag||""),P.encodeAndBuildRequest(n.url||[],","),o(n.ttl||""),"","",n.fireURLSync?"true":"false"],n.syncOnPage||(this.canSetThirdPartyCookies?this.addMessage(i.join("|")):n.fireURLSync&&this.checkFirstPartyCookie(n,i.join("|")));s&&this.jsonProcessed.push(e)},checkFirstPartyCookie:function(a,t,r){var n="syncOnPage"===r,i=n?"MCSYNCSOP":"MCSYNCS";e._readVisitor();var o,s,l=e._getField(i),u=!1,c=!1,p=Math.ceil((new Date).getTime()/W.MILLIS_PER_DAY);l?(o=l.split("*"),u=(s=this.pruneSyncData(o,a.id,p)).dataPresent,c=s.dataValid,u&&c||this.fireSync(n,a,t,o,i,p)):(o=[],this.fireSync(n,a,t,o,i,p))},pruneSyncData:function(e,a,t){var r,n,i,o=!1,s=!1;for(n=0;n<e.length;n++)r=e[n],i=parseInt(r.split("-")[1],10),r.match("^"+a+"-")?(o=!0,t<i?s=!0:(e.splice(n,1),n--)):t>=i&&(e.splice(n,1),n--);return{dataPresent:o,dataValid:s}},manageSyncsSize:function(e){if(e.join("*").length>this.MAX_SYNCS_LENGTH)for(e.sort(function(e,a){return parseInt(e.split("-")[1],10)-parseInt(a.split("-")[1],10)});e.join("*").length>this.MAX_SYNCS_LENGTH;)e.shift()},fireSync:function(a,t,r,n,i,o){var s=this;if(a){if("img"===t.tag){var l,u,c,p,d=t.url,m=e.loadSSL?"https:":"http:";for(l=0,u=d.length;l<u;l++){c=d[l],p=/^\/\//.test(c);var v=new Image;v.addEventListener("load",function(a,t,r,n){return function(){s.onPagePixels[a]=null,e._readVisitor();var o,l,u,c,p=e._getField(i),d=[];if(p)for(l=0,u=(o=p.split("*")).length;l<u;l++)(c=o[l]).match("^"+t.id+"-")||d.push(c);s.setSyncTrackingData(d,t,r,n)}}(this.onPagePixels.length,t,i,o)),v.src=(p?m:"")+c,this.onPagePixels.push(v)}}}else this.addMessage(r),this.setSyncTrackingData(n,t,i,o)},addMessage:function(a){var t=encodeURIComponent(e._enableErrorReporting?"---destpub-debug---":"---destpub---");this.messages.push((W.POST_MESSAGE_ENABLED?"":t)+a)},setSyncTrackingData:function(a,t,r,n){a.push(t.id+"-"+(n+Math.ceil(t.ttl/60/24))),this.manageSyncsSize(a),e._setField(r,a.join("*"))},sendMessages:function(){var e,a=this,t="",r=encodeURIComponent;this.regionChanged&&(t=r("---destpub-clear-dextp---"),this.regionChanged=!1),this.messages.length?W.POST_MESSAGE_ENABLED?(e=t+r("---destpub-combined---")+this.messages.join("%01"),this.postMessage(e),this.messages=[],this.sendingMessages=!1):(e=this.messages.shift(),this.postMessage(t+e),setTimeout(function(){a.sendMessages()},this.messageSendingInterval)):this.sendingMessages=!1},postMessage:function(e){B(e,this.url,this.iframe.contentWindow),this.messagesPosted.push(e)},receiveMessage:function(e){var a,t=/^---destpub-to-parent---/;"string"==typeof e&&t.test(e)&&("canSetThirdPartyCookies"===(a=e.replace(t,"").split("|"))[0]&&(this.canSetThirdPartyCookies="true"===a[1],this.receivedThirdPartyCookiesNotification=!0,this.requestToProcess()),this.messagesReceived.push(e))},processIDCallData:function(r){(null==this.url||r.subdomain&&"nosubdomainreturned"===this.subdomain)&&("string"==typeof e._subdomain&&e._subdomain.length?this.subdomain=e._subdomain:this.subdomain=r.subdomain||"",this.url=this.getUrl()),r.ibs instanceof Array&&r.ibs.length&&(this.doAttachIframe=!0),this.readyToAttachIframe()&&(e.idSyncAttachIframeOnWindowLoad?(a.windowLoaded||"complete"===t.readyState||"loaded"===t.readyState)&&this.attachIframe():this.attachIframeASAP()),"function"==typeof e.idSyncIDCallResult?e.idSyncIDCallResult(r):this.requestToProcess(r),"function"==typeof e.idSyncAfterIDCallResult&&e.idSyncAfterIDCallResult(r)},canMakeSyncIDCall:function(a,t){return e._forceSyncIDCall||!a||t-a>W.DAYS_BETWEEN_SYNC_ID_CALLS},attachIframeASAP:function(){var e=this;!function a(){e.startedAttachingIframe||(t.body?e.attachIframe():setTimeout(a,30))}()}}}(d,b);d._destinationPublishing=F,d.timeoutMetricsLog=[];var z={isClientSideMarketingCloudVisitorID:null,MCIDCallTimedOut:null,AnalyticsIDCallTimedOut:null,AAMIDCallTimedOut:null,fieldGroupObj:{},setState:function(e,a){switch(e){case"MC":!1===a?!0!==this.MCIDCallTimedOut&&(this.MCIDCallTimedOut=!1):this.MCIDCallTimedOut=a;break;case k:!1===a?!0!==this.AnalyticsIDCallTimedOut&&(this.AnalyticsIDCallTimedOut=!1):this.AnalyticsIDCallTimedOut=a;break;case L:!1===a?!0!==this.AAMIDCallTimedOut&&(this.AAMIDCallTimedOut=!1):this.AAMIDCallTimedOut=a}}};d.isClientSideMarketingCloudVisitorID=function(){return z.isClientSideMarketingCloudVisitorID},d.MCIDCallTimedOut=function(){return z.MCIDCallTimedOut},d.AnalyticsIDCallTimedOut=function(){return z.AnalyticsIDCallTimedOut},d.AAMIDCallTimedOut=function(){return z.AAMIDCallTimedOut},d.idSyncGetOnPageSyncInfo=function(){return d._readVisitor(),d._getField("MCSYNCSOP")},d.idSyncByURL=function(e){if(!d.isOptedOut()){var a=function(e){var a=e.minutesToLive,t="";return(d.idSyncDisableSyncs||d.disableIdSyncs)&&(t=t||"Error: id syncs have been disabled"),"string"==typeof e.dpid&&e.dpid.length||(t=t||"Error: config.dpid is empty"),"string"==typeof e.url&&e.url.length||(t=t||"Error: config.url is empty"),void 0===a?a=20160:(a=parseInt(a,10),(isNaN(a)||a<=0)&&(t=t||"Error: config.minutesToLive needs to be a positive number")),{error:t,ttl:a}}(e||{});if(a.error)return a.error;var t,r,n=e.url,i=encodeURIComponent,o=F;return n=n.replace(/^https:/,"").replace(/^http:/,""),t=P.encodeAndBuildRequest(["",e.dpid,e.dpuuid||""],","),r=["ibs",i(e.dpid),"img",i(n),a.ttl,"",t],o.addMessage(r.join("|")),o.requestToProcess(),"Successfully queued"}},d.idSyncByDataSource=function(e){if(!d.isOptedOut())return e===Object(e)&&"string"==typeof e.dpuuid&&e.dpuuid.length?(e.url="//dpm.demdex.net/ibs:dpid="+e.dpid+"&dpuuid="+e.dpuuid,d.idSyncByURL(e)):"Error: config or config.dpuuid is empty"},function(e,a){e.publishDestinations=function(t){var r=arguments[1],n=arguments[2];try{n="function"==typeof n?n:t.callback}catch(e){n=function(){}}var i=a;if(i.readyToAttachIframePreliminary()){if("string"==typeof t){if(!t.length)return void n({error:"subdomain is not a populated string."});if(!(r instanceof Array&&r.length))return void n({error:"messages is not a populated array."});var o=!1;if(r.forEach(function(e){"string"==typeof e&&e.length&&(i.addMessage(e),o=!0)}),!o)return void n({error:"None of the messages are populated strings."})}else{if(!P.isObject(t))return void n({error:"Invalid parameters passed."});var s=t;if("string"!=typeof(t=s.subdomain)||!t.length)return void n({error:"config.subdomain is not a populated string."});var l=s.urlDestinations;if(!(l instanceof Array&&l.length))return void n({error:"config.urlDestinations is not a populated array."});var u=[];l.forEach(function(e){P.isObject(e)&&(e.hideReferrer?e.message&&i.addMessage(e.message):u.push(e))}),function e(){u.length&&setTimeout(function(){var a=new Image,t=u.shift();a.src=t.url,i.onPageDestinationsFired.push(t),e()},100)}()}i.iframe?(n({message:"The destination publishing iframe is already attached and loaded."}),i.requestToProcess()):!e.subdomain&&e._getField("MCMID")?(i.subdomain=t,i.doAttachIframe=!0,i.url=i.getUrl(),i.readyToAttachIframe()?(i.iframeLoadedCallbacks.push(function(e){n({message:"Attempted to attach and load the destination publishing iframe through this API call. Result: "+(e.message||"no result")})}),i.attachIframe()):n({error:"Encountered a problem in attempting to attach and load the destination publishing iframe through this API call."})):i.iframeLoadedCallbacks.push(function(e){n({message:"Attempted to attach and load the destination publishing iframe through normal Visitor API processing. Result: "+(e.message||"no result")})})}else n({error:"The destination publishing iframe is disabled in the Visitor library."})}}(d,F),d._getCookieVersion=function(e){e=e||d.cookieRead(d.cookieName);var a=W.VERSION_REGEX.exec(e);return a&&a.length>1?a[1]:null},d._resetAmcvCookie=function(e){var a=d._getCookieVersion();a&&!H(a,e)||j.removeCookie(d.cookieName)},d.setAsCoopSafe=function(){C=!0},d.setAsCoopUnsafe=function(){C=!1},function(){if(d.configs=Object.create(null),j.isObject(t))for(var e in t)M(e)&&(d[e]=t[e],d.configs[e]=t[e])}(),[["getMarketingCloudVisitorID"],["setCustomerIDs",void 0],["getAnalyticsVisitorID"],["getAudienceManagerLocationHint"],["getLocationHint"],["getAudienceManagerBlob"]].forEach(function(e){var a=e[0],t=2===e.length?e[1]:"",r=d[a];d[a]=function(e){return s()&&d.isAllowed()?r.apply(d,arguments):("function"==typeof e&&d._callCallback(e,[t]),t)}}),d.init=function(){if(!(!d.configs.doesOptInApply||m.optIn.isComplete&&s()))return m.optIn.fetchPermissions(c,!0);!function(){if(j.isObject(t)){d.idSyncContainerID=d.idSyncContainerID||0,C="boolean"==typeof d.isCoopSafe?d.isCoopSafe:j.parseBoolean(d.isCoopSafe),d.resetBeforeVersion&&d._resetAmcvCookie(d.resetBeforeVersion),d._attemptToPopulateIdsFromUrl(),d._attemptToPopulateSdidFromUrl(),d._readVisitor();var e=d._getField(T),a=Math.ceil((new Date).getTime()/W.MILLIS_PER_DAY);d.idSyncDisableSyncs||d.disableIdSyncs||!F.canMakeSyncIDCall(e,a)||(d._setFieldExpire(D,-1),d._setField(T,a)),d.getMarketingCloudVisitorID(),d.getAudienceManagerLocationHint(),d.getAudienceManagerBlob(),d._mergeServerState(d.serverState)}else d._attemptToPopulateIdsFromUrl(),d._attemptToPopulateSdidFromUrl()}(),function(){if(!d.idSyncDisableSyncs&&!d.disableIdSyncs){F.checkDPIframeSrc(),V.addEventListener("load",function(){b.windowLoaded=!0,function(){var e=F;e.readyToAttachIframe()&&e.attachIframe()}()});try{J(function(e){F.receiveMessage(e.data)},F.iframeHost)}catch(e){}}}(),d.whitelistIframeDomains&&W.POST_MESSAGE_ENABLED&&(d.whitelistIframeDomains=d.whitelistIframeDomains instanceof Array?d.whitelistIframeDomains:[d.whitelistIframeDomains],d.whitelistIframeDomains.forEach(function(e){var t=new w(a,e),r=N(d,t);J(r,e)}))}};Ie.config=$,l.Visitor=Ie;var Le=Ie,we=Se.OptIn,De=Se.IabPlugin;Le.getInstance=function(e,a){if(!e)throw new Error("Visitor requires Adobe Marketing Cloud Org ID.");e.indexOf("@")<0&&(e+="@AdobeOrg");var t=function(){var a=l.s_c_il;if(a)for(var t=0;t<a.length;t++){var r=a[t];if(r&&"Visitor"===r._c&&r.marketingCloudOrgID===e)return r}}();if(t)return t;var r=function(e){if(P.isObject(e))return Object.keys(e).filter(function(a){return""!==e[a]}).reduce(function(a,t){var r="doesOptInApply"!==t?e[t]:$.normalizeConfig(e[t]),n=P.normalizeBoolean(r);return a[t]=n,a},Object.create(null))}(a);!function(e){l.adobe.optIn=l.adobe.optIn||function(){var a=P.pluck(e,["doesOptInApply","previousPermissions","preOptInApprovals","isOptInStorageEnabled","optInStorageExpiry","isIabContext"]),t=e.optInCookieDomain||e.cookieDomain;t=(t=t||R())===window.location.hostname?"":t,a.optInCookieDomain=t;var r=new we(a,{cookies:x});if(a.isIabContext){var n=new De(window.__cmp);r.registerPlugin(n)}return r}()}(r||{});var n=e.split("").reverse().join(""),i=new Le(e,null,n);P.isObject(r)&&r.cookieDomain&&(i.cookieDomain=r.cookieDomain),l.s_c_il.splice(--l.s_c_in,1);var o=P.getIeVersion();if("number"==typeof o&&o<10)return i._helpers.replaceMethodsWithFunction(i,function(){});var s=function(){try{return l.self!==l.parent}catch(e){return!0}}()&&!function(e){return e.cookieWrite("TEST_AMCV_COOKIE","T",1),"T"===e.cookieRead("TEST_AMCV_COOKIE")&&(e._helpers.removeCookie("TEST_AMCV_COOKIE"),!0)}(i)&&l.parent?new O(e,r,i,l.parent):new Le(e,r,n);return i=null,s.init(),s},function(){function e(){Le.windowLoaded=!0}l.addEventListener?l.addEventListener("load",e):l.attachEvent&&l.attachEvent("onload",e),Le.codeLoadEnd=(new Date).getTime()}()}(),Visitor)}},"adobe-mcid/src/view/utils/timeUnits.js":{script:function(e,a,t,r){e.exports={Hours:3600,Days:86400,Weeks:604800,Months:2592e3,Years:31536e3}}}},settings:{orgId:"16B222CE527834FC0A490D4D@AdobeOrg",variables:[{name:"trackingServer",value:"channel4.com.sc.omtrdc.net"},{name:"trackingServerSecure",value:"channel4.com.ssl.sc.omtrdc.net"},{name:"marketingCloudServer",value:"webstat.channel4.com"},{name:"marketingCloudServerSecure",value:"webstats.channel4.com"}]},hostedLibFilesBaseUrl:"https://static.c4assets.com/all4-dtm/latest/8a7c8783bfdc/hostedLibFiles/EP3d4585a666a540d593f13bc3e280372f/"},core:{displayName:"Core",modules:{"core/src/lib/dataElements/domAttribute.js":{name:"dom-attribute",displayName:"DOM Attribute",script:function(e,a,t,r){"use strict";e.exports=function(e){var a=document.querySelector(e.elementSelector);if(a){var t=e.elementProperty;return"text"===t?a.innerText||a.textContent:t in a?a[t]:a.getAttribute?a.getAttribute(t):void 0}}}},"core/src/lib/dataElements/customCode.js":{name:"custom-code",displayName:"Custom Code",script:function(e,a,t,r){"use strict";e.exports=function(e){return e.source()}}},"core/src/lib/dataElements/javascriptVariable.js":{name:"javascript-variable",displayName:"JavaScript Variable",script:function(e,a,t,r){"use strict";var n=t("../helpers/getObjectProperty.js");e.exports=function(e){return n(window,e.path)}}},"core/src/lib/dataElements/cookie.js":{name:"cookie",displayName:"Cookie",script:function(e,a,t,r){"use strict";var n=t("@adobe/reactor-cookie");e.exports=function(e){return n.get(e.name)}}},"core/src/lib/actions/customCode.js":{name:"custom-code",displayName:"Custom Code",script:function(e,a,t,r){"use strict";var n,i,o=t("@adobe/reactor-document"),s=t("./helpers/decorateCode"),l=t("./helpers/loadCodeSequentially"),u=t("../../../node_modules/postscribe/dist/postscribe"),c=r.getExtensionSettings(),p=(n=[],i=function(){if(o.body)for(;n.length;)e=n.shift(),u(o.body,e,{beforeWriteToken:function(e){return c.cspNonce&&"script"===e.tagName&&(e.attrs.nonce=c.cspNonce),e},error:function(e){r.logger.error(e.msg)}});else setTimeout(i,20);var e},function(e){n.push(e),i()}),d=function(){if(o.currentScript)return o.currentScript.async;for(var e=o.querySelectorAll("script"),a=0;a<e.length;a++){var t=e[a];if(/(launch|satelliteLib)-[^\/]+.js(\?.*)?$/.test(t.src))return t.async}return!0}();e.exports=function(e,a){var t={settings:e,event:a},r=t.settings.source;if(r)return t.settings.isExternal?l(r).then(function(e){e&&p(s(t,e))}):void(d||"loading"!==o.readyState?p(s(t,r)):o.write?o.write(s(t,r)):p(s(t,r)))}}},"core/src/lib/events/click.js":{name:"click",displayName:"Click",script:function(e,a,t,r){"use strict";var n=t("@adobe/reactor-window"),i=t("./helpers/createBubbly")(),o=new(t("./helpers/weakMap"));document.addEventListener("click",i.evaluateEvent,!0),e.exports=function(e,a){i.addListener(e,function(t){var r=t.nativeEvent;if(!r.s_fe){if(e.anchorDelay&&!o.has(r)){var i=function(e){for(;e;){var a=e.tagName;if(a&&"a"===a.toLowerCase()){var t=e.getAttribute("href"),r=e.getAttribute("target");return t&&(!r||"_self"===r||"_top"===r&&n.top===n||r===n.name)?e:void 0}e=e.parentNode}}(r.target);i&&(r.preventDefault(),setTimeout(function(){n.location=i.href},e.anchorDelay)),o.set(r,!0)}a(t)}})},e.exports.__reset=i.__reset}},"core/src/lib/conditions/valueComparison.js":{name:"value-comparison",displayName:"Value Comparison",script:function(e,a,t,r){"use strict";var n=function(e){return"number"==typeof e&&isFinite(e)},i=function(e){return"string"==typeof e||e instanceof String},o=function(e,a){return a&&i(e)?e.toLowerCase():e},s=function(e){return n(e)?String(e):e},l=function(e){return i(e)?Number(e):e},u=function(e){return function(a,t,r){return a=s(a),t=s(t),i(a)&&i(t)&&e(a,t,r)}},c=function(e){return function(a,t){return a=l(a),t=l(t),n(a)&&n(t)&&e(a,t)}},p=function(e){return function(a,t,r){return e(o(a,r),o(t,r))}},d={equals:p(function(e,a){return e==a}),doesNotEqual:function(){return!d.equals.apply(null,arguments)},contains:u(p(function(e,a){return-1!==e.indexOf(a)})),doesNotContain:function(){return!d.contains.apply(null,arguments)},startsWith:u(p(function(e,a){return 0===e.indexOf(a)})),doesNotStartWith:function(){return!d.startsWith.apply(null,arguments)},endsWith:u(p(function(e,a){return e.substring(e.length-a.length,e.length)===a})),doesNotEndWith:function(){return!d.endsWith.apply(null,arguments)},matchesRegex:u(function(e,a,t){return new RegExp(a,t?"i":"").test(e)}),doesNotMatchRegex:function(){return!d.matchesRegex.apply(null,arguments)},lessThan:c(function(e,a){return e<a}),lessThanOrEqual:c(function(e,a){return e<=a}),greaterThan:c(function(e,a){return e>a}),greaterThanOrEqual:c(function(e,a){return e>=a}),isTrue:function(e){return!0===e},isTruthy:function(e){return Boolean(e)},isFalse:function(e){return!1===e},isFalsy:function(e){return!e}};e.exports=function(e){return d[e.comparison.operator](e.leftOperand,e.rightOperand,Boolean(e.comparison.caseInsensitive))}}},"core/src/lib/events/dataElementChange.js":{name:"data-element-change",displayName:"Data Element Change",script:function(e,a,t,r){"use strict";var n={},i={};setInterval(function(){Object.keys(n).forEach(function(e){var a=JSON.stringify(r.getDataElementValue(e));if(a!==i[e]){var t={dataElementName:e};n[e].forEach(function(e){e(t)}),i[e]=a}})},1e3),e.exports=function(e,a){var t=e.name,o=n[t];o||(o=n[t]=[],i[t]=JSON.stringify(r.getDataElementValue(t))),o.push(a)}}},"core/src/lib/events/directCall.js":{name:"direct-call",displayName:"Direct Call",script:function(e,a,t,r){"use strict";var n={};window._satellite=window._satellite||{},window._satellite.track=function(e,a){e=e.trim();var t=n[e];if(t){var i={identifier:e,detail:a};t.forEach(function(e){e(i)});var o=['Rules using the direct call event type with identifier "'+e+'" have been triggered'+(a?" with additional detail:":".")];a&&o.push(a),r.logger.log.apply(r.logger,o)}else r.logger.log('"'+e+'" does not match any direct call identifiers.')},e.exports=function(e,a){var t=n[e.identifier];t||(t=n[e.identifier]=[]),t.push(a)}}},"core/src/lib/conditions/customCode.js":{name:"custom-code",displayName:"Custom Code",script:function(e,a,t,r){"use strict";e.exports=function(e,a){return e.source.call(a.element,a,a.target)}}},"core/src/lib/events/customEvent.js":{name:"custom-event",displayName:"Custom Event",script:function(e,a,t,r){"use strict";var n=t("./helpers/createBubbly")(),i=[];e.exports=function(e,a){var t=e.type;-1===i.indexOf(t)&&(i.push(t),window.addEventListener(t,n.evaluateEvent,!0)),n.addListener(e,function(e){e.nativeEvent.type===t&&(e.detail=e.nativeEvent.detail,a(e))})}}},"core/src/lib/helpers/getObjectProperty.js":{script:function(e,a,t,r){"use strict";e.exports=function(e,a){for(var t=a.split("."),r=e,n=0,i=t.length;n<i;n++){if(null==r)return;r=r[t[n]]}return r}}},"core/src/lib/actions/helpers/decorateCode.js":{script:function(e,a,t,r){"use strict";var n=0,i={javascript:function(e,a){return e.settings.global?function(e,a){return"<script>\n"+a+"\n<\/script>"}(0,a):function(e,a){var t="__runScript"+ ++n;return _satellite[t]=function(a){a.call(e.event.element,e.event,e.event.target),delete _satellite[t]},'<script>_satellite["'+t+'"](function(event, target) {\n'+a+"\n});<\/script>"}(e,a)},html:function(e,a){return function(e){return e.settings.isExternal}(e)?r.replaceTokens(a,e.event):a}};e.exports=function(e,a){return i[e.settings.language](e,a)}}},"core/src/lib/actions/helpers/loadCodeSequentially.js":{script:function(e,a,t,r){"use strict";var n=t("@adobe/reactor-promise"),i=t("./getSourceByUrl"),o=n.resolve();e.exports=function(e){var a=new n(function(a){var t=i(e);n.all([t,o]).then(function(e){var t=e[0];a(t)})});return o=a,a}}},"core/node_modules/postscribe/dist/postscribe.js":{script:function(e,a,t,r){var n,i;n=this,i=function(){return function(e){var a={};function t(r){if(a[r])return a[r].exports;var n=a[r]={exports:{},id:r,loaded:!1};return e[r].call(n.exports,n,n.exports,t),n.loaded=!0,n.exports}return t.m=e,t.c=a,t.p="",t(0)}([function(e,a,t){"use strict";var r,n=t(1),i=(r=n)&&r.__esModule?r:{default:r};e.exports=i.default},function(e,a,t){"use strict";a.__esModule=!0;var r=Object.assign||function(e){for(var a=1;a<arguments.length;a++){var t=arguments[a];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e};a.default=v;var n,i=t(2),o=(n=i)&&n.__esModule?n:{default:n},s=function(e){if(e&&e.__esModule)return e;var a={};if(null!=e)for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(a[t]=e[t]);return a.default=e,a}(t(4));function l(){}var u={afterAsync:l,afterDequeue:l,afterStreamStart:l,afterWrite:l,autoFix:!0,beforeEnqueue:l,beforeWriteToken:function(e){return e},beforeWrite:function(e){return e},done:l,error:function(e){throw new Error(e.msg)},releaseAsync:!1},c=0,p=[],d=null;function m(){var e=p.shift();if(e){var a=s.last(e);a.afterDequeue(),e.stream=function(e,a,t){(d=new o.default(e,t)).id=c++,d.name=t.name||d.id,v.streams[d.name]=d;var n=e.ownerDocument,i={close:n.close,open:n.open,write:n.write,writeln:n.writeln};function s(e){e=t.beforeWrite(e),d.write(e),t.afterWrite(e)}r(n,{close:l,open:l,write:function(){for(var e=arguments.length,a=Array(e),t=0;t<e;t++)a[t]=arguments[t];return s(a.join(""))},writeln:function(){for(var e=arguments.length,a=Array(e),t=0;t<e;t++)a[t]=arguments[t];return s(a.join("")+"\n")}});var u=d.win.onerror||l;return d.win.onerror=function(e,a,r){t.error({msg:e+" - "+a+": "+r}),u.apply(d.win,[e,a,r])},d.write(a,function(){r(n,i),d.win.onerror=u,t.done(),d=null,m()}),d}.apply(void 0,e),a.afterStreamStart()}}function v(e,a,t){if(s.isFunction(t))t={done:t};else if("clear"===t)return p=[],d=null,void(c=0);t=s.defaults(t,u);var r=[e=/^#/.test(e)?window.document.getElementById(e.substr(1)):e.jquery?e[0]:e,a,t];return e.postscribe={cancel:function(){r.stream?r.stream.abort():r[1]=l}},t.beforeEnqueue(r),p.push(r),d||m(),e.postscribe}r(v,{streams:{},queue:p,WriteStream:o.default})},function(e,a,t){"use strict";a.__esModule=!0;var r,n=Object.assign||function(e){for(var a=1;a<arguments.length;a++){var t=arguments[a];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},i=t(3),o=(r=i)&&r.__esModule?r:{default:r},s=function(e){if(e&&e.__esModule)return e;var a={};if(null!=e)for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(a[t]=e[t]);return a.default=e,a}(t(4)),l="data-ps-";function u(e,a){var t=l+a,r=e.getAttribute(t);return s.existy(r)?String(r):r}function c(e,a){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=l+a;s.existy(t)&&""!==t?e.setAttribute(r,t):e.removeAttribute(r)}var p=function(){function e(a){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!function(e,a){if(!(e instanceof a))throw new TypeError("Cannot call a class as a function")}(this,e),this.root=a,this.options=t,this.doc=a.ownerDocument,this.win=this.doc.defaultView||this.doc.parentWindow,this.parser=new o.default("",{autoFix:t.autoFix}),this.actuals=[a],this.proxyHistory="",this.proxyRoot=this.doc.createElement(a.nodeName),this.scriptStack=[],this.writeQueue=[],c(this.proxyRoot,"proxyof",0)}return e.prototype.write=function(){var e;for((e=this.writeQueue).push.apply(e,arguments);!this.deferredRemote&&this.writeQueue.length;){var a=this.writeQueue.shift();s.isFunction(a)?this._callFunction(a):this._writeImpl(a)}},e.prototype._callFunction=function(e){var a={type:"function",value:e.name||e.toString()};this._onScriptStart(a),e.call(this.win,this.doc),this._onScriptDone(a)},e.prototype._writeImpl=function(e){this.parser.append(e);for(var a=void 0,t=void 0,r=void 0,n=[];(a=this.parser.readToken())&&!(t=s.isScript(a))&&!(r=s.isStyle(a));)(a=this.options.beforeWriteToken(a))&&n.push(a);n.length>0&&this._writeStaticTokens(n),t&&this._handleScriptToken(a),r&&this._handleStyleToken(a)},e.prototype._writeStaticTokens=function(e){var a=this._buildChunk(e);return a.actual?(a.html=this.proxyHistory+a.actual,this.proxyHistory+=a.proxy,this.proxyRoot.innerHTML=a.html,this._walkChunk(),a):null},e.prototype._buildChunk=function(e){for(var a=this.actuals.length,t=[],r=[],n=[],i=e.length,o=0;o<i;o++){var s=e[o],u=s.toString();if(t.push(u),s.attrs){if(!/^noscript$/i.test(s.tagName)){var c=a++;r.push(u.replace(/(\/?>)/," "+l+"id="+c+" $1")),"ps-script"!==s.attrs.id&&"ps-style"!==s.attrs.id&&n.push("atomicTag"===s.type?"":"<"+s.tagName+" "+l+"proxyof="+c+(s.unary?" />":">"))}}else r.push(u),n.push("endTag"===s.type?u:"")}return{tokens:e,raw:t.join(""),actual:r.join(""),proxy:n.join("")}},e.prototype._walkChunk=function(){for(var e=void 0,a=[this.proxyRoot];s.existy(e=a.shift());){var t=1===e.nodeType;if(!t||!u(e,"proxyof")){t&&(this.actuals[u(e,"id")]=e,c(e,"id"));var r=e.parentNode&&u(e.parentNode,"proxyof");r&&this.actuals[r].appendChild(e)}a.unshift.apply(a,s.toArray(e.childNodes))}},e.prototype._handleScriptToken=function(e){var a=this,t=this.parser.clear();t&&this.writeQueue.unshift(t),e.src=e.attrs.src||e.attrs.SRC,(e=this.options.beforeWriteToken(e))&&(e.src&&this.scriptStack.length?this.deferredRemote=e:this._onScriptStart(e),this._writeScriptToken(e,function(){a._onScriptDone(e)}))},e.prototype._handleStyleToken=function(e){var a=this.parser.clear();a&&this.writeQueue.unshift(a),e.type=e.attrs.type||e.attrs.TYPE||"text/css",(e=this.options.beforeWriteToken(e))&&this._writeStyleToken(e),a&&this.write()},e.prototype._writeStyleToken=function(e){var a=this._buildStyle(e);this._insertCursor(a,"ps-style"),e.content&&(a.styleSheet&&!a.sheet?a.styleSheet.cssText=e.content:a.appendChild(this.doc.createTextNode(e.content)))},e.prototype._buildStyle=function(e){var a=this.doc.createElement(e.tagName);return a.setAttribute("type",e.type),s.eachKey(e.attrs,function(e,t){a.setAttribute(e,t)}),a},e.prototype._insertCursor=function(e,a){this._writeImpl('<span id="'+a+'"/>');var t=this.doc.getElementById(a);t&&t.parentNode.replaceChild(e,t)},e.prototype._onScriptStart=function(e){e.outerWrites=this.writeQueue,this.writeQueue=[],this.scriptStack.unshift(e)},e.prototype._onScriptDone=function(e){e===this.scriptStack[0]?(this.scriptStack.shift(),this.write.apply(this,e.outerWrites),!this.scriptStack.length&&this.deferredRemote&&(this._onScriptStart(this.deferredRemote),this.deferredRemote=null)):this.options.error({msg:"Bad script nesting or script finished twice"})},e.prototype._writeScriptToken=function(e,a){var t=this._buildScript(e),r=this._shouldRelease(t),n=this.options.afterAsync;e.src&&(t.src=e.src,this._scriptLoadHandler(t,r?n:function(){a(),n()}));try{this._insertCursor(t,"ps-script"),t.src&&!r||a()}catch(e){this.options.error(e),a()}},e.prototype._buildScript=function(e){var a=this.doc.createElement(e.tagName);return s.eachKey(e.attrs,function(e,t){a.setAttribute(e,t)}),e.content&&(a.text=e.content),a},e.prototype._scriptLoadHandler=function(e,a){function t(){e=e.onload=e.onreadystatechange=e.onerror=null}var r=this.options.error;function i(){t(),null!=a&&a(),a=null}function o(e){t(),r(e),null!=a&&a(),a=null}function s(e,a){var t=e["on"+a];null!=t&&(e["_on"+a]=t)}s(e,"load"),s(e,"error"),n(e,{onload:function(){if(e._onload)try{e._onload.apply(this,Array.prototype.slice.call(arguments,0))}catch(a){o({msg:"onload handler failed "+a+" @ "+e.src})}i()},onerror:function(){if(e._onerror)try{e._onerror.apply(this,Array.prototype.slice.call(arguments,0))}catch(a){return void o({msg:"onerror handler failed "+a+" @ "+e.src})}o({msg:"remote script failed "+e.src})},onreadystatechange:function(){/^(loaded|complete)$/.test(e.readyState)&&i()}})},e.prototype._shouldRelease=function(e){return!/^script$/i.test(e.nodeName)||!!(this.options.releaseAsync&&e.src&&e.hasAttribute("async"))},e}();a.default=p},function(e,a,t){var r;r=function(){return function(e){var a={};function t(r){if(a[r])return a[r].exports;var n=a[r]={exports:{},id:r,loaded:!1};return e[r].call(n.exports,n,n.exports,t),n.loaded=!0,n.exports}return t.m=e,t.c=a,t.p="",t(0)}([function(e,a,t){"use strict";var r,n=t(1),i=(r=n)&&r.__esModule?r:{default:r};e.exports=i.default},function(e,a,t){"use strict";a.__esModule=!0;var r,n=u(t(2)),i=u(t(3)),o=t(6),s=(r=o)&&r.__esModule?r:{default:r},l=t(5);function u(e){if(e&&e.__esModule)return e;var a={};if(null!=e)for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(a[t]=e[t]);return a.default=e,a}var c={comment:/^<!--/,endTag:/^<\//,atomicTag:/^<\s*(script|style|noscript|iframe|textarea)[\s\/>]/i,startTag:/^</,chars:/^[^<]/},p=function(){function e(){var a=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!function(e,a){if(!(e instanceof a))throw new TypeError("Cannot call a class as a function")}(this,e),this.stream=t;var i=!1,o={};for(var l in n)n.hasOwnProperty(l)&&(r.autoFix&&(o[l+"Fix"]=!0),i=i||o[l+"Fix"]);i?(this._readToken=(0,s.default)(this,o,function(){return a._readTokenImpl()}),this._peekToken=(0,s.default)(this,o,function(){return a._peekTokenImpl()})):(this._readToken=this._readTokenImpl,this._peekToken=this._peekTokenImpl)}return e.prototype.append=function(e){this.stream+=e},e.prototype.prepend=function(e){this.stream=e+this.stream},e.prototype._readTokenImpl=function(){var e=this._peekTokenImpl();if(e)return this.stream=this.stream.slice(e.length),e},e.prototype._peekTokenImpl=function(){for(var e in c)if(c.hasOwnProperty(e)&&c[e].test(this.stream)){var a=i[e](this.stream);if(a)return"startTag"===a.type&&/script|style/i.test(a.tagName)?null:(a.text=this.stream.substr(0,a.length),a)}},e.prototype.peekToken=function(){return this._peekToken()},e.prototype.readToken=function(){return this._readToken()},e.prototype.readTokens=function(e){for(var a=void 0;a=this.readToken();)if(e[a.type]&&!1===e[a.type](a))return},e.prototype.clear=function(){var e=this.stream;return this.stream="",e},e.prototype.rest=function(){return this.stream},e}();for(var d in a.default=p,p.tokenToString=function(e){return e.toString()},p.escapeAttributes=function(e){var a={};for(var t in e)e.hasOwnProperty(t)&&(a[t]=(0,l.escapeQuotes)(e[t],null));return a},p.supports=n,n)n.hasOwnProperty(d)&&(p.browserHasFlaw=p.browserHasFlaw||!n[d]&&d)},function(e,a){"use strict";a.__esModule=!0;var t=!1,r=!1,n=window.document.createElement("div");try{var i="<P><I></P></I>";n.innerHTML=i,a.tagSoup=t=n.innerHTML!==i}catch(e){a.tagSoup=t=!1}try{n.innerHTML="<P><i><P></P></i></P>",a.selfClose=r=2===n.childNodes.length}catch(e){a.selfClose=r=!1}n=null,a.tagSoup=t,a.selfClose=r},function(e,a,t){"use strict";a.__esModule=!0;var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};a.comment=function(e){var a=e.indexOf("--\x3e");if(a>=0)return new n.CommentToken(e.substr(4,a-1),a+3)},a.chars=function(e){var a=e.indexOf("<");return new n.CharsToken(a>=0?a:e.length)},a.startTag=o,a.atomicTag=function(e){var a=o(e);if(a){var t=e.slice(a.length);if(t.match(new RegExp("</\\s*"+a.tagName+"\\s*>","i"))){var r=t.match(new RegExp("([\\s\\S]*?)</\\s*"+a.tagName+"\\s*>","i"));if(r)return new n.AtomicTagToken(a.tagName,r[0].length+a.length,a.attrs,a.booleanAttrs,r[1])}}},a.endTag=function(e){var a=e.match(i.endTag);if(a)return new n.EndTagToken(a[1],a[0].length)};var n=t(4),i={startTag:/^<([\-A-Za-z0-9_]+)((?:\s+[\w\-]+(?:\s*=?\s*(?:(?:"[^"]*")|(?:'[^']*')|[^>\s]+))?)*)\s*(\/?)>/,endTag:/^<\/([\-A-Za-z0-9_]+)[^>]*>/,attr:/(?:([\-A-Za-z0-9_]+)\s*=\s*(?:(?:"((?:\\.|[^"])*)")|(?:'((?:\\.|[^'])*)')|([^>\s]+)))|(?:([\-A-Za-z0-9_]+)(\s|$)+)/g,fillAttr:/^(checked|compact|declare|defer|disabled|ismap|multiple|nohref|noresize|noshade|nowrap|readonly|selected)$/i};function o(e){var a,t,o;if(-1!==e.indexOf(">")){var s=e.match(i.startTag);if(s){var l=(a={},t={},o=s[2],s[2].replace(i.attr,function(e,r){arguments[2]||arguments[3]||arguments[4]||arguments[5]?arguments[5]?(a[arguments[5]]="",t[arguments[5]]=!0):a[r]=arguments[2]||arguments[3]||arguments[4]||i.fillAttr.test(r)&&r||"":a[r]="",o=o.replace(e,"")}),{v:new n.StartTagToken(s[1],s[0].length,a,t,!!s[3],o.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""))});if("object"===(void 0===l?"undefined":r(l)))return l.v}}}},function(e,a,t){"use strict";a.__esModule=!0,a.EndTagToken=a.AtomicTagToken=a.StartTagToken=a.TagToken=a.CharsToken=a.CommentToken=a.Token=void 0;var r=t(5);function n(e,a){if(!(e instanceof a))throw new TypeError("Cannot call a class as a function")}a.Token=function e(a,t){n(this,e),this.type=a,this.length=t,this.text=""},a.CommentToken=function(){function e(a,t){n(this,e),this.type="comment",this.length=t||(a?a.length:0),this.text="",this.content=a}return e.prototype.toString=function(){return"\x3c!--"+this.content},e}(),a.CharsToken=function(){function e(a){n(this,e),this.type="chars",this.length=a,this.text=""}return e.prototype.toString=function(){return this.text},e}();var i=a.TagToken=function(){function e(a,t,r,i,o){n(this,e),this.type=a,this.length=r,this.text="",this.tagName=t,this.attrs=i,this.booleanAttrs=o,this.unary=!1,this.html5Unary=!1}return e.formatTag=function(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,t="<"+e.tagName;for(var n in e.attrs)if(e.attrs.hasOwnProperty(n)){t+=" "+n;var i=e.attrs[n];void 0!==e.booleanAttrs&&void 0!==e.booleanAttrs[n]||(t+='="'+(0,r.escapeQuotes)(i)+'"')}return e.rest&&(t+=" "+e.rest),e.unary&&!e.html5Unary?t+="/>":t+=">",void 0!==a&&null!==a&&(t+=a+"</"+e.tagName+">"),t},e}();a.StartTagToken=function(){function e(a,t,r,i,o,s){n(this,e),this.type="startTag",this.length=t,this.text="",this.tagName=a,this.attrs=r,this.booleanAttrs=i,this.html5Unary=!1,this.unary=o,this.rest=s}return e.prototype.toString=function(){return i.formatTag(this)},e}(),a.AtomicTagToken=function(){function e(a,t,r,i,o){n(this,e),this.type="atomicTag",this.length=t,this.text="",this.tagName=a,this.attrs=r,this.booleanAttrs=i,this.unary=!1,this.html5Unary=!1,this.content=o}return e.prototype.toString=function(){return i.formatTag(this,this.content)},e}(),a.EndTagToken=function(){function e(a,t){n(this,e),this.type="endTag",this.length=t,this.text="",this.tagName=a}return e.prototype.toString=function(){return"</"+this.tagName+">"},e}()},function(e,a){"use strict";a.__esModule=!0,a.escapeQuotes=function(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return e?e.replace(/([^"]*)"/g,function(e,a){return/\\/.test(a)?a+'"':a+'\\"'}):a}},function(e,a){"use strict";a.__esModule=!0,a.default=function(e,a,t){var o=function(){var e=[];return e.last=function(){return this[this.length-1]},e.lastTagNameEq=function(e){var a=this.last();return a&&a.tagName&&a.tagName.toUpperCase()===e.toUpperCase()},e.containsTagName=function(e){for(var a,t=0;a=this[t];t++)if(a.tagName===e)return!0;return!1},e}(),s={startTag:function(t){var n=t.tagName;"TR"===n.toUpperCase()&&o.lastTagNameEq("TABLE")?(e.prepend("<TBODY>"),l()):a.selfCloseFix&&r.test(n)&&o.containsTagName(n)?o.lastTagNameEq(n)?i(e,o):(e.prepend("</"+t.tagName+">"),l()):t.unary||o.push(t)},endTag:function(r){var n=o.last();n?a.tagSoupFix&&!o.lastTagNameEq(r.tagName)?i(e,o):o.pop():a.tagSoupFix&&(t(),l())}};function l(){var a=function(e,a){var t=e.stream,r=n(a());return e.stream=t,r}(e,t);a&&s[a.type]&&s[a.type](a)}return function(){return l(),n(t())}};var t=/^(AREA|BASE|BASEFONT|BR|COL|FRAME|HR|IMG|INPUT|ISINDEX|LINK|META|PARAM|EMBED)$/i,r=/^(COLGROUP|DD|DT|LI|OPTIONS|P|TD|TFOOT|TH|THEAD|TR)$/i;function n(e){return e&&"startTag"===e.type&&(e.unary=t.test(e.tagName)||e.unary,e.html5Unary=!/\/>$/.test(e.text)),e}function i(e,a){var t=a.pop();e.prepend("</"+t.tagName+">")}}])},e.exports=r()},function(e,a){"use strict";a.__esModule=!0;var t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function r(e){return void 0!==e&&null!==e}function n(e,a,t){var r=void 0,n=e&&e.length||0;for(r=0;r<n;r++)a.call(t,e[r],r)}function i(e,a,t){for(var r in e)e.hasOwnProperty(r)&&a.call(t,r,e[r])}function o(e,a){return!(!e||"startTag"!==e.type&&"atomicTag"!==e.type||!("tagName"in e)||!~e.tagName.toLowerCase().indexOf(a))}a.existy=r,a.isFunction=function(e){return"function"==typeof e},a.each=n,a.eachKey=i,a.defaults=function(e,a){return e=e||{},i(a,function(a,t){r(e[a])||(e[a]=t)}),e},a.toArray=function(e){try{return Array.prototype.slice.call(e)}catch(i){var a=(r=[],n(e,function(e){r.push(e)}),{v:r});if("object"===(void 0===a?"undefined":t(a)))return a.v}var r},a.last=function(e){return e[e.length-1]},a.isTag=o,a.isScript=function(e){return o(e,"script")},a.isStyle=function(e){return o(e,"style")}}])},"object"==typeof a&&"object"==typeof e?e.exports=i():"function"==typeof define&&define.amd?define([],i):"object"==typeof a?a.postscribe=i():n.postscribe=i()}},"core/src/lib/actions/helpers/getSourceByUrl.js":{script:function(e,a,t,r){"use strict";var n=t("@adobe/reactor-load-script"),i=t("@adobe/reactor-promise"),o={},s={};_satellite.__registerScript=function(e,a){o[e]=a},e.exports=function(e){return o[e]?i.resolve(o[e]):new i(function(a){var t;(t=e,s[t]||(s[t]=n(t)),s[t]).then(function(){a(o[e])},function(){a()})})}}},"core/src/lib/events/helpers/createBubbly.js":{script:function(e,a,t,r){"use strict";var n=t("./weakMap"),i=t("./matchesProperties"),o=t("./matchesSelector");e.exports=function(){var e=[],a=new n,t={addListener:function(a,t){e.push({settings:a,callback:t})},evaluateEvent:function(t,r){if(e.length&&!a.has(t)){for(var n=t.target,s=!1;n;){for(var l=!1,u=!1,c=0;c<e.length;c++){var p=e[c],d=p.settings.elementSelector,m=p.settings.elementProperties;if((!1!==p.settings.bubbleFireIfChildFired||!s)&&(n===t.target||!1!==p.settings.bubbleFireIfParent)&&(n===t.target||d||m&&Object.keys(m).length)&&(!d||o(n,d))&&(!m||i(n,m))){var v={};r?Object.keys(t).forEach(function(e){v[e]=t[e]}):v.nativeEvent=t,v.element=n,v.target=t.target,!1!==p.callback(v)&&(u=!0,p.settings.bubbleStop&&(l=!0))}}if(l)break;u&&(s=!0),n=n.parentNode}a.set(t,!0)}},__reset:function(){e=[]}};return t}}},"core/src/lib/events/helpers/weakMap.js":{script:function(e,a,t,r){"use strict";var n=t("@adobe/reactor-window").WeakMap;if(void 0===n){var i=Object.defineProperty,o=Date.now()%1e9;(n=function(){this.name="__st"+(1e9*Math.random()>>>0)+o+++"__"}).prototype={set:function(e,a){var t=e[this.name];return t&&t[0]===e?t[1]=a:i(e,this.name,{value:[e,a],writable:!0}),this},get:function(e){var a;return(a=e[this.name])&&a[0]===e?a[1]:void 0},delete:function(e){var a=e[this.name];return!(!a||a[0]!==e||(a[0]=a[1]=void 0,0))},has:function(e){var a=e[this.name];return!!a&&a[0]===e}}}e.exports=n}},"core/src/lib/events/helpers/matchesProperties.js":{script:function(e,a,t,r){"use strict";var n=t("./../../helpers/textMatch");e.exports=function(e,a){return!a||a.every(function(a){var t=function(e,a){return"@text"===a||"innerText"===a?e.textContent||e.innerText:a in e?e[a]:e.getAttribute?e.getAttribute(a):void 0}(e,a.name),r=a.valueIsRegex?new RegExp(a.value,"i"):a.value;return n(t,r)})}}},"core/src/lib/events/helpers/matchesSelector.js":{script:function(e,a,t,r){"use strict";e.exports=function(e,a){var t=e.matches||e.msMatchesSelector;if(t)try{return t.call(e,a)}catch(e){return r.logger.warn("Matching element failed. "+a+" is not a valid selector."),!1}return!1}}},"core/src/lib/helpers/textMatch.js":{script:function(e,a,t,r){"use strict";e.exports=function(e,a){if(null==a)throw new Error("Illegal Argument: Pattern is not present");return null!=e&&("string"==typeof a?e===a:a instanceof RegExp&&a.test(e))}}}},hostedLibFilesBaseUrl:"https://static.c4assets.com/all4-dtm/latest/8a7c8783bfdc/hostedLibFiles/EP2c73f67d94bb4dfb8c54d3436dc19256/"}},company:{orgId:"16B222CE527834FC0A490D4D@AdobeOrg"},property:{name:"Channel 4 Main",settings:{domains:["channel4.com"],undefinedVarsReturnEmpty:!1}},rules:[{id:"RL05dc5cbd10f14bfdadd366ae9b769339",name:"TV Guide Date Click",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:'a[class="dateItem-link"]',bubbleFireIfChildFired:!1},ruleOrder:50}],conditions:[],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://static.c4assets.com/all4-dtm/latest/8a7c8783bfdc/RC3b6ca968535c4548bab929348eecb7f8-source.js",language:"javascript",isExternal:!0}}]},{id:"RL277df04a21eb4f779f05115f094f64ff",name:"_ShortForm_Video_Complete",events:[{modulePath:"core/src/lib/events/dataElementChange.js",settings:{name:"Video Event Flag_Play_ShortForm"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"matchesRegex",caseInsensitive:!0},leftOperand:"%Video Event Flag_Play_ShortForm%",rightOperand:"sf_video_progress_100"}}],actions:[{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{}},{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,a){a.linkTrackVars=a.linkTrackVars+",eVar26,prop26,products",a.eVar26=a.events,a.products=_satellite.getVar("Video Product String_Shortform")}},trackerProperties:{eVars:[{name:"eVar37",type:"value",value:"%User GUID%"},{name:"eVar45",type:"value",value:"%User Cookie s_vi%"},{name:"eVar1",type:"value",value:"%Site Name%"},{name:"eVar2",type:"value",value:"%Page Name - 2 levels only%"},{name:"eVar3",type:"value",value:"%Page Name - 3 levels only%"},{name:"eVar6",type:"value",value:"%Page Programme Brand%"},{name:"eVar18",type:"value",value:"%Page URL%"},{name:"eVar27",type:"value",value:"%Page Title%"},{name:"eVar34",type:"value",value:"%User Sign In Flag%"},{name:"eVar17",type:"value",value:"all4web_brightcove_player"},{name:"eVar76",type:"value",value:"%Device TimeStamp%"},{name:"eVar77",type:"value",value:"online"},{name:"eVar74",type:"value",value:"tts_na:ad_na:cc_na:sub_na"}],props:[{name:"prop37",type:"alias",value:"eVar37"},{name:"prop45",type:"alias",value:"eVar45"},{name:"prop1",type:"alias",value:"eVar1"},{name:"prop2",type:"alias",value:"eVar2"},{name:"prop3",type:"alias",value:"eVar3"},{name:"prop6",type:"alias",value:"eVar6"},{name:"prop18",type:"alias",value:"eVar18"},{name:"prop27",type:"alias",value:"eVar27"},{name:"prop34",type:"alias",value:"eVar34"},{name:"prop44",type:"alias",value:"eVar44"},{name:"prop17",type:"alias",value:"eVar17"},{name:"prop67",type:"alias",value:"eVar67"},{name:"prop57",type:"alias",value:"eVar57"},{name:"prop74",type:"alias",value:"eVar74"}],events:[{name:"event83"},{name:"event14"}],channel:"%Channel%",pageURL:"%Page URL%"}}},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"all4.video_completion",linkType:"o"}}]},{id:"RL45a558ad3dfb4d6f807ae34347dc17f1",name:"_ShortForm_Video_Play",events:[{modulePath:"core/src/lib/events/dataElementChange.js",settings:{name:"Video Event Flag_Play_ShortForm"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"matchesRegex",caseInsensitive:!0},leftOperand:"%Video Event Flag_Play_ShortForm%",rightOperand:"sf_video_progress_0"}}],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,a){a.linkTrackVars=a.linkTrackVars+",eVar26,prop26,products",a.eVar26=a.events,a.products=_satellite.getVar("Video Product String_Shortform")}},trackerProperties:{eVars:[{name:"eVar37",type:"value",value:"%User GUID%"},{name:"eVar45",type:"value",value:"%User Cookie s_vi%"},{name:"eVar1",type:"value",value:"%Site Name%"},{name:"eVar2",type:"value",value:"%Page Name - 2 levels only%"},{name:"eVar3",type:"value",value:"%Page Name - 3 levels only%"},{name:"eVar6",type:"value",value:"%Page Programme Brand%"},{name:"eVar18",type:"value",value:"%Page URL%"},{name:"eVar27",type:"value",value:"%Page Title%"},{name:"eVar34",type:"value",value:"%User Sign In Flag%"},{name:"eVar17",type:"value",value:"all4web_brightcove_player"},{name:"eVar76",type:"value",value:"%Device TimeStamp%"},{name:"eVar77",type:"value",value:"online"},{name:"eVar74",type:"value",value:"tts_na:ad_na:cc_na:sub_na"}],props:[{name:"prop37",type:"alias",value:"eVar37"},{name:"prop45",type:"alias",value:"eVar45"},{name:"prop1",type:"alias",value:"eVar1"},{name:"prop2",type:"alias",value:"eVar2"},{name:"prop3",type:"alias",value:"eVar3"},{name:"prop6",type:"alias",value:"eVar6"},{name:"prop18",type:"alias",value:"eVar18"},{name:"prop27",type:"alias",value:"eVar27"},{name:"prop34",type:"alias",value:"eVar34"},{name:"prop44",type:"alias",value:"eVar44"},{name:"prop17",type:"alias",value:"eVar17"},{name:"prop67",type:"alias",value:"eVar67"},{name:"prop57",type:"alias",value:"eVar57"},{name:"prop74",type:"alias",value:"eVar74"}],events:[{name:"event83"},{name:"event11"}],channel:"%Channel%",pageURL:"%Page URL%"}}},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"all4.video_play",linkType:"o"}},{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{}}]},{id:"RL24f0188adf3e4442882ea544e5b171da",name:"_HTML5_VOD_Playhead_Move",events:[{modulePath:"core/src/lib/events/dataElementChange.js",settings:{name:"Video Event Flag_Playhead Moved_HTML5"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%Video Event Flag_Playhead Moved_HTML5%",rightOperand:"video_playhead_moved"}}],actions:[{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{}},{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,a){a.linkTrackVars=a.linkTrackVars+",eVar26,prop26,products",a.eVar26=a.events,a.products=_satellite.getVar("Video Product String_HTML5"),a.eVar52||(a.eVar52="embedded")}},trackerProperties:{eVars:[{name:"eVar37",type:"value",value:"%User GUID%"},{name:"eVar45",type:"value",value:"%User Cookie s_vi%"},{name:"eVar1",type:"value",value:"%Site Name%"},{name:"eVar2",type:"value",value:"%Page Name - 2 levels only%"},{name:"eVar3",type:"value",value:"%Page Name - 3 levels only%"},{name:"eVar6",type:"value",value:"%Video Programme Brand_HTML5%"},{name:"eVar18",type:"value",value:"%Page URL%"},{name:"eVar27",type:"value",value:"%Page Title%"},{name:"eVar34",type:"value",value:"%User Sign In Flag%"},{name:"eVar44",type:"value",value:"%Video Session ID_HTML5%"},{name:"eVar17",type:"value",value:"%Video Player Name_HTML5%"},{name:"eVar67",type:"value",value:"%Video Player Name:Version_HTML5%"},{name:"eVar14",type:"value",value:"%Video Broadcast Date Offset_HTML5%"},{name:"eVar77",type:"value",value:"online"},{name:"eVar76",type:"value",value:"%Device TimeStamp%"},{name:"eVar52",type:"value",value:"%Video Event Flag_Player State Change_HTML5%"},{name:"eVar57",type:"value",value:"%Taste Segment%"}],props:[{name:"prop37",type:"alias",value:"eVar37"},{name:"prop45",type:"alias",value:"eVar45"},{name:"prop1",type:"alias",value:"eVar1"},{name:"prop2",type:"alias",value:"eVar2"},{name:"prop3",type:"alias",value:"eVar3"},{name:"prop6",type:"alias",value:"eVar6"},{name:"prop18",type:"alias",value:"eVar18"},{name:"prop27",type:"alias",value:"eVar27"},{name:"prop34",type:"alias",value:"eVar34"},{name:"prop44",type:"alias",value:"eVar44"},{name:"prop17",type:"alias",value:"eVar17"},{name:"prop67",type:"alias",value:"eVar67"},{name:"prop14",type:"alias",value:"eVar14"},{name:"prop52",type:"alias",value:"eVar52"},{name:"prop57",type:"alias",value:"eVar57"}],events:[{name:"event62"},{name:"event130"}],channel:"%Channel%",pageURL:"%Page URL%"}}},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"all4.video_playhead_moved",linkType:"o"}}]},{id:"RL143b36a5c9af4c4ea685edb9a146fe96",name:"_HTML5_VOD_Play_State_Change",events:[{modulePath:"core/src/lib/events/dataElementChange.js",settings:{name:"Video Event Flag_Player State Change_HTML5"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"matchesRegex",caseInsensitive:!0},leftOperand:"%Video Event Flag_Player State Change_HTML5%",rightOperand:"(embedded|full_screen)"}}],actions:[{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{}},{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,a){a.linkTrackVars=a.linkTrackVars+",eVar26,prop26,products",a.eVar26=a.events,a.products=_satellite.getVar("Video Product String_HTML5"),a.eVar52||(a.eVar52="embedded")}},trackerProperties:{eVars:[{name:"eVar37",type:"value",value:"%User GUID%"},{name:"eVar45",type:"alias",value:"prop45"},{name:"eVar1",type:"value",value:"%Site Name%"},{name:"eVar2",type:"value",value:"%Page Name - 2 levels only%"},{name:"eVar3",type:"value",value:"%Page Name - 3 levels only%"},{name:"eVar6",type:"value",value:"%Video Programme Brand_HTML5%"},{name:"eVar18",type:"value",value:"%Page URL%"},{name:"eVar27",type:"value",value:"%Page Title%"},{name:"eVar34",type:"value",value:"%User Sign In Flag%"},{name:"eVar44",type:"value",value:"%Video Session ID_HTML5%"},{name:"eVar17",type:"value",value:"%Video Player Name_HTML5%"},{name:"eVar67",type:"value",value:"%Video Player Name:Version_HTML5%"},{name:"eVar14",type:"value",value:"%Video Broadcast Date Offset_HTML5%"},{name:"eVar77",type:"value",value:"online"},{name:"eVar52",type:"value",value:"%Video Event Flag_Player State Change_HTML5%"},{name:"eVar76",type:"value",value:"%Device TimeStamp%"},{name:"eVar57",type:"value",value:"%Taste Segment%"}],props:[{name:"prop37",type:"alias",value:"eVar37"},{name:"prop45",type:"alias",value:"eVar45"},{name:"prop1",type:"alias",value:"eVar1"},{name:"prop2",type:"alias",value:"eVar2"},{name:"prop3",type:"alias",value:"eVar3"},{name:"prop6",type:"alias",value:"eVar6"},{name:"prop18",type:"alias",value:"eVar18"},{name:"prop27",type:"alias",value:"eVar27"},{name:"prop34",type:"alias",value:"eVar34"},{name:"prop44",type:"alias",value:"eVar44"},{name:"prop17",type:"alias",value:"eVar17"},{name:"prop67",type:"alias",value:"eVar67"},{name:"prop14",type:"alias",value:"eVar14"},{name:"prop52",type:"alias",value:"eVar52"}],events:[{name:"event45"},{name:"event130"}],channel:"%Channel%",pageURL:"%Page URL%"}}},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"all4.app_state_change",linkType:"o"}}]},{id:"RLc719f70717ff483484ecff74c4a7f570",name:"Delayed Pageview",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"DelayedPageview"},ruleOrder:102}],conditions:[],actions:[{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{}},{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,a){if(a.eVar6&&(a.eVar6=a.eVar6.replace(/-/g,"_")),_satellite.getVar("Page URL").match(/4id\./)){var t=_satellite.getVar("Page Name")+_satellite.getVar("Page Title");t=(t=t.replace(/account settings - /g,":")).replace(/ /g,"_"),_satellite.setVar("Page Name",t),_satellite.setVar("Page Name - 3 levels only",t),a.pageName=t,a.eVar3=t}return!1}},trackerProperties:{eVars:[{name:"eVar34",type:"value",value:"%User Sign In Flag%"},{name:"eVar37",type:"value",value:"%User GUID%"},{name:"eVar45",type:"value",value:"%User Visitor ID%"},{name:"eVar1",type:"value",value:"%Site Name%"},{name:"eVar2",type:"value",value:"%Page Name - 2 levels only%"},{name:"eVar3",type:"value",value:"%Page Name - 3 levels only%"},{name:"eVar18",type:"value",value:"%Page URL%"},{name:"eVar27",type:"value",value:"%Page Title%"},{name:"eVar11",type:"value",value:"%Pageview Event - Intcmp%"},{name:"eVar12",type:"value",value:"%Previous Page Name%"},{name:"eVar73",type:"value",value:"%Pageview Event - Extint%"},{name:"eVar6",type:"value",value:"%Page Programme Brand%"},{name:"eVar16",type:"value",value:"%URL Query String%"},{name:"eVar82",type:"value",value:"%Pageview Event - Intcmp%"},{name:"eVar17",type:"value",value:"%Pageview Event - Get Player Type%"},{name:"eVar76",type:"value",value:"%Device TimeStamp%"},{name:"eVar77",type:"value",value:"online"},{name:"eVar57",type:"value",value:"%User Segment%"},{name:"eVar78",type:"value",value:"Channel 4 Main"}],props:[{name:"prop12",type:"alias",value:"eVar12"},{name:"prop1",type:"alias",value:"eVar1"},{name:"prop2",type:"alias",value:"eVar2"},{name:"prop3",type:"alias",value:"eVar3"},{name:"prop6",type:"alias",value:"eVar6"},{name:"prop16",type:"alias",value:"eVar16"},{name:"prop11",type:"alias",value:"eVar11"},{name:"prop18",type:"alias",value:"eVar18"},{name:"prop27",type:"alias",value:"eVar27"},{name:"prop34",type:"alias",value:"eVar34"},{name:"prop37",type:"alias",value:"eVar37"},{name:"prop45",type:"alias",value:"eVar45"},{name:"prop17",type:"alias",value:"eVar17"},{name:"prop57",type:"alias",value:"eVar57"}],server:"%Server%",channel:"%Channel%",pageURL:"%Page URL%",campaign:{type:"value",value:"%Pageview Event - Cntsrc%"},pageName:"%Page Name%"}}},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"page"}},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://static.c4assets.com/all4-dtm/latest/8a7c8783bfdc/RC5476991166624495a2a0bb4c85daa175-source.js",language:"javascript",isExternal:!0}},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://static.c4assets.com/all4-dtm/latest/8a7c8783bfdc/RCe10cc04c5a0b412f91378ace8658f4ae-source.js",language:"javascript",isExternal:!0}}]},{id:"RLfe9f8135726347699778eee15c925ab8",name:"_HTML5_VOD_Video_Milestone_75percent",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"dc-m75"},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{}},{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,a){a.linkTrackVars=a.linkTrackVars+",eVar26,prop26,products",a.eVar26=a.events,a.products=_satellite.getVar("Video Product String_HTML5"),a.eVar52||(a.eVar52="embedded")}},trackerProperties:{eVars:[{name:"eVar37",type:"value",value:"%User GUID%"},{name:"eVar45",type:"value",value:"%User Cookie s_vi%"},{name:"eVar1",type:"value",value:"%Site Name%"},{name:"eVar2",type:"value",value:"%Page Name - 2 levels only%"},{name:"eVar3",type:"value",value:"%Page Name - 3 levels only%"},{name:"eVar6",type:"value",value:"%Video Programme Brand_HTML5%"},{name:"eVar18",type:"value",value:"%Page URL%"},{name:"eVar27",type:"value",value:"%Page Title%"},{name:"eVar34",type:"value",value:"%User Sign In Flag%"},{name:"eVar44",type:"value",value:"%Video Session ID_HTML5%"},{name:"eVar17",type:"value",value:"%Video Player Name_HTML5%"},{name:"eVar67",type:"value",value:"%Video Player Name:Version_HTML5%"},{name:"eVar52",type:"value",value:"%Video Event Flag_Player State Change_HTML5%"},{name:"eVar76",type:"value",value:"%Device TimeStamp%"},{name:"eVar77",type:"value",value:"online"},{name:"eVar57",type:"value",value:"%Taste Segment%"},{name:"eVar14",type:"value",value:"%Video Broadcast Date Offset_HTML5%"}],props:[{name:"prop37",type:"alias",value:"eVar37"},{name:"prop45",type:"alias",value:"eVar45"},{name:"prop1",type:"alias",value:"eVar1"},{name:"prop2",type:"alias",value:"eVar2"},{name:"prop3",type:"alias",value:"eVar3"},{name:"prop6",type:"alias",value:"eVar6"},{name:"prop18",type:"alias",value:"eVar18"},{name:"prop27",type:"alias",value:"eVar27"},{name:"prop34",type:"alias",value:"eVar34"},{name:"prop44",type:"alias",value:"eVar44"},{name:"prop17",type:"alias",value:"eVar17"},{name:"prop67",type:"alias",value:"eVar67"},{name:"prop52",type:"alias",value:"eVar52"},{name:"prop57",type:"alias",value:"eVar57"},{name:"prop14",type:"alias",value:"eVar14"}],events:[{name:"event130"},{name:"event17"}],channel:"%Channel%",pageURL:"%Page URL%"}}},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"all4.video_milestone",linkType:"o"}}]},{id:"RL6840b0c0fb2a42a099384506c8f682f2",name:"OptimizelyRegSigninEvents",events:[{modulePath:"core/src/lib/events/dataElementChange.js",settings:{name:"DataLayer Events Array"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"matchesRegex",caseInsensitive:!0},leftOperand:"%DataLayer Events Last Event Name%",rightOperand:"^all4.successful_sign_in$|^all4.logout$|^all4.registration$|^all4.sign_in:response:forgot$"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://static.c4assets.com/all4-dtm/latest/8a7c8783bfdc/RC21c625b305a740eeb8a529706304cf53-source.js",language:"javascript",isExternal:!0}}]},{id:"RL3d181ae97ca04b439270094867e233bb",name:"_HTML5_VOD_Video_Sign_In_Prompt",events:[{modulePath:"core/src/lib/events/dataElementChange.js",settings:{name:"Video Interaction Type_HTML5"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"matchesRegex",caseInsensitive:!0},leftOperand:"%Video Event Flag_Video Interaction_HTML5%",rightOperand:"video_interaction_prompt"}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"matchesRegex",caseInsensitive:!0},leftOperand:"%Video Interaction Type_HTML5%",rightOperand:"sign_in"}}],actions:[{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{}},{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,a){a.linkTrackVars=a.linkTrackVars+",eVar26,prop26,products",a.eVar26=a.events,a.products=_satellite.getVar("Video Product String_HTML5"),"not_set"===a.eVar6&&(a.eVar6=_satellite.getVar("Page Programme Brand").replace(/-/g,"_")),a.eVar52||(a.eVar52="embedded")}},trackerProperties:{eVars:[{name:"eVar1",type:"value",value:"%Site Name%"},{name:"eVar2",type:"value",value:"%Page Name - 2 levels only%"},{name:"eVar3",type:"value",value:"%Page Name - 3 levels only%"},{name:"eVar6",type:"value",value:"%Video Programme Brand_HTML5%"},{name:"eVar14",type:"value",value:"%Video Broadcast Date Offset_HTML5%"},{name:"eVar17",type:"value",value:"%Video Player Name_HTML5%"},{name:"eVar18",type:"value",value:"%Page URL%"},{name:"eVar27",type:"value",value:"%Page Title%"},{name:"eVar34",type:"value",value:"%User Sign In Flag%"},{name:"eVar37",type:"value",value:"%User GUID%"},{name:"eVar44",type:"value",value:"%Video Session ID_HTML5%"},{name:"eVar45",type:"value",value:"%User Cookie s_vi%"},{name:"eVar52",type:"value",value:"%Video Event Flag_Player State Change_HTML5%"},{name:"eVar57",type:"value",value:"%Taste Segment%"},{name:"eVar67",type:"value",value:"%Video Player Name:Version_HTML5%"},{name:"eVar76",type:"value",value:"%Device TimeStamp%"},{name:"eVar77",type:"value",value:"online"},{name:"eVar32",type:"value",value:"%Video Interaction Type_HTML5%:%Video Interaction Name_HTML5%"}],props:[{name:"prop1",type:"alias",value:"eVar1"},{name:"prop2",type:"alias",value:"eVar2"},{name:"prop3",type:"alias",value:"eVar3"},{name:"prop6",type:"alias",value:"eVar6"},{name:"prop14",type:"alias",value:"eVar14"},{name:"prop17",type:"alias",value:"eVar17"},{name:"prop18",type:"alias",value:"eVar18"},{name:"prop27",type:"alias",value:"eVar27"},{name:"prop34",type:"alias",value:"eVar34"},{name:"prop37",type:"alias",value:"eVar37"},{name:"prop44",type:"alias",value:"eVar44"},{name:"prop45",type:"alias",value:"eVar45"},{name:"prop51",type:"alias",value:"eVar51"},{name:"prop52",type:"alias",value:"eVar52"},{name:"prop57",type:"alias",value:"eVar57"},{name:"prop67",type:"alias",value:"eVar67"},{name:"prop32",type:"alias",value:"eVar32"}],events:[{name:"event83"}],channel:"%Channel%",pageURL:"%Page URL%"}}},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"all4.video_sign_in",linkType:"o"}}]},{id:"RL9d6e191e2ae24f45bdb3b4763c5dd7ab",name:"_AAA MASTER CDV RULE",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"dc-cdv"},ruleOrder:50}],conditions:[],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://static.c4assets.com/all4-dtm/latest/8a7c8783bfdc/RC4eee81b06a674aa790a559fd94246a52-source.js",language:"javascript",isExternal:!0}}]},{id:"RL446a8ec1b923478e8f5bbb3df10e5d0e",name:"_HTML5_VOD_Attempt_Video_Play",events:[{modulePath:"core/src/lib/events/dataElementChange.js",settings:{name:"Video Event Flag_Attempt_Play_HTML5"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"matchesRegex",caseInsensitive:!0},leftOperand:"%Video Event Flag_Attempt_Play_HTML5%",rightOperand:"video_attempt_to_play"}}],actions:[{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{}},{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,a){a.linkTrackVars=a.linkTrackVars+",eVar26,prop26,products",a.eVar26=a.events,a.products=_satellite.getVar("Video Product String_HTML5"),a.eVar52||(a.eVar52="embedded")}},trackerProperties:{eVars:[{name:"eVar37",type:"value",value:"%User GUID%"},{name:"eVar45",type:"value",value:"%User Cookie s_vi%"},{name:"eVar1",type:"value",value:"%Site Name%"},{name:"eVar2",type:"value",value:"%Page Name - 2 levels only%"},{name:"eVar3",type:"value",value:"%Page Name - 3 levels only%"},{name:"eVar6",type:"value",value:"%Video Programme Brand_HTML5%"},{name:"eVar18",type:"value",value:"%Page URL%"},{name:"eVar27",type:"value",value:"%Page Title%"},{name:"eVar34",type:"value",value:"%User Sign In Flag%"},{name:"eVar44",type:"value",value:"%Video Session ID_HTML5%"},{name:"eVar17",type:"value",value:"%Video Player Name_HTML5%"},{name:"eVar67",type:"value",value:"%Video Player Name:Version_HTML5%"},{name:"eVar14",type:"value",value:"%Video Broadcast Date Offset_HTML5%"},{name:"eVar77",type:"value",value:"online"},{name:"eVar76",type:"value",value:"%Device TimeStamp%"},{name:"eVar52",type:"value",value:"%Video Event Flag_Player State Change_HTML5%"},{name:"eVar51",type:"value",value:"%Video Attempt_Play_Guidance/Restriction_HTML5 %"},{name:"eVar57",type:"value",value:"%Taste Segment%"},{name:"eVar56",type:"value",value:"%Subscription State%"}],props:[{name:"prop37",type:"alias",value:"eVar37"},{name:"prop45",type:"alias",value:"eVar45"},{name:"prop1",type:"alias",value:"eVar1"},{name:"prop2",type:"alias",value:"eVar2"},{name:"prop3",type:"alias",value:"eVar3"},{name:"prop6",type:"alias",value:"eVar6"},{name:"prop18",type:"alias",value:"eVar18"},{name:"prop27",type:"alias",value:"eVar27"},{name:"prop34",type:"alias",value:"eVar34"},{name:"prop44",type:"alias",value:"eVar44"},{name:"prop17",type:"alias",value:"eVar17"},{name:"prop67",type:"alias",value:"eVar67"},{name:"prop14",type:"alias",value:"eVar14"},{name:"prop52",type:"alias",value:"eVar52"},{name:"prop26",type:"alias",value:"eVar26"},{name:"prop51",type:"alias",value:"eVar51"},{name:"prop56",type:"alias",value:"eVar56"}],events:[{name:"event84"},{name:"event83"},{name:"event107"}],channel:"%Channel%",pageURL:"%Page URL%"}}},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"all4.video_attempt_to_play",linkType:"o"}}]},{id:"RL0082fb97893c45c3bf1e0654f27895ed",name:"_Social share click",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:'button [class="button button--social"]',bubbleFireIfParent:!0,bubbleFireIfChildFired:!1},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(e,a){if((this.className||"").indexOf("button button--social")>-1){var t=this.innerText.replace("Share on ","");return _satellite.setVar("shareType",t),!0}return!1}}}],actions:[{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{}},{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,a){a.eVar6&&(a.eVar6=a.eVar6.replace(/-/g,"_")),a.eVar26=a.events,a.linkTrackVars=a.linkTrackVars+",eVar60,eVar26"}},trackerProperties:{eVars:[{name:"eVar31",type:"value",value:"social:share_%shareType%"},{name:"eVar1",type:"value",value:"%Site Name%"},{name:"eVar2",type:"value",value:"%Page Name - 2 levels only%"},{name:"eVar3",type:"value",value:"%Page Name - 3 levels only%"},{name:"eVar18",type:"value",value:"%Page URL%"},{name:"eVar27",type:"value",value:"%Page Title%"},{name:"eVar34",type:"value",value:"%User Sign In Flag%"},{name:"eVar37",type:"value",value:"%User GUID%"},{name:"eVar45",type:"value",value:"%User Cookie s_vi%"},{name:"eVar6",type:"value",value:"%Page Programme Brand%"},{name:"eVar76",type:"value",value:"%Device TimeStamp%"}],props:[{name:"prop31",type:"alias",value:"eVar31"},{name:"prop34",type:"alias",value:"eVar34"},{name:"prop37",type:"alias",value:"eVar37"},{name:"prop45",type:"alias",value:"eVar45"},{name:"prop18",type:"alias",value:"eVar18"},{name:"prop27",type:"alias",value:"eVar27"},{name:"prop1",type:"alias",value:"eVar1"},{name:"prop2",type:"alias",value:"eVar2"},{name:"prop3",type:"alias",value:"eVar3"},{name:"prop6",type:"alias",value:"eVar6"},{name:"prop26",type:"alias",value:"eVar26"}],events:[{name:"event23"},{name:"event31"}],server:"%Server%",channel:"%Channel%",pageURL:"%Page URL%"}}},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"all4.social.share",linkType:"o"}}]},{id:"RL6c5980064c704412b9df19c3833d9c73",name:"_HTML5_VOD_Guidance/Restriction_Prompt",events:[{modulePath:"core/src/lib/events/dataElementChange.js",settings:{name:"Video Interaction Type_HTML5"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"matchesRegex",caseInsensitive:!0},leftOperand:"%Video Event Flag_Video Interaction_HTML5%",rightOperand:"video_interaction_(16|18)_prompt"}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"matchesRegex",caseInsensitive:!0},leftOperand:"%Video Interaction Type_HTML5%",rightOperand:"(guidance|restriction)"}}],actions:[{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{}},{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,a){a.linkTrackVars=a.linkTrackVars+",eVar26,prop26,products",a.eVar26=a.events,a.products=_satellite.getVar("Video Product String_HTML5"),"not_set"===a.eVar6&&(a.eVar6=_satellite.getVar("Page Programme Brand").replace(/-/g,"_")),a.eVar52||(a.eVar52="embedded")}},trackerProperties:{eVars:[{name:"eVar37",type:"value",value:"%User GUID%"},{name:"eVar45",type:"value",value:"%User Cookie s_vi%"},{name:"eVar1",type:"value",value:"%Site Name%"},{name:"eVar2",type:"value",value:"%Page Name - 2 levels only%"},{name:"eVar3",type:"value",value:"%Page Name - 3 levels only%"},{name:"eVar6",type:"value",value:"%Video Programme Brand_HTML5%"},{name:"eVar18",type:"value",value:"%Page URL%"},{name:"eVar27",type:"value",value:"%Page Title%"},{name:"eVar34",type:"value",value:"%User Sign In Flag%"},{name:"eVar44",type:"value",value:"%Video Session ID_HTML5%"},{name:"eVar17",type:"value",value:"%Video Player Name_HTML5%"},{name:"eVar67",type:"value",value:"%Video Player Name:Version_HTML5%"},{name:"eVar14",type:"value",value:"%Video Broadcast Date Offset_HTML5%"},{name:"eVar77",type:"value",value:"online"},{name:"eVar51",type:"value",value:"%Video Interaction Type_HTML5%:%Video Interaction Name_HTML5%"},{name:"eVar52",type:"value",value:"%Video Event Flag_Player State Change_HTML5%"},{name:"eVar57",type:"value",value:"%Taste Segment%"},{name:"eVar76",type:"value",value:"%Device TimeStamp%"}],props:[{name:"prop37",type:"alias",value:"eVar37"},{name:"prop45",type:"alias",value:"eVar45"},{name:"prop1",type:"alias",value:"eVar1"},{name:"prop2",type:"alias",value:"eVar2"},{name:"prop3",type:"alias",value:"eVar3"},{name:"prop6",type:"alias",value:"eVar6"},{name:"prop18",type:"alias",value:"eVar18"},{name:"prop27",type:"alias",value:"eVar27"},{name:"prop34",type:"alias",value:"eVar34"},{name:"prop44",type:"alias",value:"eVar44"},{name:"prop17",type:"alias",value:"eVar17"},{name:"prop67",type:"alias",value:"eVar67"},{name:"prop14",type:"alias",value:"eVar14"},{name:"prop51",type:"alias",value:"eVar51"},{name:"prop52",type:"alias",value:"eVar52"},{name:"prop57",type:"alias",value:"eVar57"}],events:[{name:"event83"}],channel:"%Channel%",pageURL:"%Page URL%"}}},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"all4.video_guidance",linkType:"o"}}]},{id:"RL5bd8797a39ba404fbccf9839698d9eca",name:"4id _pageview account summary",events:[{modulePath:"core/src/lib/events/click.js",settings:{bubbleStop:!0,elementSelector:'a[id="my4-navigation-home"]',bubbleFireIfParent:!1,bubbleFireIfChildFired:!1},ruleOrder:50}],conditions:[],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://static.c4assets.com/all4-dtm/latest/8a7c8783bfdc/RC55be7748b4c745f2a958e0e7ad42f977-source.js",language:"javascript",isExternal:!0}}]},{id:"RL14a19f9f4c524925be92c2f84e79cfde",name:"_HTML5_VOD_Video_Play",events:[{modulePath:"core/src/lib/events/dataElementChange.js",settings:{name:"Video Event Flag_Play_HTML5"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"matchesRegex",caseInsensitive:!0},leftOperand:"%Video Event Flag_Play_HTML5%",rightOperand:"video_play -"}}],actions:[{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{}},{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,a){a.linkTrackVars=a.linkTrackVars+",eVar26,prop26,products",a.eVar26=a.events,a.products=_satellite.getVar("Video Product String_HTML5"),a.eVar52||(a.eVar52="embedded")}},trackerProperties:{eVars:[{name:"eVar37",type:"value",value:"%User GUID%"},{name:"eVar45",type:"value",value:"%User Cookie s_vi%"},{name:"eVar1",type:"value",value:"%Site Name%"},{name:"eVar2",type:"value",value:"%Page Name - 2 levels only%"},{name:"eVar3",type:"value",value:"%Page Name - 3 levels only%"},{name:"eVar6",type:"value",value:"%Video Programme Brand_HTML5%"},{name:"eVar18",type:"value",value:"%Page URL%"},{name:"eVar27",type:"value",value:"%Page Title%"},{name:"eVar34",type:"value",value:"%User Sign In Flag%"},{name:"eVar44",type:"value",value:"%Video Session ID_HTML5%"},{name:"eVar17",type:"value",value:"%Video Player Name_HTML5%"},{name:"eVar67",type:"value",value:"%Video Player Name:Version_HTML5%"},{name:"eVar14",type:"value",value:"%Video Broadcast Date Offset_HTML5%"},{name:"eVar76",type:"value",value:"%Device TimeStamp%"},{name:"eVar77",type:"value",value:"online"},{name:"eVar57",type:"value",value:"%Taste Segment%"},{name:"eVar52",type:"value",value:"%Video Event Flag_Player State Change_HTML5%"}],props:[{name:"prop37",type:"alias",value:"eVar37"},{name:"prop45",type:"alias",value:"eVar45"},{name:"prop1",type:"alias",value:"eVar1"},{name:"prop2",type:"alias",value:"eVar2"},{name:"prop3",type:"alias",value:"eVar3"},{name:"prop6",type:"alias",value:"eVar6"},{name:"prop18",type:"alias",value:"eVar18"},{name:"prop27",type:"alias",value:"eVar27"},{name:"prop34",type:"alias",value:"eVar34"},{name:"prop44",type:"alias",value:"eVar44"},{name:"prop17",type:"alias",value:"eVar17"},{name:"prop67",type:"alias",value:"eVar67"},{name:"prop14",type:"alias",value:"eVar14"},{name:"prop57",type:"alias",value:"eVar57"},{name:"prop52",type:"alias",value:"eVar52"}],events:[{name:"event40"},{name:"event11"},{name:"event130"}],channel:"%Channel%",pageURL:"%Page URL%"}}},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"all4.video_play",linkType:"o"}}]},{id:"RL094e51ad31a14542a48e9e7d0f56f79c",name:"_HTML5_VOD_Video_Milestone_25percent",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"dc-m25"},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{}},{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,a){a.linkTrackVars=a.linkTrackVars+",eVar26,prop26,products",a.eVar26=a.events,a.products=_satellite.getVar("Video Product String_HTML5"),a.eVar52||(a.eVar52="embedded")}},trackerProperties:{eVars:[{name:"eVar37",type:"value",value:"%User GUID%"},{name:"eVar45",type:"value",value:"%User Cookie s_vi%"},{name:"eVar1",type:"value",value:"%Site Name%"},{name:"eVar2",type:"value",value:"%Page Name - 2 levels only%"},{name:"eVar3",type:"value",value:"%Page Name - 3 levels only%"},{name:"eVar6",type:"value",value:"%Video Programme Brand_HTML5%"},{name:"eVar18",type:"value",value:"%Page URL%"},{name:"eVar27",type:"value",value:"%Page Title%"},{name:"eVar34",type:"value",value:"%User Sign In Flag%"},{name:"eVar44",type:"value",value:"%Video Session ID_HTML5%"},{name:"eVar17",type:"value",value:"%Video Player Name_HTML5%"},{name:"eVar67",type:"value",value:"%Video Player Name:Version_HTML5%"},{name:"eVar76",type:"value",value:"%Device TimeStamp%"},{name:"eVar52",type:"value",value:"%Video Event Flag_Player State Change_HTML5%"},{name:"eVar77",type:"value",value:"online"},{name:"eVar57",type:"value",value:"%Taste Segment%"},{name:"eVar14",type:"value",value:"%Video Broadcast Date Offset_HTML5%"}],props:[{name:"prop37",type:"alias",value:"eVar37"},{name:"prop45",type:"alias",value:"eVar45"},{name:"prop1",type:"alias",value:"eVar1"},{name:"prop2",type:"alias",value:"eVar2"},{name:"prop3",type:"alias",value:"eVar3"},{name:"prop6",type:"alias",value:"eVar6"},{name:"prop18",type:"alias",value:"eVar18"},{name:"prop27",type:"alias",value:"eVar27"},{name:"prop34",type:"alias",value:"eVar34"},{name:"prop44",type:"alias",value:"eVar44"},{name:"prop17",type:"alias",value:"eVar17"},{name:"prop67",type:"alias",value:"eVar67"},{name:"prop52",type:"alias",value:"eVar52"},{name:"prop14",type:"alias",value:"eVar14"}],events:[{name:"event130"},{name:"event15"}],channel:"%Channel%",pageURL:"%Page URL%"}}},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"all4.video_milestone",linkType:"o"}}]},{id:"RL4bff0698c4f84a0a8ba089b016e7db2b",name:"_Bruce-Buffer",events:[{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"bufferUpdate",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://static.c4assets.com/all4-dtm/latest/8a7c8783bfdc/RCd86e836c65c6425992376a8c569ba140-source.js",language:"javascript",isExternal:!0}}]},{id:"RL2284ed925be944b58a21b5292f7285d4",name:"_HTML5_VOD_Video_Completion_Milestone",events:[{modulePath:"core/src/lib/events/dataElementChange.js",settings:{name:"Video Event Flag_Completion_HTML5_Milestone"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"matchesRegex",caseInsensitive:!0},leftOperand:"%Video Event Flag_Completion_HTML5_Milestone%",rightOperand:"video_completion_milestone"}}],actions:[{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{}},{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,a){a.linkTrackVars=a.linkTrackVars+",eVar26,prop26,products",a.eVar26=a.events,a.products=_satellite.getVar("Video Product String_HTML5"),a.eVar52||(a.eVar52="embedded")}},trackerProperties:{eVars:[{name:"eVar37",type:"value",value:"%User GUID%"},{name:"eVar45",type:"value",value:"%User Cookie s_vi%"},{name:"eVar1",type:"value",value:"%Site Name%"},{name:"eVar2",type:"value",value:"%Page Name - 2 levels only%"},{name:"eVar3",type:"value",value:"%Page Name - 3 levels only%"},{name:"eVar6",type:"value",value:"%Video Programme Brand_HTML5%"},{name:"eVar18",type:"value",value:"%Page URL%"},{name:"eVar27",type:"value",value:"%Page Title%"},{name:"eVar34",type:"value",value:"%User Sign In Flag%"},{name:"eVar44",type:"value",value:"%Video Session ID_HTML5%"},{name:"eVar17",type:"value",value:"%Video Player Name_HTML5%"},{name:"eVar67",type:"value",value:"%Video Player Name:Version_HTML5%"},{name:"eVar14",type:"value",value:"%Video Broadcast Date Offset_HTML5%"},{name:"eVar77",type:"value",value:"online"},{name:"eVar76",type:"value",value:"%Device TimeStamp%"},{name:"eVar52",type:"value",value:"%Video Event Flag_Player State Change_HTML5%"},{name:"eVar64",type:"value",value:"%Video Completion Position_HTML5%"},{name:"eVar57",type:"value",value:"%Taste Segment%"}],props:[{name:"prop37",type:"alias",value:"eVar37"},{name:"prop45",type:"alias",value:"eVar45"},{name:"prop1",type:"alias",value:"eVar1"},{name:"prop2",type:"alias",value:"eVar2"},{name:"prop3",type:"alias",value:"eVar3"},{name:"prop6",type:"alias",value:"eVar6"},{name:"prop18",type:"alias",value:"eVar18"},{name:"prop27",type:"alias",value:"eVar27"},{name:"prop34",type:"alias",value:"eVar34"},{name:"prop44",type:"alias",value:"eVar44"},{name:"prop17",type:"alias",value:"eVar17"},{name:"prop67",type:"alias",value:"eVar67"},{name:"prop14",type:"alias",value:"eVar14"},{name:"prop52",type:"alias",value:"eVar52"},{name:"prop64",type:"alias",value:"eVar64"},{name:"prop57",type:"alias",value:"eVar57"}],events:[{name:"event76"},{name:"event14"},{name:"event121"},{name:"event130"}],channel:"%Channel%",pageURL:"%Page URL%"}}},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"all4.video_completion",linkType:"o"}}]},{id:"RL487b603c2bb349c5bfa4485b2e5f3186",name:"4id _pageview my communications",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:'a[id="my4-navigation-communication-preferences"]',bubbleFireIfChildFired:!1},ruleOrder:50}],conditions:[],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://static.c4assets.com/all4-dtm/latest/8a7c8783bfdc/RC9075b0d0ccc64fa398556ef565f3846c-source.js",language:"javascript",isExternal:!0}}]},{id:"RL72963a0009c24d80a472b5dca2e66622",name:"_HTML5_VOD_Video_Error_Fatal",events:[{modulePath:"core/src/lib/events/dataElementChange.js",settings:{name:"Video Event Flag_Error_HTML5"},ruleOrder:100}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"matchesRegex",caseInsensitive:!0},leftOperand:"%Video Event Flag_Error_HTML5%",rightOperand:"video_error_fatal"}}],actions:[{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{}},{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,a){a.linkTrackVars=a.linkTrackVars+",eVar26,prop26,products",a.products=_satellite.getVar("Video Product String_HTML5"),a.eVar26=a.events,"not_set"===a.eVar6&&(a.eVar6=_satellite.getVar("Page Programme Brand").replace(/-/g,"_")),a.eVar52||(a.eVar52="embedded")}},trackerProperties:{eVars:[{name:"eVar37",type:"value",value:"%User GUID%"},{name:"eVar45",type:"value",value:"%User Cookie s_vi%"},{name:"eVar1",type:"value",value:"%Site Name%"},{name:"eVar2",type:"value",value:"%Page Name - 2 levels only%"},{name:"eVar3",type:"value",value:"%Page Name - 3 levels only%"},{name:"eVar6",type:"value",value:"%Video Programme Brand_HTML5%"},{name:"eVar18",type:"value",value:"%Page URL%"},{name:"eVar27",type:"value",value:"%Page Title%"},{name:"eVar34",type:"value",value:"%User Sign In Flag%"},{name:"eVar44",type:"value",value:"%Video Session ID_HTML5%"},{name:"eVar17",type:"value",value:"%Video Player Name_HTML5%"},{name:"eVar67",type:"value",value:"%Video Player Name:Version_HTML5%"},{name:"eVar14",type:"value",value:"%Video Broadcast Date Offset_HTML5%"},{name:"eVar76",type:"value",value:"%Device TimeStamp%"},{name:"eVar28",type:"value",value:"%Video Error Message_HTML5%"},{name:"eVar42",type:"value",value:"%Video Error Code_HTML5%"},{name:"eVar43",type:"value",value:"%Video Error Category_HTML5%"},{name:"eVar70",type:"value",value:"%Video Error Dev Category_HTML5%"},{name:"eVar52",type:"value",value:"%Video Event Flag_Player State Change_HTML5%"},{name:"eVar57",type:"value",value:"%Taste Segment%"},{name:"eVar77",type:"value",value:"online"},{name:"eVar79",type:"value",value:"%Video Error Sandbox_HTML5%"}],props:[{name:"prop37",type:"alias",value:"eVar37"},{name:"prop45",type:"alias",value:"eVar45"},{name:"prop1",type:"alias",value:"eVar1"},{name:"prop2",type:"alias",value:"eVar2"},{name:"prop3",type:"alias",value:"eVar3"},{name:"prop6",type:"alias",value:"eVar6"},{name:"prop18",type:"alias",value:"eVar18"},{name:"prop27",type:"alias",value:"eVar27"},{name:"prop34",type:"alias",value:"eVar34"},{name:"prop44",type:"alias",value:"eVar44"},{name:"prop17",type:"alias",value:"eVar17"},{name:"prop67",type:"alias",value:"eVar67"},{name:"prop14",type:"alias",value:"eVar14"},{name:"prop28",type:"alias",value:"eVar28"},{name:"prop42",type:"alias",value:"eVar42"},{name:"prop43",type:"alias",value:"eVar43"},{name:"prop70",type:"alias",value:"eVar70"},{name:"prop52",type:"alias",value:"eVar52"},{name:"prop57",type:"alias",value:"eVar57"}],events:[{name:"event25"},{name:"event130"}],channel:"%Channel%",pageURL:"%Page URL%"}}},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"all4.video_error",linkType:"o"}}]},{id:"RLf93c6de26e01430fbb2ba4314bbd7925",name:"_My4 Watching / My List / History delete",events:[{modulePath:"core/src/lib/events/dataElementChange.js",settings:{name:"DataLayer Events Array"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"matchesRegex",caseInsensitive:!0},leftOperand:"%DataLayer Events Last Event Name%",rightOperand:"watching_delete|history_delete|my_list_delete"}}],actions:[{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{}},{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{trackerProperties:{eVars:[{name:"eVar31",type:"value",value:"%My4 General Interaction Type%:%My4 General Interaction Name%"},{name:"eVar1",type:"value",value:"%Site Name%"},{name:"eVar2",type:"value",value:"%Page Name - 2 levels only%"},{name:"eVar3",type:"value",value:"%Page Name - 3 levels only%"},{name:"eVar26",type:"value",value:"event31"},{name:"eVar34",type:"value",value:"%User Sign In Flag%"},{name:"eVar37",type:"value",value:"%User GUID%"}],props:[{name:"prop31",type:"alias",value:"eVar31"},{name:"prop1",type:"alias",value:"eVar1"},{name:"prop2",type:"alias",value:"eVar2"},{name:"prop3",type:"alias",value:"eVar3"},{name:"prop26",type:"alias",value:"eVar26"},{name:"prop34",type:"alias",value:"eVar34"},{name:"prop37",type:"alias",value:"eVar37"}],events:[{name:"event31"}],server:"%Server%",channel:"%Channel%",pageURL:"%Page URL%"}}},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"%My4 General Interaction Type%:%My4 General Interaction Name%",linkType:"o"}}]},{id:"RLdb5e7a1b4edb447b82560e54020c94a7",name:"_Brightcove Player Listener",events:[{modulePath:"core/src/lib/events/dataElementChange.js",settings:{name:"BC_Flag"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"matchesRegex",caseInsensitive:!0},leftOperand:"%BC_Flag%",rightOperand:"vjs_video_3_html5_api"}}],actions:[{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{}},{modulePath:"core/src/lib/actions/customCode.js",settings:{global:!0,source:"https://static.c4assets.com/all4-dtm/latest/8a7c8783bfdc/RC72580dc58efb4d1f8e8de46cd9020c4a-source.js",language:"javascript",isExternal:!0}}]},{id:"RL7b333e4987d247f69b102916f4103c1d",name:"4id _pageview close your account",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:'a[id="my4-navigation-close-account"]',bubbleFireIfChildFired:!1},ruleOrder:50}],conditions:[],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://static.c4assets.com/all4-dtm/latest/8a7c8783bfdc/RCcfc28cd165974e19a76bfb33e8a59720-source.js",language:"javascript",isExternal:!0}}]},{id:"RL8f0bada77a65403082e9ac62edd07776",name:"_HTML5_VOD_Audio_Desc.",events:[{modulePath:"core/src/lib/events/dataElementChange.js",settings:{name:"Video Event Flag_Video Interaction_HTML5"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"matchesRegex",caseInsensitive:!0},leftOperand:"%Video Event Flag_Video Interaction_HTML5%",rightOperand:"video_interaction_audio"}}],actions:[{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{}},{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,a){a.linkTrackVars=a.linkTrackVars+",eVar26,prop26,products",a.eVar26=a.events,a.products=_satellite.getVar("Video Product String_HTML5"),a.eVar52||(a.eVar52="embedded")}},trackerProperties:{eVars:[{name:"eVar37",type:"value",value:"%User GUID%"},{name:"eVar45",type:"value",value:"%User Cookie s_vi%"},{name:"eVar1",type:"value",value:"%Site Name%"},{name:"eVar2",type:"value",value:"%Page Name - 2 levels only%"},{name:"eVar3",type:"value",value:"%Page Name - 3 levels only%"},{name:"eVar6",type:"value",value:"%Video Programme Brand_HTML5%"},{name:"eVar18",type:"value",value:"%Page URL%"},{name:"eVar27",type:"value",value:"%Page Title%"},{name:"eVar34",type:"value",value:"%User Sign In Flag%"},{name:"eVar44",type:"value",value:"%Video Session ID_HTML5%"},{name:"eVar17",type:"value",value:"%Video Player Name_HTML5%"},{name:"eVar67",type:"value",value:"%Video Player Name:Version_HTML5%"},{name:"eVar14",type:"value",value:"%Video Broadcast Date Offset_HTML5%"},{name:"eVar77",type:"value",value:"online"},{name:"eVar76",type:"value",value:"%Device TimeStamp%"},{name:"eVar52",type:"value",value:"%Video Event Flag_Player State Change_HTML5%"},{name:"eVar32",type:"value",value:"%Video Interaction Name_HTML5%"},{name:"eVar57",type:"value",value:"%Taste Segment%"}],props:[{name:"prop37",type:"alias",value:"eVar37"},{name:"prop45",type:"alias",value:"eVar45"},{name:"prop1",type:"alias",value:"eVar1"},{name:"prop2",type:"alias",value:"eVar2"},{name:"prop3",type:"alias",value:"eVar3"},{name:"prop6",type:"alias",value:"eVar6"},{name:"prop18",type:"alias",value:"eVar18"},{name:"prop27",type:"alias",value:"eVar27"},{name:"prop34",type:"alias",value:"eVar34"},{name:"prop44",type:"alias",value:"eVar44"},{name:"prop17",type:"alias",value:"eVar17"},{name:"prop67",type:"alias",value:"eVar67"},{name:"prop14",type:"alias",value:"eVar14"},{name:"prop52",type:"alias",value:"eVar52"},{name:"prop32",type:"alias",value:"eVar32"},{name:"prop57",type:"alias",value:"eVar57"}],events:[{name:"event83"}],channel:"%Channel%",pageURL:"%Page URL%"}}},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"all4.video_audio_described",linkType:"o"}}]},{id:"RL9f73abc0235d4d17bd30357e50dc5f59",name:"_HTML5_VOD_Video_Completion_Credit_Flag",events:[{modulePath:"core/src/lib/events/dataElementChange.js",settings:{name:"Video Event Flag_Completion_HTML5_Credit_Flag"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"matchesRegex",caseInsensitive:!0},leftOperand:"%Video Event Flag_Completion_HTML5_Credit_Flag%",rightOperand:"video_completion_flag"}}],actions:[{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{}},{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,a){a.linkTrackVars=a.linkTrackVars+",eVar26,prop26,products",a.eVar26=a.events,a.products=_satellite.getVar("Video Product String_HTML5"),a.eVar52||(a.eVar52="embedded")}},trackerProperties:{eVars:[{name:"eVar37",type:"value",value:"%User GUID%"},{name:"eVar45",type:"value",value:"%User Cookie s_vi%"},{name:"eVar1",type:"value",value:"%Site Name%"},{name:"eVar2",type:"value",value:"%Page Name - 2 levels only%"},{name:"eVar3",type:"value",value:"%Page Name - 3 levels only%"},{name:"eVar6",type:"value",value:"%Video Programme Brand_HTML5%"},{name:"eVar18",type:"value",value:"%Page URL%"},{name:"eVar27",type:"value",value:"%Page Title%"},{name:"eVar34",type:"value",value:"%User Sign In Flag%"},{name:"eVar44",type:"value",value:"%Video Session ID_HTML5%"},{name:"eVar17",type:"value",value:"%Video Player Name_HTML5%"},{name:"eVar67",type:"value",value:"%Video Player Name:Version_HTML5%"},{name:"eVar14",type:"value",value:"%Video Broadcast Date Offset_HTML5%"},{name:"eVar77",type:"value",value:"online"},{name:"eVar76",type:"value",value:"%Device TimeStamp%"},{name:"eVar52",type:"value",value:"%Video Event Flag_Player State Change_HTML5%"},{name:"eVar64",type:"value",value:"%Video Completion Position_HTML5%"},{name:"eVar57",type:"value",value:"%Taste Segment%"}],props:[{name:"prop37",type:"alias",value:"eVar37"},{name:"prop45",type:"alias",value:"eVar45"},{name:"prop1",type:"alias",value:"eVar1"},{name:"prop2",type:"alias",value:"eVar2"},{name:"prop3",type:"alias",value:"eVar3"},{name:"prop6",type:"alias",value:"eVar6"},{name:"prop18",type:"alias",value:"eVar18"},{name:"prop27",type:"alias",value:"eVar27"},{name:"prop34",type:"alias",value:"eVar34"},{name:"prop44",type:"alias",value:"eVar44"},{name:"prop17",type:"alias",value:"eVar17"},{name:"prop67",type:"alias",value:"eVar67"},{name:"prop14",type:"alias",value:"eVar14"},{name:"prop52",type:"alias",value:"eVar52"},{name:"prop64",type:"alias",value:"eVar64"},{name:"prop57",type:"alias",value:"eVar57"}],events:[{name:"event76"},{name:"event14"},{name:"event130"},{name:"event120"}],channel:"%Channel%",pageURL:"%Page URL%"}}},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"all4.video_completion",linkType:"o"}}]},{id:"RL671d77a47c004cb3acf7e6c25f4ab085",name:"_HTML5_VOD_Subtitles",events:[{modulePath:"core/src/lib/events/dataElementChange.js",settings:{name:"Video Event Flag_Video Interaction_HTML5"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"matchesRegex",caseInsensitive:!0},leftOperand:"%Video Event Flag_Video Interaction_HTML5%",rightOperand:"video_interaction_subtitles"}}],actions:[{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{}},{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,a){a.linkTrackVars=a.linkTrackVars+",eVar26,prop26,products",a.eVar26=a.events,a.products=_satellite.getVar("Video Product String_HTML5"),a.eVar52||(a.eVar52="embedded")}},trackerProperties:{eVars:[{name:"eVar37",type:"value",value:"%User GUID%"},{name:"eVar45",type:"value",value:"%User Cookie s_vi%"},{name:"eVar1",type:"value",value:"%Site Name%"},{name:"eVar2",type:"value",value:"%Page Name - 2 levels only%"},{name:"eVar3",type:"value",value:"%Page Name - 3 levels only%"},{name:"eVar6",type:"value",value:"%Video Programme Brand_HTML5%"},{name:"eVar18",type:"value",value:"%Page URL%"},{name:"eVar27",type:"value",value:"%Page Title%"},{name:"eVar34",type:"value",value:"%User Sign In Flag%"},{name:"eVar44",type:"value",value:"%Video Session ID_HTML5%"},{name:"eVar17",type:"value",value:"%Video Player Name_HTML5%"},{name:"eVar67",type:"value",value:"%Video Player Name:Version_HTML5%"},{name:"eVar14",type:"value",value:"%Video Broadcast Date Offset_HTML5%"},{name:"eVar77",type:"value",value:"online"},{name:"eVar76",type:"value",value:"%Device TimeStamp%"},{name:"eVar52",type:"value",value:"%Video Event Flag_Player State Change_HTML5%"},{name:"eVar32",type:"value",value:"%Video Interaction Name_HTML5%"},{name:"eVar57",type:"value",value:"%Taste Segment%"}],props:[{name:"prop37",type:"alias",value:"eVar37"},{name:"prop45",type:"alias",value:"eVar45"},{name:"prop1",type:"alias",value:"eVar1"},{name:"prop2",type:"alias",value:"eVar2"},{name:"prop3",type:"alias",value:"eVar3"},{name:"prop6",type:"alias",value:"eVar6"},{name:"prop18",type:"alias",value:"eVar18"},{name:"prop27",type:"alias",value:"eVar27"},{name:"prop34",type:"alias",value:"eVar34"},{name:"prop44",type:"alias",value:"eVar44"},{name:"prop17",type:"alias",value:"eVar17"},{name:"prop67",type:"alias",value:"eVar67"},{name:"prop14",type:"alias",value:"eVar14"},{name:"prop52",type:"alias",value:"eVar52"},{name:"prop32",type:"alias",value:"eVar32"},{name:"prop57",type:"alias",value:"eVar57"}],events:[{name:"event83"}],channel:"%Channel%",pageURL:"%Page URL%"}}},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"all4.video_subtitles",linkType:"o"}}]},{id:"RLb37ba2165c744ffda1110c4ee49e3500",name:"4id _pageview privacy settings ",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:'a[id="my4-navigation-privacy-settings"]',bubbleFireIfChildFired:!1},ruleOrder:50}],conditions:[],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://static.c4assets.com/all4-dtm/latest/8a7c8783bfdc/RC27908b7a355d473a9f05a70d8354dde1-source.js",language:"javascript",isExternal:!0}}]},{id:"RLb9c3963e1c794fc785f88e89b1d042df",name:"_Pageview (basic - user auth)",events:[{modulePath:"core/src/lib/events/dataElementChange.js",settings:{name:"DataLayer Events Array"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%DataLayer Events Last Event Name%",rightOperand:"user_authenticated"}},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(e,a){if(_satellite.getVar("Page URL").match(/4id\./)||_satellite.getVar("Page URL").match(/tv-guide/))return!0}}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://static.c4assets.com/all4-dtm/latest/8a7c8783bfdc/RC7988dfb60db54987a169e6f12f331163-source.js",language:"javascript",isExternal:!0}}]},{id:"RL2e185707284441388c93eefa2f35d38e",name:"_HTML5_VOD_Video_Resume_Previous",events:[{modulePath:"core/src/lib/events/dataElementChange.js",settings:{name:"Video Event Flag_Resume _HTML5"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"matchesRegex",caseInsensitive:!0},leftOperand:"%Video Event Flag_Resume _HTML5%",rightOperand:"video_resume_previous"}}],actions:[{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{}},{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,a){a.linkTrackVars=a.linkTrackVars+",eVar26,prop26,products",a.eVar26=a.events,a.products=_satellite.getVar("Video Product String_HTML5"),a.eVar52||(a.eVar52="embedded")}},trackerProperties:{eVars:[{name:"eVar37",type:"value",value:"%User GUID%"},{name:"eVar45",type:"value",value:"%User Cookie s_vi%"},{name:"eVar1",type:"value",value:"%Site Name%"},{name:"eVar2",type:"value",value:"%Page Name - 2 levels only%"},{name:"eVar3",type:"value",value:"%Page Name - 3 levels only%"},{name:"eVar6",type:"value",value:"%Video Programme Brand_HTML5%"},{name:"eVar18",type:"value",value:"%Page URL%"},{name:"eVar27",type:"value",value:"%Page Title%"},{name:"eVar34",type:"value",value:"%User Sign In Flag%"},{name:"eVar44",type:"value",value:"%Video Session ID_HTML5%"},{name:"eVar17",type:"value",value:"%Video Player Name_HTML5%"},{name:"eVar67",type:"value",value:"%Video Player Name:Version_HTML5%"},{name:"eVar14",type:"value",value:"%Video Broadcast Date Offset_HTML5%"},{name:"eVar76",type:"value",value:"%Device TimeStamp%"},{name:"eVar77",type:"value",value:"online"},{name:"eVar52",type:"value",value:"%Video Event Flag_Player State Change_HTML5%"}],props:[{name:"prop37",type:"alias",value:"eVar37"},{name:"prop45",type:"alias",value:"eVar45"},{name:"prop1",type:"alias",value:"eVar1"},{name:"prop2",type:"alias",value:"eVar2"},{name:"prop3",type:"alias",value:"eVar3"},{name:"prop6",type:"alias",value:"eVar6"},{name:"prop18",type:"alias",value:"eVar18"},{name:"prop27",type:"alias",value:"eVar27"},{name:"prop34",type:"alias",value:"eVar34"},{name:"prop44",type:"alias",value:"eVar44"},{name:"prop17",type:"alias",value:"eVar17"},{name:"prop67",type:"alias",value:"eVar67"},{name:"prop14",type:"alias",value:"eVar14"},{name:"prop52",type:"alias",value:"eVar52"}],events:[{name:"event48"}],channel:"%Channel%",pageURL:"%Page URL%"}}},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"all4.video_resume",linkType:"o"}}]},{id:"RLc12522f79cb24c38a159b87ef61d651f",name:"4id _pageview personal details",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:'a[id="my4-navigation-personal-details"]',bubbleFireIfChildFired:!1},ruleOrder:50}],conditions:[],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://static.c4assets.com/all4-dtm/latest/8a7c8783bfdc/RCf9b14d04319a4056947db273345c2307-source.js",language:"javascript",isExternal:!0}}]},{id:"RLae04104822b44809b29100f84ab51d1e",name:"_HTML5_VOD_Video_Error_NonFatal - June 05, 2018 05:19:13 AM",events:[{modulePath:"core/src/lib/events/dataElementChange.js",settings:{name:"Video Event Flag_Error_HTML5"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"matchesRegex",caseInsensitive:!0},leftOperand:"%Video Event Flag_Error_HTML5%",rightOperand:"video_error_nonfatal"}}],actions:[{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{}},{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,a){a.linkTrackVars=a.linkTrackVars+",eVar26,prop26,products",a.products=_satellite.getVar("Video Product String_HTML5"),a.eVar26=a.events,"not_set"===a.eVar6&&(a.eVar6=_satellite.getVar("Page Programme Brand").replace(/-/g,"_")),a.eVar52||(a.eVar52="embedded")}},trackerProperties:{eVars:[{name:"eVar37",type:"value",value:"%User GUID%"},{name:"eVar45",type:"value",value:"%User Cookie s_vi%"},{name:"eVar1",type:"value",value:"%Site Name%"},{name:"eVar2",type:"value",value:"%Page Name - 2 levels only%"},{name:"eVar3",type:"value",value:"%Page Name - 3 levels only%"},{name:"eVar6",type:"value",value:"%Video Programme Brand_HTML5%"},{name:"eVar18",type:"value",value:"%Page URL%"},{name:"eVar27",type:"value",value:"%Page Title%"},{name:"eVar34",type:"value",value:"%User Sign In Flag%"},{name:"eVar44",type:"value",value:"%Video Session ID_HTML5%"},{name:"eVar17",type:"value",value:"%Video Player Name_HTML5%"},{name:"eVar67",type:"value",value:"%Video Player Name:Version_HTML5%"},{name:"eVar14",type:"value",value:"%Video Broadcast Date Offset_HTML5%"},{name:"eVar76",type:"value",value:"%Device TimeStamp%"},{name:"eVar28",type:"value",value:"%Video Error Message_HTML5%"},{name:"eVar42",type:"value",value:"%Video Error Code_HTML5%"},{name:"eVar43",type:"value",value:"%Video Error Category_HTML5%"},{name:"eVar70",type:"value",value:"%Video Error Dev Category_HTML5%"},{name:"eVar77",type:"value",value:"online"},{name:"eVar52",type:"value",value:"%Video Event Flag_Player State Change_HTML5%"},{name:"eVar79",type:"value",value:"%Video Error Sandbox_HTML5%"}],props:[{name:"prop37",type:"alias",value:"eVar37"},{name:"prop45",type:"alias",value:"eVar45"},{name:"prop1",type:"alias",value:"eVar1"},{name:"prop2",type:"alias",value:"eVar2"},{name:"prop3",type:"alias",value:"eVar3"},{name:"prop6",type:"alias",value:"eVar6"},{name:"prop18",type:"alias",value:"eVar18"},{name:"prop27",type:"alias",value:"eVar27"},{name:"prop34",type:"alias",value:"eVar34"},{name:"prop44",type:"alias",value:"eVar44"},{name:"prop17",type:"alias",value:"eVar17"},{name:"prop67",type:"alias",value:"eVar67"},{name:"prop14",type:"alias",value:"eVar14"},{name:"prop28",type:"alias",value:"eVar28"},{name:"prop42",type:"alias",value:"eVar42"},{name:"prop43",type:"alias",value:"eVar43"},{name:"prop70",type:"alias",value:"eVar70"},{name:"prop52",type:"alias",value:"eVar52"}],events:[{name:"event24"}],channel:"%Channel%",pageURL:"%Page URL%"}}},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"all4.video_error",linkType:"o"}}]},{id:"RLcec4c774b0d647869a5883587456fd3f",name:"_HTML5_VOD_Video_Resume_New",events:[{modulePath:"core/src/lib/events/dataElementChange.js",settings:{name:"Video Event Flag_Resume _HTML5"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"matchesRegex",caseInsensitive:!0},leftOperand:"%Video Event Flag_Resume _HTML5%",rightOperand:"video_resume_new"}}],actions:[{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{}},{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,a){a.linkTrackVars=a.linkTrackVars+",eVar26,prop26,products",a.eVar26=a.events,a.products=_satellite.getVar("Video Product String_HTML5"),a.eVar52||(a.eVar52="embedded")}},trackerProperties:{eVars:[{name:"eVar37",type:"value",value:"%User GUID%"},{name:"eVar45",type:"value",value:"%User Cookie s_vi%"},{name:"eVar1",type:"value",value:"%Site Name%"},{name:"eVar2",type:"value",value:"%Page Name - 2 levels only%"},{name:"eVar3",type:"value",value:"%Page Name - 3 levels only%"},{name:"eVar6",type:"value",value:"%Video Programme Brand_HTML5%"},{name:"eVar18",type:"value",value:"%Page URL%"},{name:"eVar27",type:"value",value:"%Page Title%"},{name:"eVar34",type:"value",value:"%User Sign In Flag%"},{name:"eVar44",type:"value",value:"%Video Session ID_HTML5%"},{name:"eVar17",type:"value",value:"%Video Player Name_HTML5%"},{name:"eVar67",type:"value",value:"%Video Player Name:Version_HTML5%"},{name:"eVar14",type:"value",value:"%Video Broadcast Date Offset_HTML5%"},{name:"eVar76",type:"value",value:"%Video Event Flag_Player State Change_HTML5%"},{name:"eVar77",type:"value",value:"online"},{name:"eVar57",type:"value",value:"%Taste Segment%"}],props:[{name:"prop37",type:"alias",value:"eVar37"},{name:"prop45",type:"alias",value:"eVar45"},{name:"prop1",type:"alias",value:"eVar1"},{name:"prop2",type:"alias",value:"eVar2"},{name:"prop3",type:"alias",value:"eVar3"},{name:"prop6",type:"alias",value:"eVar6"},{name:"prop18",type:"alias",value:"eVar18"},{name:"prop27",type:"alias",value:"eVar27"},{name:"prop34",type:"alias",value:"eVar34"},{name:"prop44",type:"alias",value:"eVar44"},{name:"prop17",type:"alias",value:"eVar17"},{name:"prop67",type:"alias",value:"eVar67"},{name:"prop14",type:"alias",value:"eVar14"},{name:"prop57",type:"alias",value:"eVar57"}],events:[{name:"event49"},{name:"event11"}],channel:"%Channel%",pageURL:"%Page URL%"}}},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"all4.video_resume",linkType:"o"}}]},{id:"RLa3ad2e54e68140819b45def643d7cdf9",name:"_HTML5_VOD_Video_Milestone_50percent",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"dc-m50"},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{}},{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,a){a.linkTrackVars=a.linkTrackVars+",eVar26,prop26,products",a.eVar26=a.events,a.products=_satellite.getVar("Video Product String_HTML5"),a.eVar52||(a.eVar52="embedded")}},trackerProperties:{eVars:[{name:"eVar37",type:"value",value:"%User GUID%"},{name:"eVar45",type:"value",value:"%User Cookie s_vi%"},{name:"eVar1",type:"value",value:"%Site Name%"},{name:"eVar2",type:"value",value:"%Page Name - 2 levels only%"},{name:"eVar3",type:"value",value:"%Page Name - 3 levels only%"},{name:"eVar6",type:"value",value:"%Video Programme Brand_HTML5%"},{name:"eVar18",type:"value",value:"%Page URL%"},{name:"eVar27",type:"value",value:"%Page Title%"},{name:"eVar34",type:"value",value:"%User Sign In Flag%"},{name:"eVar44",type:"value",value:"%Video Session ID_HTML5%"},{name:"eVar17",type:"value",value:"%Video Player Name_HTML5%"},{name:"eVar67",type:"value",value:"%Video Player Name:Version_HTML5%"},{name:"eVar52",type:"value",value:"%Video Event Flag_Player State Change_HTML5%"},{name:"eVar76",type:"value",value:"%Device TimeStamp%"},{name:"eVar77",type:"value",value:"online"},{name:"eVar57",type:"value",value:"%Taste Segment%"},{name:"eVar14",type:"value",value:"%Video Broadcast Date Offset_HTML5%"}],props:[{name:"prop37",type:"alias",value:"eVar37"},{name:"prop45",type:"alias",value:"eVar45"},{name:"prop1",type:"alias",value:"eVar1"},{name:"prop2",type:"alias",value:"eVar2"},{name:"prop3",type:"alias",value:"eVar3"},{name:"prop6",type:"alias",value:"eVar6"},{name:"prop18",type:"alias",value:"eVar18"},{name:"prop27",type:"alias",value:"eVar27"},{name:"prop34",type:"alias",value:"eVar34"},{name:"prop44",type:"alias",value:"eVar44"},{name:"prop17",type:"alias",value:"eVar17"},{name:"prop67",type:"alias",value:"eVar67"},{name:"prop52",type:"alias",value:"eVar52"},{name:"prop14",type:"alias",value:"eVar14"}],events:[{name:"event130"},{name:"event16"}],channel:"%Channel%",pageURL:"%Page URL%"}}},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"all4.video_milestone",linkType:"o"}}]},{id:"RL4e1419237fed4ca2a30ce868a7aa3bcb",name:"_HTML5_VOD_Video_Pause",events:[{modulePath:"core/src/lib/events/dataElementChange.js",settings:{name:"Video Event Flag_Pause_HTML5"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"matchesRegex",caseInsensitive:!0},leftOperand:"%Video Event Flag_Pause_HTML5%",rightOperand:"video_pause"}}],actions:[{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{}},{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,a){a.linkTrackVars=a.linkTrackVars+",eVar26,prop26,products",a.eVar26=a.events,a.products=_satellite.getVar("Video Product String_HTML5"),a.eVar52||(a.eVar52="embedded"),console.log("LINK"),console.log(a.linkTrackEvents),console.log(a.linkTrackVars)}},trackerProperties:{eVars:[{name:"eVar37",type:"value",value:"%User GUID%"},{name:"eVar45",type:"value",value:"%User Cookie s_vi%"},{name:"eVar1",type:"value",value:"%Site Name%"},{name:"eVar2",type:"value",value:"%Page Name - 2 levels only%"},{name:"eVar3",type:"value",value:"%Page Name - 3 levels only%"},{name:"eVar6",type:"value",value:"%Video Programme Brand_HTML5%"},{name:"eVar18",type:"value",value:"%Page URL%"},{name:"eVar27",type:"value",value:"%Page Title%"},{name:"eVar34",type:"value",value:"%User Sign In Flag%"},{name:"eVar44",type:"value",value:"%Video Session ID_HTML5%"},{name:"eVar17",type:"value",value:"%Video Player Name_HTML5%"},{name:"eVar67",type:"value",value:"%Video Player Name:Version_HTML5%"},{name:"eVar14",type:"value",value:"%Video Broadcast Date Offset_HTML5%"},{name:"eVar76",type:"value",value:"%Device TimeStamp%"},{name:"eVar52",type:"value",value:"%Video Event Flag_Player State Change_HTML5%"},{name:"eVar77",type:"value",value:"online"},{name:"eVar57",type:"value",value:"%Taste Segment%"}],props:[{name:"prop37",type:"alias",value:"eVar37"},{name:"prop45",type:"alias",value:"eVar45"},{name:"prop1",type:"alias",value:"eVar1"},{name:"prop2",type:"alias",value:"eVar2"},{name:"prop3",type:"alias",value:"eVar3"},{name:"prop6",type:"alias",value:"eVar6"},{name:"prop18",type:"alias",value:"eVar18"},{name:"prop27",type:"alias",value:"eVar27"},{name:"prop34",type:"alias",value:"eVar34"},{name:"prop44",type:"alias",value:"eVar44"},{name:"prop17",type:"alias",value:"eVar17"},{name:"prop67",type:"alias",value:"eVar67"},{name:"prop14",type:"alias",value:"eVar14"},{name:"prop52",type:"alias",value:"eVar52"},{name:"prop57",type:"alias",value:"eVar57"}],events:[{name:"event77"},{name:"event130"}],channel:"%Channel%",pageURL:"%Page URL%"}}},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"all4.video_pause",linkType:"o"}}]}]};var _satellite=function(){"use strict";if(window.atob){var e="log",a="info",t="debug",r="warn",n="error",i=10===parseInt((/msie (\d+)/.exec(navigator.userAgent.toLowerCase())||[])[1])?"[Launch]":"",o=!1,s=function(e){if(o&&window.console){var r=Array.prototype.slice.call(arguments,1);r.unshift(i),e!==t||window.console[e]||(e=a),window.console[e].apply(window.console,r)}},l=s.bind(null,e),u=s.bind(null,a),c=s.bind(null,t),p=s.bind(null,r),d=s.bind(null,n),m={log:l,info:u,debug:c,warn:p,error:d,get outputEnabled(){return o},set outputEnabled(e){o=e},createPrefixedLogger:function(e){var a="["+e+"]";return{log:l.bind(null,a),info:u.bind(null,a),debug:c.bind(null,a),warn:p.bind(null,a),error:d.bind(null,a)}}},v=function(e){return"string"==typeof e?e.replace(/\s+/g," ").trim():e},f=fe(function(e,a){!function(a){if(e.exports=a(),!!0){var t=window.Cookies,r=window.Cookies=a();r.noConflict=function(){return window.Cookies=t,r}}}(function(){function e(){for(var e=0,a={};e<arguments.length;e++){var t=arguments[e];for(var r in t)a[r]=t[r]}return a}return function a(t){function r(a,n,i){var o;if("undefined"!=typeof document){if(arguments.length>1){if("number"==typeof(i=e({path:"/"},r.defaults,i)).expires){var s=new Date;s.setMilliseconds(s.getMilliseconds()+864e5*i.expires),i.expires=s}i.expires=i.expires?i.expires.toUTCString():"";try{o=JSON.stringify(n),/^[\{\[]/.test(o)&&(n=o)}catch(e){}n=t.write?t.write(n,a):encodeURIComponent(String(n)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),a=(a=(a=encodeURIComponent(String(a))).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent)).replace(/[\(\)]/g,escape);var l="";for(var u in i)i[u]&&(l+="; "+u,!0!==i[u]&&(l+="="+i[u]));return document.cookie=a+"="+n+l}a||(o={});for(var c=document.cookie?document.cookie.split("; "):[],p=/(%[0-9A-Z]{2})+/g,d=0;d<c.length;d++){var m=c[d].split("="),v=m.slice(1).join("=");'"'===v.charAt(0)&&(v=v.slice(1,-1));try{var f=m[0].replace(p,decodeURIComponent);if(v=t.read?t.read(v,f):t(v,f)||v.replace(p,decodeURIComponent),this.json)try{v=JSON.parse(v)}catch(e){}if(a===f){o=v;break}a||(o[f]=v)}catch(e){}}return o}}return r.set=r,r.get=function(e){return r.call(r,e)},r.getJSON=function(){return r.apply({json:!0},[].slice.call(arguments))},r.defaults={},r.remove=function(a,t){r(a,"",e(t,{expires:-1}))},r.withConverter=a,r}(function(){})})}),g={get:f.get,set:f.set,remove:f.remove},y=window,h=function(e,a){var t="com.adobe.reactor."+(a||"");return{getItem:function(a){try{return y[e].getItem(t+a)}catch(e){return null}},setItem:function(a,r){try{return y[e].setItem(t+a,r),!0}catch(e){return!1}}}},_=h("localStorage"),V=h("sessionStorage","dataElements."),b=h("localStorage","dataElements."),C="pageview",S="session",T="visitor",P={},k=function(e){var a;try{a=JSON.stringify(e)}catch(e){}return a},I=function(e,a,t){var r;switch(a){case C:return void(P[e]=t);case S:return void((r=k(t))&&V.setItem(e,r));case T:return void((r=k(t))&&b.setItem(e,r))}},L=I,w=function(e,a){var t;switch(a){case C:return P.hasOwnProperty(e)?P[e]:null;case S:return null===(t=V.getItem(e))?t:JSON.parse(t);case T:return null===(t=b.getItem(e))?t:JSON.parse(t)}},D=function(e){_.getItem("dataElementCookiesMigrated")||(Object.keys(e).forEach(function(a){!function(e,a){var t=g.get("_sdsat_"+e);void 0!==t&&I(e,a,t)}(a,e[a].storageDuration)}),_.setItem("dataElementCookiesMigrated",!0))},O=function(e,a,t,r){return"Failed to execute data element module "+e.modulePath+" for data element "+a+". "+t+(r?"\n"+r:"")},M=function(e){return void 0!==e&&null!==e},E={text:function(e){return e.textContent},cleanText:function(e){return v(e.textContent)}},A=function(e,a,t){for(var r,n=e,i=0,o=a.length;i<o;i++){if(null==n)return;var s=a[i];if(t&&"@"===s.charAt(0)){var l=s.slice(1);n=E[l](n)}else if(n.getAttribute&&(r=s.match(/^getAttribute\((.+)\)$/))){var u=r[1];n=n.getAttribute(u)}else n=n[s]}return n},j=document,N=setTimeout;he.prototype.catch=function(e){return this.then(null,e)},he.prototype.then=function(e,a){var t=new this.constructor(ye);return _e(this,new function(e,a,t){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof a?a:null,this.promise=t}(e,a,t)),t},he.prototype.finally=function(e){var a=this.constructor;return this.then(function(t){return a.resolve(e()).then(function(){return t})},function(t){return a.resolve(e()).then(function(){return a.reject(t)})})},he.all=function(e){return new he(function(a,t){if(!ge(e))return t(new TypeError("Promise.all accepts an array"));var r=Array.prototype.slice.call(e);if(0===r.length)return a([]);var n=r.length;function i(e,o){try{if(o&&("object"==typeof o||"function"==typeof o)){var s=o.then;if("function"==typeof s)return void s.call(o,function(a){i(e,a)},t)}r[e]=o,0==--n&&a(r)}catch(e){t(e)}}for(var o=0;o<r.length;o++)i(o,r[o])})},he.resolve=function(e){return e&&"object"==typeof e&&e.constructor===he?e:new he(function(a){a(e)})},he.reject=function(e){return new he(function(a,t){t(e)})},he.race=function(e){return new he(function(a,t){if(!ge(e))return t(new TypeError("Promise.race accepts an array"));for(var r=0,n=e.length;r<n;r++)he.resolve(e[r]).then(a,t)})},he._immediateFn="function"==typeof setImmediate&&function(e){setImmediate(e)}||function(e){N(e,0)},he._unhandledRejectionFn=function(e){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",e)};var x,R,H,U=Object.freeze({default:he}),F=U&&he||U,B=window.Promise||F.default||F,J=Object.getOwnPropertySymbols,G=Object.prototype.hasOwnProperty,q=Object.prototype.propertyIsEnumerable,W=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var a={},t=0;t<10;t++)a["_"+String.fromCharCode(t)]=t;if("0123456789"!==Object.getOwnPropertyNames(a).map(function(e){return a[e]}).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach(function(e){r[e]=e}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(e){return!1}}()?Object.assign:function(e,a){for(var t,r,n=function(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}(e),i=1;i<arguments.length;i++){for(var o in t=Object(arguments[i]))G.call(t,o)&&(n[o]=t[o]);if(J){r=J(t);for(var s=0;s<r.length;s++)q.call(t,r[s])&&(n[r[s]]=t[r[s]])}}return n},z=function(e,a,t,r){a=a||"&",t=t||"=";var n={};if("string"!=typeof e||0===e.length)return n;var i=/\+/g;e=e.split(a);var o=1e3;r&&"number"==typeof r.maxKeys&&(o=r.maxKeys);var s=e.length;o>0&&s>o&&(s=o);for(var l=0;l<s;++l){var u,c,p,d,m=e[l].replace(i,"%20"),v=m.indexOf(t);v>=0?(u=m.substr(0,v),c=m.substr(v+1)):(u=m,c=""),p=decodeURIComponent(u),d=decodeURIComponent(c),Te(n,p)?Array.isArray(n[p])?n[p].push(d):n[p]=[n[p],d]:n[p]=d}return n},$=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}},Y=function(e,a,t,r){return a=a||"&",t=t||"=",null===e&&(e=void 0),"object"==typeof e?Object.keys(e).map(function(r){var n=encodeURIComponent($(r))+t;return Array.isArray(e[r])?e[r].map(function(e){return n+encodeURIComponent($(e))}).join(a):n+encodeURIComponent($(e[r]))}).join(a):r?encodeURIComponent($(r))+t+encodeURIComponent($(e)):""},Q=fe(function(e,a){a.decode=a.parse=z,a.encode=a.stringify=Y}),K={cookie:g,document:j,"load-script":function(e){var a=document.createElement("script");a.src=e,a.async=!0;var t=function(e,a){return new B(function(t,r){a.onload=function(){t(a)},a.onerror=function(){r(new Error("Failed to load script "+e))}})}(e,a);return document.getElementsByTagName("head")[0].appendChild(a),t},"object-assign":W,promise:B,"query-string":{parse:function(e){return"string"==typeof e&&(e=e.trim().replace(/^[?#&]/,"")),Q.parse(e)},stringify:function(e){return Q.stringify(e)}},window:y},X=!1,Z=h("localStorage"),ee=h("sessionStorage"),ae=!1,te=window._satellite;if(te&&!window.__satelliteLoaded){window.__satelliteLoaded=!0;var re=te.container;delete te.container;var ne=re.property.settings.undefinedVarsReturnEmpty,ie=re.dataElements||{};D(ie);var oe,se=function(e){return ie[e]},le=(x={},R=function(e){var a=x[e];if(!a)throw new Error("Module "+e+" not found.");return a},{registerModule:function(e,a,t,r,n){var i={definition:a,extensionName:t,require:r,turbine:n};i.require=r,x[e]=i},hydrateCache:function(){Object.keys(x).forEach(function(e){try{H(e)}catch(t){var a="Error initializing module "+e+". "+t.message+(t.stack?"\n"+t.stack:"");m.error(a)}})},getModuleExports:H=function(e){var a=R(e);return a.hasOwnProperty("exports")||(a.exports=function(e,a,t){var r={exports:{}};return e.call(r.exports,r,r.exports,a,t),r.exports}(a.definition.script,a.require,a.turbine)),a.exports},getModuleDefinition:function(e){return R(e).definition},getModuleExtensionName:function(e){return R(e).extensionName}}),ue=function(e,a,t,r){return function(n,i){var o=a(n);if(!o)return r?"":null;var s,l=o.storageDuration;try{s=e.getModuleExports(o.modulePath)}catch(e){return void m.error(O(o,n,e.message,e.stack))}if("function"==typeof s){var u;try{u=s(t(o.settings,i),i)}catch(e){return void m.error(O(o,n,e.message,e.stack))}return l&&(M(u)?L(n,l,u):u=w(n,l)),M(u)||(u=o.defaultValue||""),"string"==typeof u&&(o.cleanText&&(u=v(u)),o.forceLowerCase&&(u=u.toLowerCase())),u}m.error(O(o,n,"Module did not export a function."))}}(le,se,function(){return oe.apply(null,arguments)},ne),ce={},pe=function(e){return function(){if("string"==typeof arguments[0])e[arguments[0]]=arguments[1];else if(arguments[0]){var a=arguments[0];for(var t in a)e[t]=a[t]}}}(ce),de=function(e,a){return function(t){var r=t.split(".")[0];return Boolean(a(t)||"this"===r||"event"===r||"target"===r||e.hasOwnProperty(r))}}(ce,se),me=function(e,a,t){return function(r,n){var i;if(a(r))i=t(r,n);else{var o=r.split("."),s=o.shift();"this"===s?n&&(i=A(n.element,o,!0)):"event"===s?n&&(i=A(n,o)):"target"===s?n&&(i=A(n.target,o)):i=A(e[s],o)}return i}}(ce,se,ue);oe=function(e,a,t){var r,n,i,o,s=[],l=function(r,n,i){if(!e(n))return r;s.push(n);var o=a(n,i);return s.pop(),null==o&&t?"":o};return r=function(e,a){var t=/^%([^%]+)%$/.exec(e);return t?l(e,t[1],a):e.replace(/%(.+?)%/g,function(e,t){return l(e,t,a)})},n=function(e,a){for(var t={},r=Object.keys(e),n=0;n<r.length;n++){var i=r[n],s=e[i];t[i]=o(s,a)}return t},i=function(e,a){for(var t=[],r=0,n=e.length;r<n;r++)t.push(o(e[r],a));return t},o=function(e,a){return"string"==typeof e?r(e,a):Array.isArray(e)?i(e,a):"object"==typeof e&&null!==e?n(e,a):e},function(e,a){return s.length>10?(m.error("Data element circular reference detected: "+s.join(" -> ")),e):o(e,a)}}(de,me,ne);var ve=h("localStorage");m.outputEnabled="true"===ve.getItem("debug"),function(e,a,t,r,n){var i=m.createPrefixedLogger("Custom Script");e.track=function(e){m.log('"'+e+'" does not match any direct call identifiers.')},e.getVisitorId=function(){return null},e.property={name:a.property.name},e.company=a.company,e.buildInfo=a.buildInfo,e.logger=i,e.notify=function(e,a){switch(m.warn("_satellite.notify is deprecated. Please use the `_satellite.logger` API."),a){case 3:i.info(e);break;case 4:i.warn(e);break;case 5:i.error(e);break;default:i.log(e)}},e.getVar=r,e.setVar=n,e.setCookie=function(e,a,t){var r="",n={};t&&(r=", { expires: "+t+" }",n.expires=t);var i='_satellite.setCookie is deprecated. Please use _satellite.cookie.set("'+e+'", "'+a+'"'+r+").";m.warn(i),g.set(e,a,n)},e.readCookie=function(e){return m.warn('_satellite.readCookie is deprecated. Please use _satellite.cookie.get("'+e+'").'),g.get(e)},e.removeCookie=function(e){m.warn('_satellite.removeCookie is deprecated. Please use _satellite.cookie.remove("'+e+'").'),g.remove(e)},e.cookie=g,e.pageBottom=function(){},e.setDebug=t;var o=!1;Object.defineProperty(e,"_container",{get:function(){return o||(m.warn("_satellite._container may change at any time and should only be used for debugging."),o=!0),a}})}(te,re,function(e){ve.setItem("debug",e),m.outputEnabled=e},me,pe),function(e,a,t,r){var n=e.extensions,i=e.buildInfo,o=e.property.settings;if(n){var s=function(e,a){return function(t,r){var n=e[t];if(n){var i=n.modules;if(i)for(var o=Object.keys(i),s=0;s<o.length;s++){var l=o[s],u=i[l];if(u.shared&&u.name===r)return a.getModuleExports(l)}}}}(n,a);Object.keys(n).forEach(function(e){var l,u,c=n[e],p=function(e,a){return function(){return a?e(a):{}}}(t,c.settings);if(c.modules){var d=m.createPrefixedLogger(c.displayName),v=(l=c.hostedLibFilesBaseUrl,u=i.minified,function(e){if(u){var a=e.split(".");a.splice(a.length-1||1,0,"min"),e=a.join(".")}return l+e}),f={buildInfo:i,getDataElementValue:r,getExtensionSettings:p,getHostedLibFileUrl:v,getSharedModule:s,logger:d,propertySettings:o,replaceTokens:t};Object.keys(c.modules).forEach(function(t){var r=c.modules[t],n=function(e){return function(a){if(0===a.indexOf("@adobe/reactor-")){var t=a.substr("@adobe/reactor-".length),r=K[t];if(r)return r}if(0===a.indexOf("./")||0===a.indexOf("../"))return e(a);throw new Error('Cannot resolve module "'+a+'".')}}(function(e){var r=function(e,a){var t,r;r=".js",-1===(t=a).indexOf(r,t.length-r.length)&&(a+=".js");var n,i=a.split("/"),o=(n=e,n.substr(0,n.lastIndexOf("/"))).split("/");return i.forEach(function(e){e&&"."!==e&&(".."===e?o.length&&o.pop():o.push(e))}),o.join("/")}(t,e);return a.getModuleExports(r)});a.registerModule(t,r,e,n,f)})}}),a.hydrateCache()}}(re,le,oe,ue),function(e,a,t,r){var n=B.resolve(),i=function(e){return function(a,t){var r=e._monitors;r&&(X||(m.warn("The _satellite._monitors API may change at any time and should only be used for debugging."),X=!0),r.forEach(function(e){e[a]&&e[a](t)}))}}(e),o=function(e,a){return function(t,r,n){n=n||[];var i=e.getModuleExports(t.modulePath);if("function"!=typeof i)throw new Error("Module did not export a function.");var o=a(t.settings||{},r);return i.bind(null,o).apply(null,n)}}(t,r),s=function(e){var a=t.getModuleDefinition(e.modulePath);return a&&a.displayName||e.modulePath},l=function(e,a,t,r){return"Failed to execute "+s(e)+" for "+a.name+" rule. "+t+(r?"\n"+r:"")},u=function(e,a,t){m.error(l(e,a,t.message,t.stack)),i("ruleActionFailed",{rule:a,action:e})},c=function(e,a,t){m.error(l(e,a,t.message,t.stack)),i("ruleConditionFailed",{rule:a,condition:e})},p=function(e,a){var t=s(e);m.log("Condition "+t+" for rule "+a.name+" not met."),i("ruleConditionFailed",{rule:a,condition:e})},d=function(e){m.log('Rule "'+e.name+'" fired.'),i("ruleCompleted",{rule:e})},v=function(e){return e||(e=new Error("The extension triggered an error, but no error information was provided.")),e instanceof Error||(e=new Error(String(e))),e},f=function(e,a){return a&&!e.negate||!a&&e.negate},g=function(e,a){var t;if(e.actions)for(var r=0;r<e.actions.length;r++){t=e.actions[r];try{o(t,a,[a])}catch(a){return void u(t,e,a)}}d(e)},y=!1,h=[];(function(e){var a=[];return e.forEach(function(e){e.events&&e.events.forEach(function(t){a.push({rule:e,event:t})})}),a.sort(function(e,a){return e.event.ruleOrder-a.event.ruleOrder})})(a).forEach(function(e){var a,r=e.rule,s=e.event;s.settings=s.settings||{};try{a=t.getModuleDefinition(s.modulePath).name;var _={$type:t.getModuleExtensionName(s.modulePath)+"."+a,$rule:{id:r.id,name:r.name}},V=function(e){if(y){i("ruleTriggered",{rule:r});var a=function(e,a){return W(a=a||{},e),a.hasOwnProperty("type")||Object.defineProperty(a,"type",{get:function(){return m.warn("Accessing event.type in Adobe Launch has been deprecated and will be removed soon. Please use event.$type instead."),a.$type}}),a}(_,e);Boolean(Z.getItem("queue")||ee.getItem("queue"))?(ae||(ae=!0,m.warn("Rule queueing is only intended for testing purposes. Queueing behavior may be changed or removed at any time.")),function(e,a){e.conditions&&e.conditions.forEach(function(t){n=n.then(function(){var r;return new B(function(e,n){r=setTimeout(function(){n("A timeout occurred because the condition took longer than 2 seconds to complete. ")},2e3),B.resolve(o(t,a,[a])).then(e,n)}).catch(function(a){return clearTimeout(r),a=v(a),c(t,e,a),B.reject(a)}).then(function(a){if(clearTimeout(r),!f(t,a))return p(t,e),B.reject()})})}),e.actions&&e.actions.forEach(function(t){n=n.then(function(){var r;return new B(function(e,n){r=setTimeout(function(){n("A timeout occurred because the action took longer than 2 seconds to complete. ")},2e3),B.resolve(o(t,a,[a])).then(e,n)}).then(function(){clearTimeout(r)}).catch(function(a){return clearTimeout(r),a=v(a),u(t,e,a),B.reject(a)})})}),n=(n=n.then(function(){d(e)})).catch(function(){})}(r,a)):function(e,a){var t;if(e.conditions)for(var r=0;r<e.conditions.length;r++){t=e.conditions[r];try{var n=o(t,a,[a]);if(!f(t,n))return void p(t,e)}catch(a){return void c(t,e,a)}}g(e,a)}(r,a)}else h.push(V.bind(null,e))};o(s,null,[V])}catch(e){m.error(l(s,r,e.message,e.stack))}}),y=!0,h.forEach(function(e){e()}),h=null}(te,re.rules||[],le,oe)}return te}function fe(e,a){return e(a={exports:{}},a.exports),a.exports}function ge(e){return Boolean(e&&void 0!==e.length)}function ye(){}function he(e){if(!(this instanceof he))throw new TypeError("Promises must be constructed via new");if("function"!=typeof e)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],Se(e,this)}function _e(e,a){for(;3===e._state;)e=e._value;0!==e._state?(e._handled=!0,he._immediateFn(function(){var t=1===e._state?a.onFulfilled:a.onRejected;if(null!==t){var r;try{r=t(e._value)}catch(e){return void be(a.promise,e)}Ve(a.promise,r)}else(1===e._state?Ve:be)(a.promise,e._value)})):e._deferreds.push(a)}function Ve(e,a){try{if(a===e)throw new TypeError("A promise cannot be resolved with itself.");if(a&&("object"==typeof a||"function"==typeof a)){var t=a.then;if(a instanceof he)return e._state=3,e._value=a,void Ce(e);if("function"==typeof t)return void Se((r=t,n=a,function(){r.apply(n,arguments)}),e)}e._state=1,e._value=a,Ce(e)}catch(a){be(e,a)}var r,n}function be(e,a){e._state=2,e._value=a,Ce(e)}function Ce(e){2===e._state&&0===e._deferreds.length&&he._immediateFn(function(){e._handled||he._unhandledRejectionFn(e._value)});for(var a=0,t=e._deferreds.length;a<t;a++)_e(e,e._deferreds[a]);e._deferreds=null}function Se(e,a){var t=!1;try{e(function(e){t||(t=!0,Ve(a,e))},function(e){t||(t=!0,be(a,e))})}catch(e){if(t)return;t=!0,be(a,e)}}function Te(e,a){return Object.prototype.hasOwnProperty.call(e,a)}console.warn("Adobe Launch is unsupported in IE 9 and below.")}();